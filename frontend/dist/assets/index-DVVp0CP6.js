function _j(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function Aj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ug={exports:{}},kc={},hg={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=Symbol.for("react.element"),Pj=Symbol.for("react.portal"),Rj=Symbol.for("react.fragment"),Lj=Symbol.for("react.strict_mode"),Dj=Symbol.for("react.profiler"),Oj=Symbol.for("react.provider"),Mj=Symbol.for("react.context"),Ij=Symbol.for("react.forward_ref"),Fj=Symbol.for("react.suspense"),Vj=Symbol.for("react.memo"),$j=Symbol.for("react.lazy"),Pm=Symbol.iterator;function Bj(e){return e===null||typeof e!="object"?null:(e=Pm&&e[Pm]||e["@@iterator"],typeof e=="function"?e:null)}var fg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mg=Object.assign,pg={};function Da(e,t,s){this.props=e,this.context=t,this.refs=pg,this.updater=s||fg}Da.prototype.isReactComponent={};Da.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Da.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xg(){}xg.prototype=Da.prototype;function $h(e,t,s){this.props=e,this.context=t,this.refs=pg,this.updater=s||fg}var Bh=$h.prototype=new xg;Bh.constructor=$h;mg(Bh,Da.prototype);Bh.isPureReactComponent=!0;var Rm=Array.isArray,gg=Object.prototype.hasOwnProperty,Uh={current:null},yg={key:!0,ref:!0,__self:!0,__source:!0};function vg(e,t,s){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)gg.call(t,r)&&!yg.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:ro,type:e,key:i,ref:o,props:a,_owner:Uh.current}}function Uj(e,t){return{$$typeof:ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ro}function zj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Lm=/\/+/g;function cd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zj(""+e.key):t.toString(36)}function nl(e,t,s,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ro:case Pj:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+cd(o,0):r,Rm(a)?(s="",e!=null&&(s=e.replace(Lm,"$&/")+"/"),nl(a,t,s,"",function(d){return d})):a!=null&&(zh(a)&&(a=Uj(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Lm,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",Rm(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+cd(i,l);o+=nl(i,t,s,c,a)}else if(c=Bj(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+cd(i,l++),o+=nl(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ao(e,t,s){if(e==null)return e;var r=[],a=0;return nl(e,r,"","",function(i){return t.call(s,i,a++)}),r}function Hj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},al={transition:null},Wj={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:al,ReactCurrentOwner:Uh};function bg(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Ao,forEach:function(e,t,s){Ao(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ao(e,function(){t++}),t},toArray:function(e){return Ao(e,function(t){return t})||[]},only:function(e){if(!zh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Da;ye.Fragment=Rj;ye.Profiler=Dj;ye.PureComponent=$h;ye.StrictMode=Lj;ye.Suspense=Fj;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wj;ye.act=bg;ye.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mg({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Uh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gg.call(t,c)&&!yg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ro,type:e.type,key:a,ref:i,props:r,_owner:o}};ye.createContext=function(e){return e={$$typeof:Mj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Oj,_context:e},e.Consumer=e};ye.createElement=vg;ye.createFactory=function(e){var t=vg.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:Ij,render:e}};ye.isValidElement=zh;ye.lazy=function(e){return{$$typeof:$j,_payload:{_status:-1,_result:e},_init:Hj}};ye.memo=function(e,t){return{$$typeof:Vj,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};ye.unstable_act=bg;ye.useCallback=function(e,t){return Ot.current.useCallback(e,t)};ye.useContext=function(e){return Ot.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Ot.current.useEffect(e,t)};ye.useId=function(){return Ot.current.useId()};ye.useImperativeHandle=function(e,t,s){return Ot.current.useImperativeHandle(e,t,s)};ye.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Ot.current.useMemo(e,t)};ye.useReducer=function(e,t,s){return Ot.current.useReducer(e,t,s)};ye.useRef=function(e){return Ot.current.useRef(e)};ye.useState=function(e){return Ot.current.useState(e)};ye.useSyncExternalStore=function(e,t,s){return Ot.current.useSyncExternalStore(e,t,s)};ye.useTransition=function(){return Ot.current.useTransition()};ye.version="18.3.1";hg.exports=ye;var m=hg.exports;const nt=Aj(m),qj=_j({__proto__:null,default:nt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj=m,Zj=Symbol.for("react.element"),Kj=Symbol.for("react.fragment"),Qj=Object.prototype.hasOwnProperty,Yj=Gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xj={key:!0,ref:!0,__self:!0,__source:!0};function jg(e,t,s){var r,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Qj.call(t,r)&&!Xj.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Zj,type:e,key:i,ref:o,props:a,_owner:Yj.current}}kc.Fragment=Kj;kc.jsx=jg;kc.jsxs=jg;ug.exports=kc;var n=ug.exports,ou={},wg={exports:{}},ts={},kg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,Z){var P=D.length;D.push(Z);e:for(;0<P;){var z=P-1>>>1,ie=D[z];if(0<a(ie,Z))D[z]=Z,D[P]=ie,P=z;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Z=D[0],P=D.pop();if(P!==Z){D[0]=P;e:for(var z=0,ie=D.length,Ce=ie>>>1;z<Ce;){var ve=2*(z+1)-1,qe=D[ve],Ve=ve+1,st=D[Ve];if(0>a(qe,P))Ve<ie&&0>a(st,qe)?(D[z]=st,D[Ve]=P,z=Ve):(D[z]=qe,D[ve]=P,z=ve);else if(Ve<ie&&0>a(st,P))D[z]=st,D[Ve]=P,z=Ve;else break e}}return Z}function a(D,Z){var P=D.sortIndex-Z.sortIndex;return P!==0?P:D.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,y=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var Z=s(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=D)r(d),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=s(d)}}function j(D){if(v=!1,x(D),!g)if(s(c)!==null)g=!0,Y(k);else{var Z=s(d);Z!==null&&$(j,Z.startTime-D)}}function k(D,Z){g=!1,v&&(v=!1,b(C),C=-1),y=!0;var P=f;try{for(x(Z),h=s(c);h!==null&&(!(h.expirationTime>Z)||D&&!U());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var ie=z(h.expirationTime<=Z);Z=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===s(c)&&r(c),x(Z)}else r(c);h=s(c)}if(h!==null)var Ce=!0;else{var ve=s(d);ve!==null&&$(j,ve.startTime-Z),Ce=!1}return Ce}finally{h=null,f=P,y=!1}}var N=!1,S=null,C=-1,L=5,V=-1;function U(){return!(e.unstable_now()-V<L)}function T(){if(S!==null){var D=e.unstable_now();V=D;var Z=!0;try{Z=S(!0,D)}finally{Z?E():(N=!1,S=null)}}else N=!1}var E;if(typeof p=="function")E=function(){p(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=T,E=function(){X.postMessage(null)}}else E=function(){w(T,0)};function Y(D){S=D,N||(N=!0,E())}function $(D,Z){C=w(function(){D(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,Y(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var P=f;f=Z;try{return D()}finally{f=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,Z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=f;f=D;try{return Z()}finally{f=P}},e.unstable_scheduleCallback=function(D,Z,P){var z=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?z+P:z):P=z,D){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=P+ie,D={id:u++,callback:Z,priorityLevel:D,startTime:P,expirationTime:ie,sortIndex:-1},P>z?(D.sortIndex=P,t(d,D),s(c)===null&&D===s(d)&&(v?(b(C),C=-1):v=!0,$(j,P-z))):(D.sortIndex=ie,t(c,D),g||y||(g=!0,Y(k))),D},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(D){var Z=f;return function(){var P=f;f=Z;try{return D.apply(this,arguments)}finally{f=P}}}})(Ng);kg.exports=Ng;var Jj=kg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=m,Xt=Jj;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cg=new Set,Ai={};function Fn(e,t){ya(e,t),ya(e+"Capture",t)}function ya(e,t){for(Ai[e]=t,e=0;e<t.length;e++)Cg.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=Object.prototype.hasOwnProperty,tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dm={},Om={};function sw(e){return lu.call(Om,e)?!0:lu.call(Dm,e)?!1:tw.test(e)?Om[e]=!0:(Dm[e]=!0,!1)}function rw(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nw(e,t,s,r){if(t===null||typeof t>"u"||rw(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,s,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hh=/[\-:]([a-z])/g;function Wh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hh,Wh);xt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hh,Wh);xt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hh,Wh);xt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qh(e,t,s,r){var a=xt.hasOwnProperty(t)?xt[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nw(t,s,a,r)&&(s=null),r||a===null?sw(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var pr=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),Gh=Symbol.for("react.strict_mode"),cu=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),Eg=Symbol.for("react.context"),Zh=Symbol.for("react.forward_ref"),du=Symbol.for("react.suspense"),uu=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Tg=Symbol.for("react.offscreen"),Mm=Symbol.iterator;function Wa(e){return e===null||typeof e!="object"?null:(e=Mm&&e[Mm]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,dd;function ii(e){if(dd===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);dd=t&&t[1]||""}return`
`+dd+e}var ud=!1;function hd(e,t){if(!e||ud)return"";ud=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ud=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ii(e):""}function aw(e){switch(e.tag){case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 2:case 15:return e=hd(e.type,!1),e;case 11:return e=hd(e.type.render,!1),e;case 1:return e=hd(e.type,!0),e;default:return""}}function hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qn:return"Fragment";case Kn:return"Portal";case cu:return"Profiler";case Gh:return"StrictMode";case du:return"Suspense";case uu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eg:return(e.displayName||"Context")+".Consumer";case Sg:return(e._context.displayName||"Context")+".Provider";case Zh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kh:return t=e.displayName||null,t!==null?t:hu(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return hu(e(t))}catch{}}return null}function iw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hu(t);case 8:return t===Gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ow(e){var t=_g(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ro(e){e._valueTracker||(e._valueTracker=ow(e))}function Ag(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=_g(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fu(e,t){var s=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Im(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Gr(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pg(e,t){t=t.checked,t!=null&&qh(e,"checked",t,!1)}function mu(e,t){Pg(e,t);var s=Gr(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pu(e,t.type,s):t.hasOwnProperty("defaultValue")&&pu(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fm(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function pu(e,t,s){(t!=="number"||_l(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var oi=Array.isArray;function ha(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Gr(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(K(92));if(oi(s)){if(1<s.length)throw Error(K(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Gr(s)}}function Rg(e,t){var s=Gr(t.value),r=Gr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function $m(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lo,Dg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lw=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(e){lw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pi[t]=pi[e]})});function Og(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||pi.hasOwnProperty(e)&&pi[e]?(""+t).trim():t+"px"}function Mg(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=Og(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var cw=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(e,t){if(t){if(cw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function vu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function Qh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ju=null,fa=null,ma=null;function Bm(e){if(e=io(e)){if(typeof ju!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Tc(t),ju(e.stateNode,e.type,t))}}function Ig(e){fa?ma?ma.push(e):ma=[e]:fa=e}function Fg(){if(fa){var e=fa,t=ma;if(ma=fa=null,Bm(e),t)for(e=0;e<t.length;e++)Bm(t[e])}}function Vg(e,t){return e(t)}function $g(){}var fd=!1;function Bg(e,t,s){if(fd)return e(t,s);fd=!0;try{return Vg(e,t,s)}finally{fd=!1,(fa!==null||ma!==null)&&($g(),Fg())}}function Ri(e,t){var s=e.stateNode;if(s===null)return null;var r=Tc(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(K(231,t,typeof s));return s}var wu=!1;if(ar)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){wu=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{wu=!1}function dw(e,t,s,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var xi=!1,Al=null,Pl=!1,ku=null,uw={onError:function(e){xi=!0,Al=e}};function hw(e,t,s,r,a,i,o,l,c){xi=!1,Al=null,dw.apply(uw,arguments)}function fw(e,t,s,r,a,i,o,l,c){if(hw.apply(this,arguments),xi){if(xi){var d=Al;xi=!1,Al=null}else throw Error(K(198));Pl||(Pl=!0,ku=d)}}function Vn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ug(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Um(e){if(Vn(e)!==e)throw Error(K(188))}function mw(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(K(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Um(a),e;if(i===r)return Um(a),t;i=i.sibling}throw Error(K(188))}if(s.return!==r.return)s=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o)throw Error(K(189))}}if(s.alternate!==r)throw Error(K(190))}if(s.tag!==3)throw Error(K(188));return s.stateNode.current===s?e:t}function zg(e){return e=mw(e),e!==null?Hg(e):null}function Hg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hg(e);if(t!==null)return t;e=e.sibling}return null}var Wg=Xt.unstable_scheduleCallback,zm=Xt.unstable_cancelCallback,pw=Xt.unstable_shouldYield,xw=Xt.unstable_requestPaint,Ze=Xt.unstable_now,gw=Xt.unstable_getCurrentPriorityLevel,Yh=Xt.unstable_ImmediatePriority,qg=Xt.unstable_UserBlockingPriority,Rl=Xt.unstable_NormalPriority,yw=Xt.unstable_LowPriority,Gg=Xt.unstable_IdlePriority,Nc=null,Vs=null;function vw(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Nc,e,void 0,(e.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:ww,bw=Math.log,jw=Math.LN2;function ww(e){return e>>>=0,e===0?32:31-(bw(e)/jw|0)|0}var Do=64,Oo=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ll(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?r=li(l):(i&=o,i!==0&&(r=li(i)))}else o=s&~a,o!==0?r=li(o):i!==0&&(r=li(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Ss(t),a=1<<s,r|=e[s],t&=~a;return r}function kw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nw(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ss(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&r)&&(a[o]=kw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Nu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zg(){var e=Do;return Do<<=1,!(Do&4194240)&&(Do=64),e}function md(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function no(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ss(t),e[t]=s}function Cw(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Ss(s),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~i}}function Xh(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Ss(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var _e=0;function Kg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qg,Jh,Yg,Xg,Jg,Cu=!1,Mo=[],Dr=null,Or=null,Mr=null,Li=new Map,Di=new Map,Sr=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hm(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function Ga(e,t,s,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=io(t),t!==null&&Jh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ew(e,t,s,r,a){switch(t){case"focusin":return Dr=Ga(Dr,e,t,s,r,a),!0;case"dragenter":return Or=Ga(Or,e,t,s,r,a),!0;case"mouseover":return Mr=Ga(Mr,e,t,s,r,a),!0;case"pointerover":var i=a.pointerId;return Li.set(i,Ga(Li.get(i)||null,e,t,s,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Di.set(i,Ga(Di.get(i)||null,e,t,s,r,a)),!0}return!1}function ey(e){var t=xn(e.target);if(t!==null){var s=Vn(t);if(s!==null){if(t=s.tag,t===13){if(t=Ug(s),t!==null){e.blockedOn=t,Jg(e.priority,function(){Yg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Su(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);bu=r,s.target.dispatchEvent(r),bu=null}else return t=io(s),t!==null&&Jh(t),e.blockedOn=s,!1;t.shift()}return!0}function Wm(e,t,s){il(e)&&s.delete(t)}function Tw(){Cu=!1,Dr!==null&&il(Dr)&&(Dr=null),Or!==null&&il(Or)&&(Or=null),Mr!==null&&il(Mr)&&(Mr=null),Li.forEach(Wm),Di.forEach(Wm)}function Za(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Tw)))}function Oi(e){function t(a){return Za(a,e)}if(0<Mo.length){Za(Mo[0],e);for(var s=1;s<Mo.length;s++){var r=Mo[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Dr!==null&&Za(Dr,e),Or!==null&&Za(Or,e),Mr!==null&&Za(Mr,e),Li.forEach(t),Di.forEach(t),s=0;s<Sr.length;s++)r=Sr[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sr.length&&(s=Sr[0],s.blockedOn===null);)ey(s),s.blockedOn===null&&Sr.shift()}var pa=pr.ReactCurrentBatchConfig,Dl=!0;function _w(e,t,s,r){var a=_e,i=pa.transition;pa.transition=null;try{_e=1,ef(e,t,s,r)}finally{_e=a,pa.transition=i}}function Aw(e,t,s,r){var a=_e,i=pa.transition;pa.transition=null;try{_e=4,ef(e,t,s,r)}finally{_e=a,pa.transition=i}}function ef(e,t,s,r){if(Dl){var a=Su(e,t,s,r);if(a===null)Nd(e,t,r,Ol,s),Hm(e,r);else if(Ew(a,e,t,s,r))r.stopPropagation();else if(Hm(e,r),t&4&&-1<Sw.indexOf(e)){for(;a!==null;){var i=io(a);if(i!==null&&Qg(i),i=Su(e,t,s,r),i===null&&Nd(e,t,r,Ol,s),i===a)break;a=i}a!==null&&r.stopPropagation()}else Nd(e,t,r,null,s)}}var Ol=null;function Su(e,t,s,r){if(Ol=null,e=Qh(r),e=xn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ug(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ol=e,null}function ty(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gw()){case Yh:return 1;case qg:return 4;case Rl:case yw:return 16;case Gg:return 536870912;default:return 16}default:return 16}}var Ar=null,tf=null,ol=null;function sy(){if(ol)return ol;var e,t=tf,s=t.length,r,a="value"in Ar?Ar.value:Ar.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===a[i-r];r++);return ol=a.slice(e,1<r?1-r:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Io(){return!0}function qm(){return!1}function ss(e){function t(s,r,a,i,o){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Io:qm,this.isPropagationStopped=qm,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=ss(Oa),ao=He({},Oa,{view:0,detail:0}),Pw=ss(ao),pd,xd,Ka,Cc=He({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(pd=e.screenX-Ka.screenX,xd=e.screenY-Ka.screenY):xd=pd=0,Ka=e),pd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Gm=ss(Cc),Rw=He({},Cc,{dataTransfer:0}),Lw=ss(Rw),Dw=He({},ao,{relatedTarget:0}),gd=ss(Dw),Ow=He({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Mw=ss(Ow),Iw=He({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fw=ss(Iw),Vw=He({},Oa,{data:0}),Zm=ss(Vw),$w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uw[e])?!!t[e]:!1}function rf(){return zw}var Hw=He({},ao,{key:function(e){if(e.key){var t=$w[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rf,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ww=ss(Hw),qw=He({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Km=ss(qw),Gw=He({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rf}),Zw=ss(Gw),Kw=He({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qw=ss(Kw),Yw=He({},Cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xw=ss(Yw),Jw=[9,13,27,32],nf=ar&&"CompositionEvent"in window,gi=null;ar&&"documentMode"in document&&(gi=document.documentMode);var ek=ar&&"TextEvent"in window&&!gi,ry=ar&&(!nf||gi&&8<gi&&11>=gi),Qm=" ",Ym=!1;function ny(e,t){switch(e){case"keyup":return Jw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ay(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function tk(e,t){switch(e){case"compositionend":return ay(t);case"keypress":return t.which!==32?null:(Ym=!0,Qm);case"textInput":return e=t.data,e===Qm&&Ym?null:e;default:return null}}function sk(e,t){if(Yn)return e==="compositionend"||!nf&&ny(e,t)?(e=sy(),ol=tf=Ar=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ry&&t.locale!=="ko"?null:t.data;default:return null}}var rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rk[e.type]:t==="textarea"}function iy(e,t,s,r){Ig(r),t=Ml(t,"onChange"),0<t.length&&(s=new sf("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var yi=null,Mi=null;function nk(e){gy(e,0)}function Sc(e){var t=ea(e);if(Ag(t))return e}function ak(e,t){if(e==="change")return t}var oy=!1;if(ar){var yd;if(ar){var vd="oninput"in document;if(!vd){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),vd=typeof Jm.oninput=="function"}yd=vd}else yd=!1;oy=yd&&(!document.documentMode||9<document.documentMode)}function ep(){yi&&(yi.detachEvent("onpropertychange",ly),Mi=yi=null)}function ly(e){if(e.propertyName==="value"&&Sc(Mi)){var t=[];iy(t,Mi,e,Qh(e)),Bg(nk,t)}}function ik(e,t,s){e==="focusin"?(ep(),yi=t,Mi=s,yi.attachEvent("onpropertychange",ly)):e==="focusout"&&ep()}function ok(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(Mi)}function lk(e,t){if(e==="click")return Sc(t)}function ck(e,t){if(e==="input"||e==="change")return Sc(t)}function dk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ts=typeof Object.is=="function"?Object.is:dk;function Ii(e,t){if(Ts(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!lu.call(t,a)||!Ts(e[a],t[a]))return!1}return!0}function tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sp(e,t){var s=tp(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tp(s)}}function cy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dy(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=_l(e.document)}return t}function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uk(e){var t=dy(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&cy(s.ownerDocument.documentElement,s)){if(r!==null&&af(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=sp(s,i);var o=sp(s,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hk=ar&&"documentMode"in document&&11>=document.documentMode,Xn=null,Eu=null,vi=null,Tu=!1;function rp(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tu||Xn==null||Xn!==_l(r)||(r=Xn,"selectionStart"in r&&af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vi&&Ii(vi,r)||(vi=r,r=Ml(Eu,"onSelect"),0<r.length&&(t=new sf("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Xn)))}function Fo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Jn={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionend:Fo("Transition","TransitionEnd")},bd={},uy={};ar&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Ec(e){if(bd[e])return bd[e];if(!Jn[e])return e;var t=Jn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in uy)return bd[e]=t[s];return e}var hy=Ec("animationend"),fy=Ec("animationiteration"),my=Ec("animationstart"),py=Ec("transitionend"),xy=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){xy.set(e,t),Fn(t,[e])}for(var jd=0;jd<np.length;jd++){var wd=np[jd],fk=wd.toLowerCase(),mk=wd[0].toUpperCase()+wd.slice(1);en(fk,"on"+mk)}en(hy,"onAnimationEnd");en(fy,"onAnimationIteration");en(my,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(py,"onTransitionEnd");ya("onMouseEnter",["mouseout","mouseover"]);ya("onMouseLeave",["mouseout","mouseover"]);ya("onPointerEnter",["pointerout","pointerover"]);ya("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function ap(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,fw(r,t,void 0,e),e.currentTarget=null}function gy(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;ap(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;ap(a,l,d),i=c}}}if(Pl)throw e=ku,Pl=!1,ku=null,e}function Me(e,t){var s=t[Lu];s===void 0&&(s=t[Lu]=new Set);var r=e+"__bubble";s.has(r)||(yy(t,e,2,!1),s.add(r))}function kd(e,t,s){var r=0;t&&(r|=4),yy(s,e,r,t)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[Vo]){e[Vo]=!0,Cg.forEach(function(s){s!=="selectionchange"&&(pk.has(s)||kd(s,!1,e),kd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vo]||(t[Vo]=!0,kd("selectionchange",!1,t))}}function yy(e,t,s,r){switch(ty(t)){case 1:var a=_w;break;case 4:a=Aw;break;default:a=ef}s=a.bind(null,t,s,e),a=void 0,!wu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Nd(e,t,s,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=xn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Bg(function(){var d=i,u=Qh(s),h=[];e:{var f=xy.get(e);if(f!==void 0){var y=sf,g=e;switch(e){case"keypress":if(ll(s)===0)break e;case"keydown":case"keyup":y=Ww;break;case"focusin":g="focus",y=gd;break;case"focusout":g="blur",y=gd;break;case"beforeblur":case"afterblur":y=gd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Gm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zw;break;case hy:case fy:case my:y=Mw;break;case py:y=Qw;break;case"scroll":y=Pw;break;case"wheel":y=Xw;break;case"copy":case"cut":case"paste":y=Fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Km}var v=(t&4)!==0,w=!v&&e==="scroll",b=v?f!==null?f+"Capture":null:f;v=[];for(var p=d,x;p!==null;){x=p;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,b!==null&&(j=Ri(p,b),j!=null&&v.push(Vi(p,j,x)))),w)break;p=p.return}0<v.length&&(f=new y(f,g,null,s,u),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&s!==bu&&(g=s.relatedTarget||s.fromElement)&&(xn(g)||g[ir]))break e;if((y||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=s.relatedTarget||s.toElement,y=d,g=g?xn(g):null,g!==null&&(w=Vn(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=d),y!==g)){if(v=Gm,j="onMouseLeave",b="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Km,j="onPointerLeave",b="onPointerEnter",p="pointer"),w=y==null?f:ea(y),x=g==null?f:ea(g),f=new v(j,p+"leave",y,s,u),f.target=w,f.relatedTarget=x,j=null,xn(u)===d&&(v=new v(b,p+"enter",g,s,u),v.target=x,v.relatedTarget=w,j=v),w=j,y&&g)t:{for(v=y,b=g,p=0,x=v;x;x=Hn(x))p++;for(x=0,j=b;j;j=Hn(j))x++;for(;0<p-x;)v=Hn(v),p--;for(;0<x-p;)b=Hn(b),x--;for(;p--;){if(v===b||b!==null&&v===b.alternate)break t;v=Hn(v),b=Hn(b)}v=null}else v=null;y!==null&&ip(h,f,y,v,!1),g!==null&&w!==null&&ip(h,w,g,v,!0)}}e:{if(f=d?ea(d):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=ak;else if(Xm(f))if(oy)k=ck;else{k=ok;var N=ik}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=lk);if(k&&(k=k(e,d))){iy(h,k,s,u);break e}N&&N(e,f,d),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&pu(f,"number",f.value)}switch(N=d?ea(d):window,e){case"focusin":(Xm(N)||N.contentEditable==="true")&&(Xn=N,Eu=d,vi=null);break;case"focusout":vi=Eu=Xn=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,rp(h,s,u);break;case"selectionchange":if(hk)break;case"keydown":case"keyup":rp(h,s,u)}var S;if(nf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Yn?ny(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(ry&&s.locale!=="ko"&&(Yn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Yn&&(S=sy()):(Ar=u,tf="value"in Ar?Ar.value:Ar.textContent,Yn=!0)),N=Ml(d,C),0<N.length&&(C=new Zm(C,e,null,s,u),h.push({event:C,listeners:N}),S?C.data=S:(S=ay(s),S!==null&&(C.data=S)))),(S=ek?tk(e,s):sk(e,s))&&(d=Ml(d,"onBeforeInput"),0<d.length&&(u=new Zm("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=S))}gy(h,t)})}function Vi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ml(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ri(e,s),i!=null&&r.unshift(Vi(e,i,a)),i=Ri(e,t),i!=null&&r.push(Vi(e,i,a))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ip(e,t,s,r,a){for(var i=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Ri(s,i),c!=null&&o.unshift(Vi(s,c,l))):a||(c=Ri(s,i),c!=null&&o.push(Vi(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var xk=/\r\n?/g,gk=/\u0000|\uFFFD/g;function op(e){return(typeof e=="string"?e:""+e).replace(xk,`
`).replace(gk,"")}function $o(e,t,s){if(t=op(t),op(e)!==t&&s)throw Error(K(425))}function Il(){}var _u=null,Au=null;function Pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ru=typeof setTimeout=="function"?setTimeout:void 0,yk=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,vk=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(e){return lp.resolve(null).then(e).catch(bk)}:Ru;function bk(e){setTimeout(function(){throw e})}function Cd(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),Oi(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);Oi(t)}function Ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),Is="__reactFiber$"+Ma,$i="__reactProps$"+Ma,ir="__reactContainer$"+Ma,Lu="__reactEvents$"+Ma,jk="__reactListeners$"+Ma,wk="__reactHandles$"+Ma;function xn(e){var t=e[Is];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ir]||s[Is]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=cp(e);e!==null;){if(s=e[Is])return s;e=cp(e)}return t}e=s,s=e.parentNode}return null}function io(e){return e=e[Is]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Tc(e){return e[$i]||null}var Du=[],ta=-1;function tn(e){return{current:e}}function Ie(e){0>ta||(e.current=Du[ta],Du[ta]=null,ta--)}function Le(e,t){ta++,Du[ta]=e.current,e.current=t}var Zr={},kt=tn(Zr),$t=tn(!1),Tn=Zr;function va(e,t){var s=e.type.contextTypes;if(!s)return Zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bt(e){return e=e.childContextTypes,e!=null}function Fl(){Ie($t),Ie(kt)}function dp(e,t,s){if(kt.current!==Zr)throw Error(K(168));Le(kt,t),Le($t,s)}function vy(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(K(108,iw(e)||"Unknown",a));return He({},s,r)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,Tn=kt.current,Le(kt,e),Le($t,$t.current),!0}function up(e,t,s){var r=e.stateNode;if(!r)throw Error(K(169));s?(e=vy(e,t,Tn),r.__reactInternalMemoizedMergedChildContext=e,Ie($t),Ie(kt),Le(kt,e)):Ie($t),Le($t,s)}var Xs=null,_c=!1,Sd=!1;function by(e){Xs===null?Xs=[e]:Xs.push(e)}function kk(e){_c=!0,by(e)}function sn(){if(!Sd&&Xs!==null){Sd=!0;var e=0,t=_e;try{var s=Xs;for(_e=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Xs=null,_c=!1}catch(a){throw Xs!==null&&(Xs=Xs.slice(e+1)),Wg(Yh,sn),a}finally{_e=t,Sd=!1}}return null}var sa=[],ra=0,$l=null,Bl=0,os=[],ls=0,_n=null,Js=1,er="";function un(e,t){sa[ra++]=Bl,sa[ra++]=$l,$l=e,Bl=t}function jy(e,t,s){os[ls++]=Js,os[ls++]=er,os[ls++]=_n,_n=e;var r=Js;e=er;var a=32-Ss(r)-1;r&=~(1<<a),s+=1;var i=32-Ss(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Js=1<<32-Ss(t)+a|s<<a|r,er=i+e}else Js=1<<i|s<<a|r,er=e}function of(e){e.return!==null&&(un(e,1),jy(e,1,0))}function lf(e){for(;e===$l;)$l=sa[--ra],sa[ra]=null,Bl=sa[--ra],sa[ra]=null;for(;e===_n;)_n=os[--ls],os[ls]=null,er=os[--ls],os[ls]=null,Js=os[--ls],os[ls]=null}var Yt=null,Kt=null,Fe=!1,ks=null;function wy(e,t){var s=us(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function hp(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Kt=Ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=_n!==null?{id:Js,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=us(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Yt=e,Kt=null,!0):!1;default:return!1}}function Ou(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mu(e){if(Fe){var t=Kt;if(t){var s=t;if(!hp(e,t)){if(Ou(e))throw Error(K(418));t=Ir(s.nextSibling);var r=Yt;t&&hp(e,t)?wy(r,s):(e.flags=e.flags&-4097|2,Fe=!1,Yt=e)}}else{if(Ou(e))throw Error(K(418));e.flags=e.flags&-4097|2,Fe=!1,Yt=e}}}function fp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function Bo(e){if(e!==Yt)return!1;if(!Fe)return fp(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pu(e.type,e.memoizedProps)),t&&(t=Kt)){if(Ou(e))throw ky(),Error(K(418));for(;t;)wy(e,t),t=Ir(t.nextSibling)}if(fp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Kt=Ir(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Yt?Ir(e.stateNode.nextSibling):null;return!0}function ky(){for(var e=Kt;e;)e=Ir(e.nextSibling)}function ba(){Kt=Yt=null,Fe=!1}function cf(e){ks===null?ks=[e]:ks.push(e)}var Nk=pr.ReactCurrentBatchConfig;function Qa(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(K(309));var r=s.stateNode}if(!r)throw Error(K(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!s._owner)throw Error(K(290,e))}return e}function Uo(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mp(e){var t=e._init;return t(e._payload)}function Ny(e){function t(b,p){if(e){var x=b.deletions;x===null?(b.deletions=[p],b.flags|=16):x.push(p)}}function s(b,p){if(!e)return null;for(;p!==null;)t(b,p),p=p.sibling;return null}function r(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function a(b,p){return b=Br(b,p),b.index=0,b.sibling=null,b}function i(b,p,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<p?(b.flags|=2,p):x):(b.flags|=2,p)):(b.flags|=1048576,p)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,p,x,j){return p===null||p.tag!==6?(p=Ld(x,b.mode,j),p.return=b,p):(p=a(p,x),p.return=b,p)}function c(b,p,x,j){var k=x.type;return k===Qn?u(b,p,x.props.children,j,x.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wr&&mp(k)===p.type)?(j=a(p,x.props),j.ref=Qa(b,p,x),j.return=b,j):(j=pl(x.type,x.key,x.props,null,b.mode,j),j.ref=Qa(b,p,x),j.return=b,j)}function d(b,p,x,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=Dd(x,b.mode,j),p.return=b,p):(p=a(p,x.children||[]),p.return=b,p)}function u(b,p,x,j,k){return p===null||p.tag!==7?(p=kn(x,b.mode,j,k),p.return=b,p):(p=a(p,x),p.return=b,p)}function h(b,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ld(""+p,b.mode,x),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Po:return x=pl(p.type,p.key,p.props,null,b.mode,x),x.ref=Qa(b,null,p),x.return=b,x;case Kn:return p=Dd(p,b.mode,x),p.return=b,p;case wr:var j=p._init;return h(b,j(p._payload),x)}if(oi(p)||Wa(p))return p=kn(p,b.mode,x,null),p.return=b,p;Uo(b,p)}return null}function f(b,p,x,j){var k=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(b,p,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Po:return x.key===k?c(b,p,x,j):null;case Kn:return x.key===k?d(b,p,x,j):null;case wr:return k=x._init,f(b,p,k(x._payload),j)}if(oi(x)||Wa(x))return k!==null?null:u(b,p,x,j,null);Uo(b,x)}return null}function y(b,p,x,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(x)||null,l(p,b,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Po:return b=b.get(j.key===null?x:j.key)||null,c(p,b,j,k);case Kn:return b=b.get(j.key===null?x:j.key)||null,d(p,b,j,k);case wr:var N=j._init;return y(b,p,x,N(j._payload),k)}if(oi(j)||Wa(j))return b=b.get(x)||null,u(p,b,j,k,null);Uo(p,j)}return null}function g(b,p,x,j){for(var k=null,N=null,S=p,C=p=0,L=null;S!==null&&C<x.length;C++){S.index>C?(L=S,S=null):L=S.sibling;var V=f(b,S,x[C],j);if(V===null){S===null&&(S=L);break}e&&S&&V.alternate===null&&t(b,S),p=i(V,p,C),N===null?k=V:N.sibling=V,N=V,S=L}if(C===x.length)return s(b,S),Fe&&un(b,C),k;if(S===null){for(;C<x.length;C++)S=h(b,x[C],j),S!==null&&(p=i(S,p,C),N===null?k=S:N.sibling=S,N=S);return Fe&&un(b,C),k}for(S=r(b,S);C<x.length;C++)L=y(S,b,C,x[C],j),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?C:L.key),p=i(L,p,C),N===null?k=L:N.sibling=L,N=L);return e&&S.forEach(function(U){return t(b,U)}),Fe&&un(b,C),k}function v(b,p,x,j){var k=Wa(x);if(typeof k!="function")throw Error(K(150));if(x=k.call(x),x==null)throw Error(K(151));for(var N=k=null,S=p,C=p=0,L=null,V=x.next();S!==null&&!V.done;C++,V=x.next()){S.index>C?(L=S,S=null):L=S.sibling;var U=f(b,S,V.value,j);if(U===null){S===null&&(S=L);break}e&&S&&U.alternate===null&&t(b,S),p=i(U,p,C),N===null?k=U:N.sibling=U,N=U,S=L}if(V.done)return s(b,S),Fe&&un(b,C),k;if(S===null){for(;!V.done;C++,V=x.next())V=h(b,V.value,j),V!==null&&(p=i(V,p,C),N===null?k=V:N.sibling=V,N=V);return Fe&&un(b,C),k}for(S=r(b,S);!V.done;C++,V=x.next())V=y(S,b,C,V.value,j),V!==null&&(e&&V.alternate!==null&&S.delete(V.key===null?C:V.key),p=i(V,p,C),N===null?k=V:N.sibling=V,N=V);return e&&S.forEach(function(T){return t(b,T)}),Fe&&un(b,C),k}function w(b,p,x,j){if(typeof x=="object"&&x!==null&&x.type===Qn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Po:e:{for(var k=x.key,N=p;N!==null;){if(N.key===k){if(k=x.type,k===Qn){if(N.tag===7){s(b,N.sibling),p=a(N,x.props.children),p.return=b,b=p;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wr&&mp(k)===N.type){s(b,N.sibling),p=a(N,x.props),p.ref=Qa(b,N,x),p.return=b,b=p;break e}s(b,N);break}else t(b,N);N=N.sibling}x.type===Qn?(p=kn(x.props.children,b.mode,j,x.key),p.return=b,b=p):(j=pl(x.type,x.key,x.props,null,b.mode,j),j.ref=Qa(b,p,x),j.return=b,b=j)}return o(b);case Kn:e:{for(N=x.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){s(b,p.sibling),p=a(p,x.children||[]),p.return=b,b=p;break e}else{s(b,p);break}else t(b,p);p=p.sibling}p=Dd(x,b.mode,j),p.return=b,b=p}return o(b);case wr:return N=x._init,w(b,p,N(x._payload),j)}if(oi(x))return g(b,p,x,j);if(Wa(x))return v(b,p,x,j);Uo(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(s(b,p.sibling),p=a(p,x),p.return=b,b=p):(s(b,p),p=Ld(x,b.mode,j),p.return=b,b=p),o(b)):s(b,p)}return w}var ja=Ny(!0),Cy=Ny(!1),Ul=tn(null),zl=null,na=null,df=null;function uf(){df=na=zl=null}function hf(e){var t=Ul.current;Ie(Ul),e._currentValue=t}function Iu(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function xa(e,t){zl=e,df=na=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function fs(e){var t=e._currentValue;if(df!==e)if(e={context:e,memoizedValue:t,next:null},na===null){if(zl===null)throw Error(K(308));na=e,zl.dependencies={lanes:0,firstContext:e}}else na=na.next=e;return t}var gn=null;function ff(e){gn===null?gn=[e]:gn.push(e)}function Sy(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,ff(t)):(s.next=a.next,a.next=s),t.interleaved=s,or(e,r)}function or(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var kr=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ey(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,or(e,s)}return a=r.interleaved,a===null?(t.next=t,ff(r)):(t.next=a.next,a.next=t),r.interleaved=t,or(e,s)}function cl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Xh(e,s)}}function pp(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Hl(e,t,s,r){var a=e.updateQueue;kr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(f=t,y=s,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(y,h,f):g,f==null)break e;h=He({},h,f);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=y,c=h):u=u.next=y,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Pn|=o,e.lanes=o,e.memoizedState=h}}function xp(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(K(191,a));a.call(r)}}}var oo={},$s=tn(oo),Bi=tn(oo),Ui=tn(oo);function yn(e){if(e===oo)throw Error(K(174));return e}function pf(e,t){switch(Le(Ui,t),Le(Bi,e),Le($s,oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gu(t,e)}Ie($s),Le($s,t)}function wa(){Ie($s),Ie(Bi),Ie(Ui)}function Ty(e){yn(Ui.current);var t=yn($s.current),s=gu(t,e.type);t!==s&&(Le(Bi,e),Le($s,s))}function xf(e){Bi.current===e&&(Ie($s),Ie(Bi))}var $e=tn(0);function Wl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ed=[];function gf(){for(var e=0;e<Ed.length;e++)Ed[e]._workInProgressVersionPrimary=null;Ed.length=0}var dl=pr.ReactCurrentDispatcher,Td=pr.ReactCurrentBatchConfig,An=0,Ue=null,at=null,ct=null,ql=!1,bi=!1,zi=0,Ck=0;function gt(){throw Error(K(321))}function yf(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ts(e[s],t[s]))return!1;return!0}function vf(e,t,s,r,a,i){if(An=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=e===null||e.memoizedState===null?_k:Ak,e=s(r,a),bi){i=0;do{if(bi=!1,zi=0,25<=i)throw Error(K(301));i+=1,ct=at=null,t.updateQueue=null,dl.current=Pk,e=s(r,a)}while(bi)}if(dl.current=Gl,t=at!==null&&at.next!==null,An=0,ct=at=Ue=null,ql=!1,t)throw Error(K(300));return e}function bf(){var e=zi!==0;return zi=0,e}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ue.memoizedState=ct=e:ct=ct.next=e,ct}function ms(){if(at===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ct===null?Ue.memoizedState:ct.next;if(t!==null)ct=t,at=e;else{if(e===null)throw Error(K(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Ue.memoizedState=ct=e:ct=ct.next=e}return ct}function Hi(e,t){return typeof t=="function"?t(e):t}function _d(e){var t=ms(),s=t.queue;if(s===null)throw Error(K(311));s.lastRenderedReducer=e;var r=at,a=r.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((An&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Ue.lanes|=u,Pn|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Ts(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do i=a.lane,Ue.lanes|=i,Pn|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ad(e){var t=ms(),s=t.queue;if(s===null)throw Error(K(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ts(i,t.memoizedState)||(Vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function _y(){}function Ay(e,t){var s=Ue,r=ms(),a=t(),i=!Ts(r.memoizedState,a);if(i&&(r.memoizedState=a,Vt=!0),r=r.queue,jf(Ly.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||ct!==null&&ct.memoizedState.tag&1){if(s.flags|=2048,Wi(9,Ry.bind(null,s,r,a,t),void 0,null),ut===null)throw Error(K(349));An&30||Py(s,t,a)}return a}function Py(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ry(e,t,s,r){t.value=s,t.getSnapshot=r,Dy(t)&&Oy(e)}function Ly(e,t,s){return s(function(){Dy(t)&&Oy(e)})}function Dy(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ts(e,s)}catch{return!0}}function Oy(e){var t=or(e,1);t!==null&&Es(t,e,1,-1)}function gp(e){var t=Ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Tk.bind(null,Ue,e),[t.memoizedState,e]}function Wi(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function My(){return ms().memoizedState}function ul(e,t,s,r){var a=Ds();Ue.flags|=e,a.memoizedState=Wi(1|t,s,void 0,r===void 0?null:r)}function Ac(e,t,s,r){var a=ms();r=r===void 0?null:r;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,r!==null&&yf(r,o.deps)){a.memoizedState=Wi(t,s,i,r);return}}Ue.flags|=e,a.memoizedState=Wi(1|t,s,i,r)}function yp(e,t){return ul(8390656,8,e,t)}function jf(e,t){return Ac(2048,8,e,t)}function Iy(e,t){return Ac(4,2,e,t)}function Fy(e,t){return Ac(4,4,e,t)}function Vy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $y(e,t,s){return s=s!=null?s.concat([e]):null,Ac(4,4,Vy.bind(null,t,e),s)}function wf(){}function By(e,t){var s=ms();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&yf(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Uy(e,t){var s=ms();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&yf(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function zy(e,t,s){return An&21?(Ts(s,t)||(s=Zg(),Ue.lanes|=s,Pn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=s)}function Sk(e,t){var s=_e;_e=s!==0&&4>s?s:4,e(!0);var r=Td.transition;Td.transition={};try{e(!1),t()}finally{_e=s,Td.transition=r}}function Hy(){return ms().memoizedState}function Ek(e,t,s){var r=$r(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Wy(e))qy(t,s);else if(s=Sy(e,t,s,r),s!==null){var a=Lt();Es(s,e,r,a),Gy(s,t,r)}}function Tk(e,t,s){var r=$r(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wy(e))qy(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,Ts(l,o)){var c=t.interleaved;c===null?(a.next=a,ff(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Sy(e,t,a,r),s!==null&&(a=Lt(),Es(s,e,r,a),Gy(s,t,r))}}function Wy(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function qy(e,t){bi=ql=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Gy(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Xh(e,s)}}var Gl={readContext:fs,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},_k={readContext:fs,useCallback:function(e,t){return Ds().memoizedState=[e,t===void 0?null:t],e},useContext:fs,useEffect:yp,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ul(4194308,4,Vy.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return ul(4,2,e,t)},useMemo:function(e,t){var s=Ds();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Ds();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ek.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Ds();return e={current:e},t.memoizedState=e},useState:gp,useDebugValue:wf,useDeferredValue:function(e){return Ds().memoizedState=e},useTransition:function(){var e=gp(!1),t=e[0];return e=Sk.bind(null,e[1]),Ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Ue,a=Ds();if(Fe){if(s===void 0)throw Error(K(407));s=s()}else{if(s=t(),ut===null)throw Error(K(349));An&30||Py(r,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,yp(Ly.bind(null,r,i,e),[e]),r.flags|=2048,Wi(9,Ry.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=Ds(),t=ut.identifierPrefix;if(Fe){var s=er,r=Js;s=(r&~(1<<32-Ss(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=zi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Ck++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ak={readContext:fs,useCallback:By,useContext:fs,useEffect:jf,useImperativeHandle:$y,useInsertionEffect:Iy,useLayoutEffect:Fy,useMemo:Uy,useReducer:_d,useRef:My,useState:function(){return _d(Hi)},useDebugValue:wf,useDeferredValue:function(e){var t=ms();return zy(t,at.memoizedState,e)},useTransition:function(){var e=_d(Hi)[0],t=ms().memoizedState;return[e,t]},useMutableSource:_y,useSyncExternalStore:Ay,useId:Hy,unstable_isNewReconciler:!1},Pk={readContext:fs,useCallback:By,useContext:fs,useEffect:jf,useImperativeHandle:$y,useInsertionEffect:Iy,useLayoutEffect:Fy,useMemo:Uy,useReducer:Ad,useRef:My,useState:function(){return Ad(Hi)},useDebugValue:wf,useDeferredValue:function(e){var t=ms();return at===null?t.memoizedState=e:zy(t,at.memoizedState,e)},useTransition:function(){var e=Ad(Hi)[0],t=ms().memoizedState;return[e,t]},useMutableSource:_y,useSyncExternalStore:Ay,useId:Hy,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Fu(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:He({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Pc={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Lt(),a=$r(e),i=sr(r,a);i.payload=t,s!=null&&(i.callback=s),t=Fr(e,i,a),t!==null&&(Es(t,e,a,r),cl(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Lt(),a=$r(e),i=sr(r,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=Fr(e,i,a),t!==null&&(Es(t,e,a,r),cl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Lt(),r=$r(e),a=sr(s,r);a.tag=2,t!=null&&(a.callback=t),t=Fr(e,a,r),t!==null&&(Es(t,e,r,s),cl(t,e,r))}};function vp(e,t,s,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ii(s,r)||!Ii(a,i):!0}function Zy(e,t,s){var r=!1,a=Zr,i=t.contextType;return typeof i=="object"&&i!==null?i=fs(i):(a=Bt(t)?Tn:kt.current,r=t.contextTypes,i=(r=r!=null)?va(e,a):Zr),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function bp(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Pc.enqueueReplaceState(t,t.state,null)}function Vu(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},mf(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=fs(i):(i=Bt(t)?Tn:kt.current,a.context=va(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fu(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Pc.enqueueReplaceState(a,a.state,null),Hl(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ka(e,t){try{var s="",r=t;do s+=aw(r),r=r.return;while(r);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Pd(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function $u(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function Ky(e,t,s){s=sr(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Kl||(Kl=!0,Qu=r),$u(e,t)},s}function Qy(e,t,s){s=sr(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){$u(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){$u(e,t),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function jp(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Rk;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=qk.bind(null,e,t,s),t.then(e,e))}function wp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kp(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=sr(-1,1),t.tag=2,Fr(s,t,1))),s.lanes|=1),e)}var Lk=pr.ReactCurrentOwner,Vt=!1;function At(e,t,s,r){t.child=e===null?Cy(t,null,s,r):ja(t,e.child,s,r)}function Np(e,t,s,r,a){s=s.render;var i=t.ref;return xa(t,a),r=vf(e,t,s,r,i,a),s=bf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lr(e,t,a)):(Fe&&s&&of(t),t.flags|=1,At(e,t,r,a),t.child)}function Cp(e,t,s,r,a){if(e===null){var i=s.type;return typeof i=="function"&&!Af(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,Yy(e,t,i,r,a)):(e=pl(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:Ii,s(o,r)&&e.ref===t.ref)return lr(e,t,a)}return t.flags|=1,e=Br(i,r),e.ref=t.ref,e.return=t,t.child=e}function Yy(e,t,s,r,a){if(e!==null){var i=e.memoizedProps;if(Ii(i,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,lr(e,t,a)}return Bu(e,t,s,r,a)}function Xy(e,t,s){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(ia,Gt),Gt|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(ia,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,Le(ia,Gt),Gt|=r}else i!==null?(r=i.baseLanes|s,t.memoizedState=null):r=s,Le(ia,Gt),Gt|=r;return At(e,t,a,s),t.child}function Jy(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Bu(e,t,s,r,a){var i=Bt(s)?Tn:kt.current;return i=va(t,i),xa(t,a),s=vf(e,t,s,r,i,a),r=bf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lr(e,t,a)):(Fe&&r&&of(t),t.flags|=1,At(e,t,s,a),t.child)}function Sp(e,t,s,r,a){if(Bt(s)){var i=!0;Vl(t)}else i=!1;if(xa(t,a),t.stateNode===null)hl(e,t),Zy(t,s,r),Vu(t,s,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=fs(d):(d=Bt(s)?Tn:kt.current,d=va(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&bp(t,o,r,d),kr=!1;var f=t.memoizedState;o.state=f,Hl(t,r,o,a),c=t.memoizedState,l!==r||f!==c||$t.current||kr?(typeof u=="function"&&(Fu(t,s,u,r),c=t.memoizedState),(l=kr||vp(t,s,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ey(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:bs(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=fs(c):(c=Bt(s)?Tn:kt.current,c=va(t,c));var y=s.getDerivedStateFromProps;(u=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&bp(t,o,r,c),kr=!1,f=t.memoizedState,o.state=f,Hl(t,r,o,a);var g=t.memoizedState;l!==h||f!==g||$t.current||kr?(typeof y=="function"&&(Fu(t,s,y,r),g=t.memoizedState),(d=kr||vp(t,s,d,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Uu(e,t,s,r,i,a)}function Uu(e,t,s,r,a,i){Jy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&up(t,s,!1),lr(e,t,i);r=t.stateNode,Lk.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ja(t,e.child,null,i),t.child=ja(t,null,l,i)):At(e,t,l,i),t.memoizedState=r.state,a&&up(t,s,!0),t.child}function ev(e){var t=e.stateNode;t.pendingContext?dp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dp(e,t.context,!1),pf(e,t.containerInfo)}function Ep(e,t,s,r,a){return ba(),cf(a),t.flags|=256,At(e,t,s,r),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function Hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function tv(e,t,s){var r=t.pendingProps,a=$e.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Le($e,a&1),e===null)return Mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dc(o,r,0,null),e=kn(e,r,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hu(s),t.memoizedState=zu,e):kf(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Dk(e,t,o,r,l,a,s);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Br(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Br(l,i):(i=kn(i,o,s,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Hu(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=zu,r}return i=e.child,e=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function kf(e,t){return t=Dc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zo(e,t,s,r){return r!==null&&cf(r),ja(t,e.child,null,s),e=kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dk(e,t,s,r,a,i,o){if(s)return t.flags&256?(t.flags&=-257,r=Pd(Error(K(422))),zo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Dc({mode:"visible",children:r.children},a,0,null),i=kn(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ja(t,e.child,null,o),t.child.memoizedState=Hu(o),t.memoizedState=zu,i);if(!(t.mode&1))return zo(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(K(419)),r=Pd(i,r,void 0),zo(e,t,o,r)}if(l=(o&e.childLanes)!==0,Vt||l){if(r=ut,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,or(e,a),Es(r,e,a,-1))}return _f(),r=Pd(Error(K(421))),zo(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Gk.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Kt=Ir(a.nextSibling),Yt=t,Fe=!0,ks=null,e!==null&&(os[ls++]=Js,os[ls++]=er,os[ls++]=_n,Js=e.id,er=e.overflow,_n=t),t=kf(t,r.children),t.flags|=4096,t)}function Tp(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Iu(e.return,t,s)}function Rd(e,t,s,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=a)}function sv(e,t,s){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(At(e,t,r.children,s),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,s,t);else if(e.tag===19)Tp(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le($e,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Wl(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Rd(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Wl(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Rd(t,!0,s,null,i);break;case"together":Rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,s=Br(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Br(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Ok(e,t,s){switch(t.tag){case 3:ev(t),ba();break;case 5:Ty(t);break;case 1:Bt(t.type)&&Vl(t);break;case 4:pf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Le(Ul,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le($e,$e.current&1),t.flags|=128,null):s&t.child.childLanes?tv(e,t,s):(Le($e,$e.current&1),e=lr(e,t,s),e!==null?e.sibling:null);Le($e,$e.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return sv(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Le($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,Xy(e,t,s)}return lr(e,t,s)}var rv,Wu,nv,av;rv=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Wu=function(){};nv=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,yn($s.current);var i=null;switch(s){case"input":a=fu(e,a),r=fu(e,r),i=[];break;case"select":a=He({},a,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":a=xu(e,a),r=xu(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Il)}yu(s,r);var o;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ai.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Me("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};av=function(e,t,s,r){s!==r&&(t.flags|=4)};function Ya(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function Mk(e,t,s){var r=t.pendingProps;switch(lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Bt(t.type)&&Fl(),yt(t),null;case 3:return r=t.stateNode,wa(),Ie($t),Ie(kt),gf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ks!==null&&(Ju(ks),ks=null))),Wu(e,t),yt(t),null;case 5:xf(t);var a=yn(Ui.current);if(s=t.type,e!==null&&t.stateNode!=null)nv(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return yt(t),null}if(e=yn($s.current),Bo(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[Is]=t,r[$i]=i,e=(t.mode&1)!==0,s){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<ci.length;a++)Me(ci[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Im(r,i),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Me("invalid",r);break;case"textarea":Vm(r,i),Me("invalid",r)}yu(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),a=["children",""+l]):Ai.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(s){case"input":Ro(r),Fm(r,i,!0);break;case"textarea":Ro(r),$m(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Il)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lg(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[Is]=t,e[$i]=r,rv(e,t,!1,!1),t.stateNode=e;e:{switch(o=vu(s,r),s){case"dialog":Me("cancel",e),Me("close",e),a=r;break;case"iframe":case"object":case"embed":Me("load",e),a=r;break;case"video":case"audio":for(a=0;a<ci.length;a++)Me(ci[a],e);a=r;break;case"source":Me("error",e),a=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),a=r;break;case"details":Me("toggle",e),a=r;break;case"input":Im(e,r),a=fu(e,r),Me("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=He({},r,{value:void 0}),Me("invalid",e);break;case"textarea":Vm(e,r),a=xu(e,r),Me("invalid",e);break;default:a=r}yu(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Mg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Dg(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Pi(e,c):typeof c=="number"&&Pi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ai.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Me("scroll",e):c!=null&&qh(e,i,c,o))}switch(s){case"input":Ro(e),Fm(e,r,!1);break;case"textarea":Ro(e),$m(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ha(e,!!r.multiple,i,!1):r.defaultValue!=null&&ha(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Il)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)av(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(s=yn(Ui.current),yn($s.current),Bo(t)){if(r=t.stateNode,s=t.memoizedProps,r[Is]=t,(i=r.nodeValue!==s)&&(e=Yt,e!==null))switch(e.tag){case 3:$o(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Is]=t,t.stateNode=r}return yt(t),null;case 13:if(Ie($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Kt!==null&&t.mode&1&&!(t.flags&128))ky(),ba(),t.flags|=98560,i=!1;else if(i=Bo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Is]=t}else ba(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),i=!1}else ks!==null&&(Ju(ks),ks=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?ot===0&&(ot=3):_f())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return wa(),Wu(e,t),e===null&&Fi(t.stateNode.containerInfo),yt(t),null;case 10:return hf(t.type._context),yt(t),null;case 17:return Bt(t.type)&&Fl(),yt(t),null;case 19:if(Ie($e),i=t.memoizedState,i===null)return yt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ya(i,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wl(e),o!==null){for(t.flags|=128,Ya(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)i=s,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Le($e,$e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ze()>Na&&(t.flags|=128,r=!0,Ya(i,!1),t.lanes=4194304)}else{if(!r)if(e=Wl(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Fe)return yt(t),null}else 2*Ze()-i.renderingStartTime>Na&&s!==1073741824&&(t.flags|=128,r=!0,Ya(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,s=$e.current,Le($e,r?s&1|2:s&1),t):(yt(t),null);case 22:case 23:return Tf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function Ik(e,t){switch(lf(t),t.tag){case 1:return Bt(t.type)&&Fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),Ie($t),Ie(kt),gf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xf(t),null;case 13:if(Ie($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie($e),null;case 4:return wa(),null;case 10:return hf(t.type._context),null;case 22:case 23:return Tf(),null;case 24:return null;default:return null}}var Ho=!1,bt=!1,Fk=typeof WeakSet=="function"?WeakSet:Set,re=null;function aa(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){We(e,t,r)}else s.current=null}function qu(e,t,s){try{s()}catch(r){We(e,t,r)}}var _p=!1;function Vk(e,t){if(_u=Dl,e=dy(),af(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var y;h!==s||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===s&&++d===a&&(l=o),f===i&&++u===r&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Au={focusedElem:e,selectionRange:s},Dl=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,b=t.stateNode,p=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:bs(t.type,v),w);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){We(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return g=_p,_p=!1,g}function ji(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&qu(t,s,i)}a=a.next}while(a!==r)}}function Rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Gu(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function iv(e){var t=e.alternate;t!==null&&(e.alternate=null,iv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Is],delete t[$i],delete t[Lu],delete t[jk],delete t[wk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ov(e){return e.tag===5||e.tag===3||e.tag===4}function Ap(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ov(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zu(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Il));else if(r!==4&&(e=e.child,e!==null))for(Zu(e,t,s),e=e.sibling;e!==null;)Zu(e,t,s),e=e.sibling}function Ku(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ku(e,t,s),e=e.sibling;e!==null;)Ku(e,t,s),e=e.sibling}var ft=null,js=!1;function vr(e,t,s){for(s=s.child;s!==null;)lv(e,t,s),s=s.sibling}function lv(e,t,s){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Nc,s)}catch{}switch(s.tag){case 5:bt||aa(s,t);case 6:var r=ft,a=js;ft=null,vr(e,t,s),ft=r,js=a,ft!==null&&(js?(e=ft,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ft.removeChild(s.stateNode));break;case 18:ft!==null&&(js?(e=ft,s=s.stateNode,e.nodeType===8?Cd(e.parentNode,s):e.nodeType===1&&Cd(e,s),Oi(e)):Cd(ft,s.stateNode));break;case 4:r=ft,a=js,ft=s.stateNode.containerInfo,js=!0,vr(e,t,s),ft=r,js=a;break;case 0:case 11:case 14:case 15:if(!bt&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qu(s,t,o),a=a.next}while(a!==r)}vr(e,t,s);break;case 1:if(!bt&&(aa(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){We(s,t,l)}vr(e,t,s);break;case 21:vr(e,t,s);break;case 22:s.mode&1?(bt=(r=bt)||s.memoizedState!==null,vr(e,t,s),bt=r):vr(e,t,s);break;default:vr(e,t,s)}}function Pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Fk),t.forEach(function(r){var a=Zk.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function vs(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,js=!1;break e;case 3:ft=l.stateNode.containerInfo,js=!0;break e;case 4:ft=l.stateNode.containerInfo,js=!0;break e}l=l.return}if(ft===null)throw Error(K(160));lv(i,o,a),ft=null,js=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){We(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cv(t,e),t=t.sibling}function cv(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),Ps(e),r&4){try{ji(3,e,e.return),Rc(3,e)}catch(v){We(e,e.return,v)}try{ji(5,e,e.return)}catch(v){We(e,e.return,v)}}break;case 1:vs(t,e),Ps(e),r&512&&s!==null&&aa(s,s.return);break;case 5:if(vs(t,e),Ps(e),r&512&&s!==null&&aa(s,s.return),e.flags&32){var a=e.stateNode;try{Pi(a,"")}catch(v){We(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Pg(a,i),vu(l,o);var d=vu(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Mg(a,h):u==="dangerouslySetInnerHTML"?Dg(a,h):u==="children"?Pi(a,h):qh(a,u,h,d)}switch(l){case"input":mu(a,i);break;case"textarea":Rg(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ha(a,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?ha(a,!!i.multiple,i.defaultValue,!0):ha(a,!!i.multiple,i.multiple?[]:"",!1))}a[$i]=i}catch(v){We(e,e.return,v)}}break;case 6:if(vs(t,e),Ps(e),r&4){if(e.stateNode===null)throw Error(K(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){We(e,e.return,v)}}break;case 3:if(vs(t,e),Ps(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(v){We(e,e.return,v)}break;case 4:vs(t,e),Ps(e);break;case 13:vs(t,e),Ps(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Sf=Ze())),r&4&&Pp(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(bt=(d=bt)||u,vs(t,e),bt=d):vs(t,e),Ps(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(re=e,u=e.child;u!==null;){for(h=re=u;re!==null;){switch(f=re,y=f.child,f.tag){case 0:case 11:case 14:case 15:ji(4,f,f.return);break;case 1:aa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,s=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){We(r,s,v)}}break;case 5:aa(f,f.return);break;case 22:if(f.memoizedState!==null){Lp(h);continue}}y!==null?(y.return=f,re=y):Lp(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Og("display",o))}catch(v){We(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){We(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),Ps(e),r&4&&Pp(e);break;case 21:break;default:vs(t,e),Ps(e)}}function Ps(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(ov(s)){var r=s;break e}s=s.return}throw Error(K(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Pi(a,""),r.flags&=-33);var i=Ap(e);Ku(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ap(e);Zu(e,l,o);break;default:throw Error(K(161))}}catch(c){We(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $k(e,t,s){re=e,dv(e)}function dv(e,t,s){for(var r=(e.mode&1)!==0;re!==null;){var a=re,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Ho;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||bt;l=Ho;var d=bt;if(Ho=o,(bt=c)&&!d)for(re=a;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?Dp(a):c!==null?(c.return=o,re=c):Dp(a);for(;i!==null;)re=i,dv(i),i=i.sibling;re=a,Ho=l,bt=d}Rp(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,re=i):Rp(e)}}function Rp(e){for(;re!==null;){var t=re;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||Rc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bt)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:bs(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}xp(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Oi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}bt||t.flags&512&&Gu(t)}catch(f){We(t,t.return,f)}}if(t===e){re=null;break}if(s=t.sibling,s!==null){s.return=t.return,re=s;break}re=t.return}}function Lp(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var s=t.sibling;if(s!==null){s.return=t.return,re=s;break}re=t.return}}function Dp(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Rc(4,t)}catch(c){We(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){We(t,a,c)}}var i=t.return;try{Gu(t)}catch(c){We(t,i,c)}break;case 5:var o=t.return;try{Gu(t)}catch(c){We(t,o,c)}}}catch(c){We(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var Bk=Math.ceil,Zl=pr.ReactCurrentDispatcher,Nf=pr.ReactCurrentOwner,hs=pr.ReactCurrentBatchConfig,ke=0,ut=null,Je=null,pt=0,Gt=0,ia=tn(0),ot=0,qi=null,Pn=0,Lc=0,Cf=0,wi=null,Ft=null,Sf=0,Na=1/0,Ys=null,Kl=!1,Qu=null,Vr=null,Wo=!1,Pr=null,Ql=0,ki=0,Yu=null,fl=-1,ml=0;function Lt(){return ke&6?Ze():fl!==-1?fl:fl=Ze()}function $r(e){return e.mode&1?ke&2&&pt!==0?pt&-pt:Nk.transition!==null?(ml===0&&(ml=Zg()),ml):(e=_e,e!==0||(e=window.event,e=e===void 0?16:ty(e.type)),e):1}function Es(e,t,s,r){if(50<ki)throw ki=0,Yu=null,Error(K(185));no(e,s,r),(!(ke&2)||e!==ut)&&(e===ut&&(!(ke&2)&&(Lc|=s),ot===4&&Er(e,pt)),Ut(e,r),s===1&&ke===0&&!(t.mode&1)&&(Na=Ze()+500,_c&&sn()))}function Ut(e,t){var s=e.callbackNode;Nw(e,t);var r=Ll(e,e===ut?pt:0);if(r===0)s!==null&&zm(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&zm(s),t===1)e.tag===0?kk(Op.bind(null,e)):by(Op.bind(null,e)),vk(function(){!(ke&6)&&sn()}),s=null;else{switch(Kg(r)){case 1:s=Yh;break;case 4:s=qg;break;case 16:s=Rl;break;case 536870912:s=Gg;break;default:s=Rl}s=yv(s,uv.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function uv(e,t){if(fl=-1,ml=0,ke&6)throw Error(K(327));var s=e.callbackNode;if(ga()&&e.callbackNode!==s)return null;var r=Ll(e,e===ut?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yl(e,r);else{t=r;var a=ke;ke|=2;var i=fv();(ut!==e||pt!==t)&&(Ys=null,Na=Ze()+500,wn(e,t));do try{Hk();break}catch(l){hv(e,l)}while(!0);uf(),Zl.current=i,ke=a,Je!==null?t=0:(ut=null,pt=0,t=ot)}if(t!==0){if(t===2&&(a=Nu(e),a!==0&&(r=a,t=Xu(e,a))),t===1)throw s=qi,wn(e,0),Er(e,r),Ut(e,Ze()),s;if(t===6)Er(e,r);else{if(a=e.current.alternate,!(r&30)&&!Uk(a)&&(t=Yl(e,r),t===2&&(i=Nu(e),i!==0&&(r=i,t=Xu(e,i))),t===1))throw s=qi,wn(e,0),Er(e,r),Ut(e,Ze()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:hn(e,Ft,Ys);break;case 3:if(Er(e,r),(r&130023424)===r&&(t=Sf+500-Ze(),10<t)){if(Ll(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ru(hn.bind(null,e,Ft,Ys),t);break}hn(e,Ft,Ys);break;case 4:if(Er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ss(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bk(r/1960))-r,10<r){e.timeoutHandle=Ru(hn.bind(null,e,Ft,Ys),r);break}hn(e,Ft,Ys);break;case 5:hn(e,Ft,Ys);break;default:throw Error(K(329))}}}return Ut(e,Ze()),e.callbackNode===s?uv.bind(null,e):null}function Xu(e,t){var s=wi;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=Ft,Ft=s,t!==null&&Ju(t)),e}function Ju(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function Uk(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],i=a.getSnapshot;a=a.value;try{if(!Ts(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~Cf,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ss(t),r=1<<s;e[s]=-1,t&=~r}}function Op(e){if(ke&6)throw Error(K(327));ga();var t=Ll(e,0);if(!(t&1))return Ut(e,Ze()),null;var s=Yl(e,t);if(e.tag!==0&&s===2){var r=Nu(e);r!==0&&(t=r,s=Xu(e,r))}if(s===1)throw s=qi,wn(e,0),Er(e,t),Ut(e,Ze()),s;if(s===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hn(e,Ft,Ys),Ut(e,Ze()),null}function Ef(e,t){var s=ke;ke|=1;try{return e(t)}finally{ke=s,ke===0&&(Na=Ze()+500,_c&&sn())}}function Rn(e){Pr!==null&&Pr.tag===0&&!(ke&6)&&ga();var t=ke;ke|=1;var s=hs.transition,r=_e;try{if(hs.transition=null,_e=1,e)return e()}finally{_e=r,hs.transition=s,ke=t,!(ke&6)&&sn()}}function Tf(){Gt=ia.current,Ie(ia)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,yk(s)),Je!==null)for(s=Je.return;s!==null;){var r=s;switch(lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fl();break;case 3:wa(),Ie($t),Ie(kt),gf();break;case 5:xf(r);break;case 4:wa();break;case 13:Ie($e);break;case 19:Ie($e);break;case 10:hf(r.type._context);break;case 22:case 23:Tf()}s=s.return}if(ut=e,Je=e=Br(e.current,null),pt=Gt=t,ot=0,qi=null,Cf=Lc=Pn=0,Ft=wi=null,gn!==null){for(t=0;t<gn.length;t++)if(s=gn[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}s.pending=r}gn=null}return e}function hv(e,t){do{var s=Je;try{if(uf(),dl.current=Gl,ql){for(var r=Ue.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ql=!1}if(An=0,ct=at=Ue=null,bi=!1,zi=0,Nf.current=null,s===null||s.return===null){ot=1,qi=t,Je=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=wp(o);if(y!==null){y.flags&=-257,kp(y,o,l,i,t),y.mode&1&&jp(i,d,t),t=y,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){jp(i,d,t),_f();break e}c=Error(K(426))}}else if(Fe&&l.mode&1){var w=wp(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),kp(w,o,l,i,t),cf(ka(c,l));break e}}i=c=ka(c,l),ot!==4&&(ot=2),wi===null?wi=[i]:wi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Ky(i,c,t);pp(i,b);break e;case 1:l=c;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vr===null||!Vr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Qy(i,l,t);pp(i,j);break e}}i=i.return}while(i!==null)}pv(s)}catch(k){t=k,Je===s&&s!==null&&(Je=s=s.return);continue}break}while(!0)}function fv(){var e=Zl.current;return Zl.current=Gl,e===null?Gl:e}function _f(){(ot===0||ot===3||ot===2)&&(ot=4),ut===null||!(Pn&268435455)&&!(Lc&268435455)||Er(ut,pt)}function Yl(e,t){var s=ke;ke|=2;var r=fv();(ut!==e||pt!==t)&&(Ys=null,wn(e,t));do try{zk();break}catch(a){hv(e,a)}while(!0);if(uf(),ke=s,Zl.current=r,Je!==null)throw Error(K(261));return ut=null,pt=0,ot}function zk(){for(;Je!==null;)mv(Je)}function Hk(){for(;Je!==null&&!pw();)mv(Je)}function mv(e){var t=gv(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?pv(e):Je=t,Nf.current=null}function pv(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Ik(s,t),s!==null){s.flags&=32767,Je=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,Je=null;return}}else if(s=Mk(s,t,Gt),s!==null){Je=s;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);ot===0&&(ot=5)}function hn(e,t,s){var r=_e,a=hs.transition;try{hs.transition=null,_e=1,Wk(e,t,s,r)}finally{hs.transition=a,_e=r}return null}function Wk(e,t,s,r){do ga();while(Pr!==null);if(ke&6)throw Error(K(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(Cw(e,i),e===ut&&(Je=ut=null,pt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Wo||(Wo=!0,yv(Rl,function(){return ga(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=hs.transition,hs.transition=null;var o=_e;_e=1;var l=ke;ke|=4,Nf.current=null,Vk(e,s),cv(s,e),uk(Au),Dl=!!_u,Au=_u=null,e.current=s,$k(s),xw(),ke=l,_e=o,hs.transition=i}else e.current=s;if(Wo&&(Wo=!1,Pr=e,Ql=a),i=e.pendingLanes,i===0&&(Vr=null),vw(s.stateNode),Ut(e,Ze()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(Kl)throw Kl=!1,e=Qu,Qu=null,e;return Ql&1&&e.tag!==0&&ga(),i=e.pendingLanes,i&1?e===Yu?ki++:(ki=0,Yu=e):ki=0,sn(),null}function ga(){if(Pr!==null){var e=Kg(Ql),t=hs.transition,s=_e;try{if(hs.transition=null,_e=16>e?16:e,Pr===null)var r=!1;else{if(e=Pr,Pr=null,Ql=0,ke&6)throw Error(K(331));var a=ke;for(ke|=4,re=e.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(re=d;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:ji(8,u,i)}var h=u.child;if(h!==null)h.return=u,re=h;else for(;re!==null;){u=re;var f=u.sibling,y=u.return;if(iv(u),u===d){re=null;break}if(f!==null){f.return=y,re=f;break}re=y}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ji(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,re=b;break e}re=i.return}}var p=e.current;for(re=p;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=p;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rc(9,l)}}catch(k){We(l,l.return,k)}if(l===o){re=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,re=j;break e}re=l.return}}if(ke=a,sn(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Nc,e)}catch{}r=!0}return r}finally{_e=s,hs.transition=t}}return!1}function Mp(e,t,s){t=ka(s,t),t=Ky(e,t,1),e=Fr(e,t,1),t=Lt(),e!==null&&(no(e,1,t),Ut(e,t))}function We(e,t,s){if(e.tag===3)Mp(e,e,s);else for(;t!==null;){if(t.tag===3){Mp(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){e=ka(s,e),e=Qy(t,e,1),t=Fr(t,e,1),e=Lt(),t!==null&&(no(t,1,e),Ut(t,e));break}}t=t.return}}function qk(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&s,ut===e&&(pt&s)===s&&(ot===4||ot===3&&(pt&130023424)===pt&&500>Ze()-Sf?wn(e,0):Cf|=s),Ut(e,t)}function xv(e,t){t===0&&(e.mode&1?(t=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):t=1);var s=Lt();e=or(e,t),e!==null&&(no(e,t,s),Ut(e,s))}function Gk(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),xv(e,s)}function Zk(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),xv(e,s)}var gv;gv=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)Vt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Vt=!1,Ok(e,t,s);Vt=!!(e.flags&131072)}else Vt=!1,Fe&&t.flags&1048576&&jy(t,Bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hl(e,t),e=t.pendingProps;var a=va(t,kt.current);xa(t,s),a=vf(null,t,r,e,a,s);var i=bf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(i=!0,Vl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mf(t),a.updater=Pc,t.stateNode=a,a._reactInternals=t,Vu(t,r,e,s),t=Uu(null,t,r,!0,i,s)):(t.tag=0,Fe&&i&&of(t),At(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(hl(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Qk(r),e=bs(r,e),a){case 0:t=Bu(null,t,r,e,s);break e;case 1:t=Sp(null,t,r,e,s);break e;case 11:t=Np(null,t,r,e,s);break e;case 14:t=Cp(null,t,r,bs(r.type,e),s);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),Bu(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),Sp(e,t,r,a,s);case 3:e:{if(ev(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,a=i.element,Ey(e,t),Hl(t,r,null,s);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ka(Error(K(423)),t),t=Ep(e,t,r,s,a);break e}else if(r!==a){a=ka(Error(K(424)),t),t=Ep(e,t,r,s,a);break e}else for(Kt=Ir(t.stateNode.containerInfo.firstChild),Yt=t,Fe=!0,ks=null,s=Cy(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ba(),r===a){t=lr(e,t,s);break e}At(e,t,r,s)}t=t.child}return t;case 5:return Ty(t),e===null&&Mu(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Pu(r,a)?o=null:i!==null&&Pu(r,i)&&(t.flags|=32),Jy(e,t),At(e,t,o,s),t.child;case 6:return e===null&&Mu(t),null;case 13:return tv(e,t,s);case 4:return pf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ja(t,null,r,s):At(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),Np(e,t,r,a,s);case 7:return At(e,t,t.pendingProps,s),t.child;case 8:return At(e,t,t.pendingProps.children,s),t.child;case 12:return At(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Le(Ul,r._currentValue),r._currentValue=o,i!==null)if(Ts(i.value,o)){if(i.children===a.children&&!$t.current){t=lr(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=sr(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Iu(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Iu(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,xa(t,s),a=fs(a),r=r(a),t.flags|=1,At(e,t,r,s),t.child;case 14:return r=t.type,a=bs(r,t.pendingProps),a=bs(r.type,a),Cp(e,t,r,a,s);case 15:return Yy(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),hl(e,t),t.tag=1,Bt(r)?(e=!0,Vl(t)):e=!1,xa(t,s),Zy(t,r,a),Vu(t,r,a,s),Uu(null,t,r,!0,e,s);case 19:return sv(e,t,s);case 22:return Xy(e,t,s)}throw Error(K(156,t.tag))};function yv(e,t){return Wg(e,t)}function Kk(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(e,t,s,r){return new Kk(e,t,s,r)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qk(e){if(typeof e=="function")return Af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zh)return 11;if(e===Kh)return 14}return 2}function Br(e,t){var s=e.alternate;return s===null?(s=us(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function pl(e,t,s,r,a,i){var o=2;if(r=e,typeof e=="function")Af(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qn:return kn(s.children,a,i,t);case Gh:o=8,a|=8;break;case cu:return e=us(12,s,t,a|2),e.elementType=cu,e.lanes=i,e;case du:return e=us(13,s,t,a),e.elementType=du,e.lanes=i,e;case uu:return e=us(19,s,t,a),e.elementType=uu,e.lanes=i,e;case Tg:return Dc(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sg:o=10;break e;case Eg:o=9;break e;case Zh:o=11;break e;case Kh:o=14;break e;case wr:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=us(o,s,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function kn(e,t,s,r){return e=us(7,e,r,t),e.lanes=s,e}function Dc(e,t,s,r){return e=us(22,e,r,t),e.elementType=Tg,e.lanes=s,e.stateNode={isHidden:!1},e}function Ld(e,t,s){return e=us(6,e,null,t),e.lanes=s,e}function Dd(e,t,s){return t=us(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yk(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Pf(e,t,s,r,a,i,o,l,c){return e=new Yk(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=us(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(i),e}function Xk(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function vv(e){if(!e)return Zr;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var s=e.type;if(Bt(s))return vy(e,s,t)}return t}function bv(e,t,s,r,a,i,o,l,c){return e=Pf(s,r,!0,e,a,i,o,l,c),e.context=vv(null),s=e.current,r=Lt(),a=$r(s),i=sr(r,a),i.callback=t??null,Fr(s,i,a),e.current.lanes=a,no(e,a,r),Ut(e,r),e}function Oc(e,t,s,r){var a=t.current,i=Lt(),o=$r(a);return s=vv(s),t.context===null?t.context=s:t.pendingContext=s,t=sr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fr(a,t,o),e!==null&&(Es(e,a,o,i),cl(e,a,o)),o}function Xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Rf(e,t){Ip(e,t),(e=e.alternate)&&Ip(e,t)}function Jk(){return null}var jv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lf(e){this._internalRoot=e}Mc.prototype.render=Lf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Oc(e,t,null,null)};Mc.prototype.unmount=Lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){Oc(null,e,null,null)}),t[ir]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xg();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Sr.length&&t!==0&&t<Sr[s].priority;s++);Sr.splice(s,0,e),s===0&&ey(e)}};function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fp(){}function eN(e,t,s,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Xl(o);i.call(d)}}var o=bv(t,r,e,0,null,!1,!1,"",Fp);return e._reactRootContainer=o,e[ir]=o.current,Fi(e.nodeType===8?e.parentNode:e),Rn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Xl(c);l.call(d)}}var c=Pf(e,0,!1,null,null,!1,!1,"",Fp);return e._reactRootContainer=c,e[ir]=c.current,Fi(e.nodeType===8?e.parentNode:e),Rn(function(){Oc(t,c,s,r)}),c}function Fc(e,t,s,r,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Xl(o);l.call(c)}}Oc(t,o,e,a)}else o=eN(s,t,e,a,r);return Xl(o)}Qg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=li(t.pendingLanes);s!==0&&(Xh(t,s|1),Ut(t,Ze()),!(ke&6)&&(Na=Ze()+500,sn()))}break;case 13:Rn(function(){var r=or(e,1);if(r!==null){var a=Lt();Es(r,e,1,a)}}),Rf(e,1)}};Jh=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var s=Lt();Es(t,e,134217728,s)}Rf(e,134217728)}};Yg=function(e){if(e.tag===13){var t=$r(e),s=or(e,t);if(s!==null){var r=Lt();Es(s,e,t,r)}Rf(e,t)}};Xg=function(){return _e};Jg=function(e,t){var s=_e;try{return _e=e,t()}finally{_e=s}};ju=function(e,t,s){switch(t){case"input":if(mu(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Tc(r);if(!a)throw Error(K(90));Ag(r),mu(r,a)}}}break;case"textarea":Rg(e,s);break;case"select":t=s.value,t!=null&&ha(e,!!s.multiple,t,!1)}};Vg=Ef;$g=Rn;var tN={usingClientEntryPoint:!1,Events:[io,ea,Tc,Ig,Fg,Ef]},Xa={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sN={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zg(e),e===null?null:e.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||Jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{Nc=qo.inject(sN),Vs=qo}catch{}}ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tN;ts.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(t))throw Error(K(200));return Xk(e,t,null,s)};ts.createRoot=function(e,t){if(!Df(e))throw Error(K(299));var s=!1,r="",a=jv;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Pf(e,1,!1,null,null,s,!1,r,a),e[ir]=t.current,Fi(e.nodeType===8?e.parentNode:e),new Lf(t)};ts.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=zg(t),e=e===null?null:e.stateNode,e};ts.flushSync=function(e){return Rn(e)};ts.hydrate=function(e,t,s){if(!Ic(t))throw Error(K(200));return Fc(null,e,t,!0,s)};ts.hydrateRoot=function(e,t,s){if(!Df(e))throw Error(K(405));var r=s!=null&&s.hydratedSources||null,a=!1,i="",o=jv;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=bv(t,null,e,1,s??null,a,!1,i,o),e[ir]=t.current,Fi(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Mc(t)};ts.render=function(e,t,s){if(!Ic(t))throw Error(K(200));return Fc(null,e,t,!1,s)};ts.unmountComponentAtNode=function(e){if(!Ic(e))throw Error(K(40));return e._reactRootContainer?(Rn(function(){Fc(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};ts.unstable_batchedUpdates=Ef;ts.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Ic(s))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Fc(e,t,s,!1,r)};ts.version="18.3.1-next-f1338f8080-20240426";function wv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wv)}catch(e){console.error(e)}}wv(),wg.exports=ts;var rN=wg.exports,Vp=rN;ou.createRoot=Vp.createRoot,ou.hydrateRoot=Vp.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Gi.apply(this,arguments)}var Rr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rr||(Rr={}));const $p="popstate";function nN(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return eh("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Jl(a)}return iN(t,s,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Of(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aN(){return Math.random().toString(36).substr(2,8)}function Bp(e,t){return{usr:e.state,key:e.key,idx:t}}function eh(e,t,s,r){return s===void 0&&(s=null),Gi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ia(t):t,{state:s,key:t&&t.key||r||aN()})}function Jl(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ia(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iN(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=Rr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Gi({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Rr.Pop;let w=u(),b=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:b})}function f(w,b){l=Rr.Push;let p=eh(v.location,w,b);d=u()+1;let x=Bp(p,d),j=v.createHref(p);try{o.pushState(x,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function y(w,b){l=Rr.Replace;let p=eh(v.location,w,b);d=u();let x=Bp(p,d),j=v.createHref(p);o.replaceState(x,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function g(w){let b=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof w=="string"?w:Jl(w);return p=p.replace(/ $/,"%20"),ze(b,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,b)}let v={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener($p,h),c=w,()=>{a.removeEventListener($p,h),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:y,go(w){return o.go(w)}};return v}var Up;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Up||(Up={}));function oN(e,t,s){return s===void 0&&(s="/"),lN(e,t,s)}function lN(e,t,s,r){let a=typeof t=="string"?Ia(t):t,i=Ca(a.pathname||"/",s);if(i==null)return null;let o=kv(e);cN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=bN(i);l=yN(o[c],d)}return l}function kv(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ur([r,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),kv(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:xN(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Nv(i.path))a(i,o,c)}),t}function Nv(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Nv(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cN(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:gN(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const dN=/^:[\w-]+$/,uN=3,hN=2,fN=1,mN=10,pN=-2,zp=e=>e==="*";function xN(e,t){let s=e.split("/"),r=s.length;return s.some(zp)&&(r+=pN),t&&(r+=hN),s.filter(a=>!zp(a)).reduce((a,i)=>a+(dN.test(i)?uN:i===""?fN:mN),r)}function gN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function yN(e,t,s){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=th({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Ur([i,h.pathname]),pathnameBase:CN(Ur([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ur([i,h.pathnameBase]))}return o}function th(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=vN(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:y}=u;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return y&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function vN(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Of(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function bN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Of(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ca(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}const jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wN=e=>jN.test(e);function kN(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?Ia(e):e,i;if(s)if(wN(s))i=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),Of(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?i=Hp(s.substring(1),"/"):i=Hp(s,t)}else i=t;return{pathname:i,search:SN(r),hash:EN(a)}}function Hp(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Od(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NN(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Mf(e,t){let s=NN(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function If(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Ia(e):(a=Gi({},e),ze(!a.pathname||!a.pathname.includes("?"),Od("?","pathname","search",a)),ze(!a.pathname||!a.pathname.includes("#"),Od("#","pathname","hash",a)),ze(!a.search||!a.search.includes("#"),Od("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=kN(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ur=e=>e.join("/").replace(/\/\/+/g,"/"),CN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cv=["post","put","patch","delete"];new Set(Cv);const _N=["get",...Cv];new Set(_N);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Zi.apply(this,arguments)}const Vc=m.createContext(null),Sv=m.createContext(null),xr=m.createContext(null),$c=m.createContext(null),Zs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Ev=m.createContext(null);function AN(e,t){let{relative:s}=t===void 0?{}:t;Fa()||ze(!1);let{basename:r,navigator:a}=m.useContext(xr),{hash:i,pathname:o,search:l}=Bc(e,{relative:s}),c=o;return r!=="/"&&(c=o==="/"?r:Ur([r,o])),a.createHref({pathname:c,search:l,hash:i})}function Fa(){return m.useContext($c)!=null}function $n(){return Fa()||ze(!1),m.useContext($c).location}function Tv(e){m.useContext(xr).static||m.useLayoutEffect(e)}function xs(){let{isDataRoute:e}=m.useContext(Zs);return e?WN():PN()}function PN(){Fa()||ze(!1);let e=m.useContext(Vc),{basename:t,future:s,navigator:r}=m.useContext(xr),{matches:a}=m.useContext(Zs),{pathname:i}=$n(),o=JSON.stringify(Mf(a,s.v7_relativeSplatPath)),l=m.useRef(!1);return Tv(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=If(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ur([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,o,i,e])}const RN=m.createContext(null);function LN(e){let t=m.useContext(Zs).outlet;return t&&m.createElement(RN.Provider,{value:e},t)}function _v(){let{matches:e}=m.useContext(Zs),t=e[e.length-1];return t?t.params:{}}function Bc(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=m.useContext(xr),{matches:a}=m.useContext(Zs),{pathname:i}=$n(),o=JSON.stringify(Mf(a,r.v7_relativeSplatPath));return m.useMemo(()=>If(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function DN(e,t){return ON(e,t)}function ON(e,t,s,r){Fa()||ze(!1);let{navigator:a}=m.useContext(xr),{matches:i}=m.useContext(Zs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=$n(),u;if(t){var h;let w=typeof t=="string"?Ia(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||ze(!1),u=w}else u=d;let f=u.pathname||"/",y=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=oN(e,{pathname:y}),v=$N(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ur([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ur([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,s,r);return t&&v?m.createElement($c.Provider,{value:{location:Zi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Rr.Pop}},v):v}function MN(){let e=HN(),t=TN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),s?m.createElement("pre",{style:a},s):null,null)}const IN=m.createElement(MN,null);class FN extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?m.createElement(Zs.Provider,{value:this.props.routeContext},m.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VN(e){let{routeContext:t,match:s,children:r}=e,a=m.useContext(Vc);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),m.createElement(Zs.Provider,{value:t},r)}function $N(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||ze(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:y}=s,g=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let y,g=!1,v=null,w=null;s&&(y=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||IN,c&&(d<0&&f===0?(qN("route-fallback"),g=!0,w=null):d===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),p=()=>{let x;return y?x=v:g?x=w:h.route.Component?x=m.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,m.createElement(VN,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:x})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(FN,{location:s.location,revalidation:s.revalidation,component:v,error:y,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):p()},null)}var Av=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Av||{}),Pv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pv||{});function BN(e){let t=m.useContext(Vc);return t||ze(!1),t}function UN(e){let t=m.useContext(Sv);return t||ze(!1),t}function zN(e){let t=m.useContext(Zs);return t||ze(!1),t}function Rv(e){let t=zN(),s=t.matches[t.matches.length-1];return s.route.id||ze(!1),s.route.id}function HN(){var e;let t=m.useContext(Ev),s=UN(),r=Rv();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function WN(){let{router:e}=BN(Av.UseNavigateStable),t=Rv(Pv.UseNavigateStable),s=m.useRef(!1);return Tv(()=>{s.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Zi({fromRouteId:t},i)))},[e,t])}const Wp={};function qN(e,t,s){Wp[e]||(Wp[e]=!0)}function GN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cs(e){let{to:t,replace:s,state:r,relative:a}=e;Fa()||ze(!1);let{future:i,static:o}=m.useContext(xr),{matches:l}=m.useContext(Zs),{pathname:c}=$n(),d=xs(),u=If(t,Mf(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:s,state:r,relative:a}),[d,h,a,s,r]),null}function Lv(e){return LN(e.context)}function Ae(e){ze(!1)}function ZN(e){let{basename:t="/",children:s=null,location:r,navigationType:a=Rr.Pop,navigator:i,static:o=!1,future:l}=e;Fa()&&ze(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Zi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Ia(r));let{pathname:u="/",search:h="",hash:f="",state:y=null,key:g="default"}=r,v=m.useMemo(()=>{let w=Ca(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:y,key:g},navigationType:a}},[c,u,h,f,y,g,a]);return v==null?null:m.createElement(xr.Provider,{value:d},m.createElement($c.Provider,{children:s,value:v}))}function KN(e){let{children:t,location:s}=e;return DN(sh(t),s)}new Promise(()=>{});function sh(e,t){t===void 0&&(t=[]);let s=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let i=[...t,a];if(r.type===m.Fragment){s.push.apply(s,sh(r.props.children,i));return}r.type!==Ae&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sh(r.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ec.apply(this,arguments)}function Dv(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function QN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YN(e,t){return e.button===0&&(!t||t==="_self")&&!QN(e)}const XN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],e2="6";try{window.__reactRouterVersion=e2}catch{}const t2=m.createContext({isTransitioning:!1}),s2="startTransition",qp=qj[s2];function r2(e){let{basename:t,children:s,future:r,window:a}=e,i=m.useRef();i.current==null&&(i.current=nN({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=m.useCallback(h=>{d&&qp?qp(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>GN(r),[r]),m.createElement(ZN,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:r})}const n2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=m.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Dv(t,XN),{basename:y}=m.useContext(xr),g,v=!1;if(typeof d=="string"&&a2.test(d)&&(g=d,n2))try{let x=new URL(window.location.href),j=d.startsWith("//")?new URL(x.protocol+d):new URL(d),k=Ca(j.pathname,y);j.origin===x.origin&&k!=null?d=k+j.search+j.hash:v=!0}catch{}let w=AN(d,{relative:a}),b=o2(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function p(x){r&&r(x),x.defaultPrevented||b(x)}return m.createElement("a",ec({},f,{href:g||w,onClick:v||i?r:p,ref:s,target:c}))}),Gp=m.forwardRef(function(t,s){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=Dv(t,JN),f=Bc(c,{relative:h.relative}),y=$n(),g=m.useContext(Sv),{navigator:v,basename:w}=m.useContext(xr),b=g!=null&&l2(f)&&d===!0,p=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=y.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(x=x.toLowerCase(),j=j?j.toLowerCase():null,p=p.toLowerCase()),j&&w&&(j=Ca(j,w)||j);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let N=x===p||!o&&x.startsWith(p)&&x.charAt(k)==="/",S=j!=null&&(j===p||!o&&j.startsWith(p)&&j.charAt(p.length)==="/"),C={isActive:N,isPending:S,isTransitioning:b},L=N?r:void 0,V;typeof i=="function"?V=i(C):V=[i,N?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(C):l;return m.createElement(je,ec({},h,{"aria-current":L,className:V,ref:s,style:U,to:c,viewTransition:d}),typeof u=="function"?u(C):u)});var rh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rh||(rh={}));var Zp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zp||(Zp={}));function i2(e){let t=m.useContext(Vc);return t||ze(!1),t}function o2(e,t){let{target:s,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=xs(),d=$n(),u=Bc(e,{relative:o});return m.useCallback(h=>{if(YN(h,s)){h.preventDefault();let f=r!==void 0?r:Jl(d)===Jl(u);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,a,s,e,i,o,l])}function l2(e,t){t===void 0&&(t={});let s=m.useContext(t2);s==null&&ze(!1);let{basename:r}=i2(rh.useViewTransitionState),a=Bc(e,{relative:t.relative});if(!s.isTransitioning)return!1;let i=Ca(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=Ca(s.nextLocation.pathname,r)||s.nextLocation.pathname;return th(a.pathname,o)!=null||th(a.pathname,i)!=null}let c2={data:""},d2=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||c2},u2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,h2=/\/\*[^]*?\*\/|  +/g,Kp=/\n+/g,Tr=(e,t)=>{let s="",r="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":r+=i[1]=="f"?Tr(o,i):i+"{"+Tr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Tr(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Tr.p?Tr.p(i,o):i+":"+o+";")}return s+(t&&a?t+"{"+a+"}":a)+r},Ks={},Ov=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+Ov(e[s]);return t}return e},f2=(e,t,s,r,a)=>{let i=Ov(e),o=Ks[i]||(Ks[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Ks[o]){let c=i!==e?e:(d=>{let u,h,f=[{}];for(;u=u2.exec(d.replace(h2,""));)u[4]?f.shift():u[3]?(h=u[3].replace(Kp," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(Kp," ").trim();return f[0]})(e);Ks[o]=Tr(a?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Ks.g?Ks.g:null;return s&&(Ks.g=Ks[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Ks[o],t,r,l),o},m2=(e,t,s)=>e.reduce((r,a,i)=>{let o=t[i];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Tr(l,""):l===!1?"":l}return r+a+(o??"")},"");function Uc(e){let t=this||{},s=e.call?e(t.p):e;return f2(s.unshift?s.raw?m2(s,[].slice.call(arguments,1),t.p):s.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):s,d2(t.target),t.g,t.o,t.k)}let Mv,nh,ah;Uc.bind({g:1});let cr=Uc.bind({k:1});function p2(e,t,s,r){Tr.p=t,Mv=e,nh=s,ah=r}function rn(e,t){let s=this||{};return function(){let r=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;s.p=Object.assign({theme:nh&&nh()},l),s.o=/ *go\d+/.test(c),l.className=Uc.apply(s,r)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),ah&&d[0]&&ah(l),Mv(d,l)}return a}}var x2=e=>typeof e=="function",tc=(e,t)=>x2(e)?e(t):e,g2=(()=>{let e=0;return()=>(++e).toString()})(),Iv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),y2=20,Ff="default",Fv=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return Fv(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},xl=[],Vv={toasts:[],pausedAt:void 0,settings:{toastLimit:y2}},Fs={},$v=(e,t=Ff)=>{Fs[t]=Fv(Fs[t]||Vv,e),xl.forEach(([s,r])=>{s===t&&r(Fs[t])})},Bv=e=>Object.keys(Fs).forEach(t=>$v(e,t)),v2=e=>Object.keys(Fs).find(t=>Fs[t].toasts.some(s=>s.id===e)),zc=(e=Ff)=>t=>{$v(t,e)},b2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},j2=(e={},t=Ff)=>{let[s,r]=m.useState(Fs[t]||Vv),a=m.useRef(Fs[t]);m.useEffect(()=>(a.current!==Fs[t]&&r(Fs[t]),xl.push([t,r]),()=>{let o=xl.findIndex(([l])=>l===t);o>-1&&xl.splice(o,1)}),[t]);let i=s.toasts.map(o=>{var l,c,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||b2[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...s,toasts:i}},w2=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||g2()}),lo=e=>(t,s)=>{let r=w2(t,e,s);return zc(r.toasterId||v2(r.id))({type:2,toast:r}),r.id},it=(e,t)=>lo("blank")(e,t);it.error=lo("error");it.success=lo("success");it.loading=lo("loading");it.custom=lo("custom");it.dismiss=(e,t)=>{let s={type:3,toastId:e};t?zc(t)(s):Bv(s)};it.dismissAll=e=>it.dismiss(void 0,e);it.remove=(e,t)=>{let s={type:4,toastId:e};t?zc(t)(s):Bv(s)};it.removeAll=e=>it.remove(void 0,e);it.promise=(e,t,s)=>{let r=it.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?tc(t.success,a):void 0;return i?it.success(i,{id:r,...s,...s==null?void 0:s.success}):it.dismiss(r),a}).catch(a=>{let i=t.error?tc(t.error,a):void 0;i?it.error(i,{id:r,...s,...s==null?void 0:s.error}):it.dismiss(r)}),e};var k2=1e3,N2=(e,t="default")=>{let{toasts:s,pausedAt:r}=j2(e,t),a=m.useRef(new Map).current,i=m.useCallback((h,f=k2)=>{if(a.has(h))return;let y=setTimeout(()=>{a.delete(h),o({type:4,toastId:h})},f);a.set(h,y)},[]);m.useEffect(()=>{if(r)return;let h=Date.now(),f=s.map(y=>{if(y.duration===1/0)return;let g=(y.duration||0)+y.pauseDuration-(h-y.createdAt);if(g<0){y.visible&&it.dismiss(y.id);return}return setTimeout(()=>it.dismiss(y.id,t),g)});return()=>{f.forEach(y=>y&&clearTimeout(y))}},[s,r,t]);let o=m.useCallback(zc(t),[t]),l=m.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=m.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),d=m.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=m.useCallback((h,f)=>{let{reverseOrder:y=!1,gutter:g=8,defaultPosition:v}=f||{},w=s.filter(x=>(x.position||v)===(h.position||v)&&x.height),b=w.findIndex(x=>x.id===h.id),p=w.filter((x,j)=>j<b&&x.visible).length;return w.filter(x=>x.visible).slice(...y?[p+1]:[0,p]).reduce((x,j)=>x+(j.height||0)+g,0)},[s]);return m.useEffect(()=>{s.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=a.get(h.id);f&&(clearTimeout(f),a.delete(h.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},C2=cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,S2=cr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,E2=cr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,T2=rn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${S2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${E2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_2=cr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,A2=rn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_2} 1s linear infinite;
`,P2=cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,R2=cr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L2=rn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${R2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,D2=rn("div")`
  position: absolute;
`,O2=rn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,M2=cr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,I2=rn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${M2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,F2=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return t!==void 0?typeof t=="string"?m.createElement(I2,null,t):t:s==="blank"?null:m.createElement(O2,null,m.createElement(A2,{...r}),s!=="loading"&&m.createElement(D2,null,s==="error"?m.createElement(T2,{...r}):m.createElement(L2,{...r})))},V2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,B2="0%{opacity:0;} 100%{opacity:1;}",U2="0%{opacity:1;} 100%{opacity:0;}",z2=rn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,H2=rn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,W2=(e,t)=>{let s=e.includes("top")?1:-1,[r,a]=Iv()?[B2,U2]:[V2(s),$2(s)];return{animation:t?`${cr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},q2=m.memo(({toast:e,position:t,style:s,children:r})=>{let a=e.height?W2(e.position||t||"top-center",e.visible):{opacity:0},i=m.createElement(F2,{toast:e}),o=m.createElement(H2,{...e.ariaProps},tc(e.message,e));return m.createElement(z2,{className:e.className,style:{...a,...s,...e.style}},typeof r=="function"?r({icon:i,message:o}):m.createElement(m.Fragment,null,i,o))});p2(m.createElement);var G2=({id:e,className:t,style:s,onHeightUpdate:r,children:a})=>{let i=m.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return m.createElement("div",{ref:i,className:t,style:s},a)},Z2=(e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Iv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...a}},K2=Uc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Go=16,Q2=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:a,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=N2(s,i);return m.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Go,left:Go,right:Go,bottom:Go,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||t,f=d.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),y=Z2(h,f);return m.createElement(G2,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?K2:"",style:y},u.type==="custom"?tc(u.message,u):a?a(u):m.createElement(q2,{toast:u,position:h}))}))},M=it;function Y2(e={}){const{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:r}=e,[a,i]=m.useState(!1),o=m.useRef(s);o.current=s;const l=m.useRef(r);return l.current=r,m.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=t,c.onload=()=>{var d;i(!0),(d=o.current)===null||d===void 0||d.call(o)},c.onerror=()=>{var d;i(!1),(d=l.current)===null||d===void 0||d.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[t]),a}const Uv=m.createContext(null);function X2({clientId:e,nonce:t,onScriptLoadSuccess:s,onScriptLoadError:r,children:a}){const i=Y2({nonce:t,onScriptLoadSuccess:s,onScriptLoadError:r}),o=m.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return nt.createElement(Uv.Provider,{value:o},a)}function J2(){const e=m.useContext(Uv);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function eC(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const tC={large:40,medium:32,small:20};function sC({onSuccess:e,onError:t,useOneTap:s,promptMomentNotification:r,type:a="standard",theme:i="outline",size:o="large",text:l,shape:c,logo_alignment:d,width:u,locale:h,click_listener:f,containerProps:y,...g}){const v=m.useRef(null),{clientId:w,scriptLoadedSuccessfully:b}=J2(),p=m.useRef(e);p.current=e;const x=m.useRef(t);x.current=t;const j=m.useRef(r);return j.current=r,m.useEffect(()=>{var k,N,S,C,L,V,U,T,E;if(b)return(S=(N=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||N===void 0?void 0:N.id)===null||S===void 0||S.initialize({client_id:w,callback:F=>{var X;if(!(F!=null&&F.credential))return(X=x.current)===null||X===void 0?void 0:X.call(x);const{credential:Y,select_by:$}=F;p.current({credential:Y,clientId:eC(F),select_by:$})},...g}),(V=(L=(C=window==null?void 0:window.google)===null||C===void 0?void 0:C.accounts)===null||L===void 0?void 0:L.id)===null||V===void 0||V.renderButton(v.current,{type:a,theme:i,size:o,text:l,shape:c,logo_alignment:d,width:u,locale:h,click_listener:f}),s&&((E=(T=(U=window==null?void 0:window.google)===null||U===void 0?void 0:U.accounts)===null||T===void 0?void 0:T.id)===null||E===void 0||E.prompt(j.current)),()=>{var F,X,Y;s&&((Y=(X=(F=window==null?void 0:window.google)===null||F===void 0?void 0:F.accounts)===null||X===void 0?void 0:X.id)===null||Y===void 0||Y.cancel())}},[w,b,s,a,i,o,l,c,d,u,h]),nt.createElement("div",{...y,ref:v,style:{height:tC[o],...y==null?void 0:y.style}})}function zv(e,t){return function(){return e.apply(t,arguments)}}const{toString:rC}=Object.prototype,{getPrototypeOf:Vf}=Object,{iterator:Hc,toStringTag:Hv}=Symbol,Wc=(e=>t=>{const s=rC.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),As=e=>(e=e.toLowerCase(),t=>Wc(t)===e),qc=e=>t=>typeof t===e,{isArray:Va}=Array,Sa=qc("undefined");function co(e){return e!==null&&!Sa(e)&&e.constructor!==null&&!Sa(e.constructor)&&zt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wv=As("ArrayBuffer");function nC(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wv(e.buffer),t}const aC=qc("string"),zt=qc("function"),qv=qc("number"),uo=e=>e!==null&&typeof e=="object",iC=e=>e===!0||e===!1,gl=e=>{if(Wc(e)!=="object")return!1;const t=Vf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hv in e)&&!(Hc in e)},oC=e=>{if(!uo(e)||co(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lC=As("Date"),cC=As("File"),dC=As("Blob"),uC=As("FileList"),hC=e=>uo(e)&&zt(e.pipe),fC=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||zt(e.append)&&((t=Wc(e))==="formdata"||t==="object"&&zt(e.toString)&&e.toString()==="[object FormData]"))},mC=As("URLSearchParams"),[pC,xC,gC,yC]=["ReadableStream","Request","Response","Headers"].map(As),vC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ho(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Va(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(co(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function Gv(e,t){if(co(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const vn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zv=e=>!Sa(e)&&e!==vn;function ih(){const{caseless:e,skipUndefined:t}=Zv(this)&&this||{},s={},r=(a,i)=>{const o=e&&Gv(s,i)||i;gl(s[o])&&gl(a)?s[o]=ih(s[o],a):gl(a)?s[o]=ih({},a):Va(a)?s[o]=a.slice():(!t||!Sa(a))&&(s[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ho(arguments[a],r);return s}const bC=(e,t,s,{allOwnKeys:r}={})=>(ho(t,(a,i)=>{s&&zt(a)?e[i]=zv(a,s):e[i]=a},{allOwnKeys:r}),e),jC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wC=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},kC=(e,t,s,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&Vf(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},NC=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},CC=e=>{if(!e)return null;if(Va(e))return e;let t=e.length;if(!qv(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},SC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Vf(Uint8Array)),EC=(e,t)=>{const r=(e&&e[Hc]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},TC=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},_C=As("HTMLFormElement"),AC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),Qp=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),PC=As("RegExp"),Kv=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};ho(s,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},RC=e=>{Kv(e,(t,s)=>{if(zt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(zt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},LC=(e,t)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return Va(e)?r(e):r(String(e).split(t)),s},DC=()=>{},OC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function MC(e){return!!(e&&zt(e.append)&&e[Hv]==="FormData"&&e[Hc])}const IC=e=>{const t=new Array(10),s=(r,a)=>{if(uo(r)){if(t.indexOf(r)>=0)return;if(co(r))return r;if(!("toJSON"in r)){t[a]=r;const i=Va(r)?[]:{};return ho(r,(o,l)=>{const c=s(o,a+1);!Sa(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return s(e,0)},FC=As("AsyncFunction"),VC=e=>e&&(uo(e)||zt(e))&&zt(e.then)&&zt(e.catch),Qv=((e,t)=>e?setImmediate:t?((s,r)=>(vn.addEventListener("message",({source:a,data:i})=>{a===vn&&i===s&&r.length&&r.shift()()},!1),a=>{r.push(a),vn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",zt(vn.postMessage)),$C=typeof queueMicrotask<"u"?queueMicrotask.bind(vn):typeof process<"u"&&process.nextTick||Qv,BC=e=>e!=null&&zt(e[Hc]),I={isArray:Va,isArrayBuffer:Wv,isBuffer:co,isFormData:fC,isArrayBufferView:nC,isString:aC,isNumber:qv,isBoolean:iC,isObject:uo,isPlainObject:gl,isEmptyObject:oC,isReadableStream:pC,isRequest:xC,isResponse:gC,isHeaders:yC,isUndefined:Sa,isDate:lC,isFile:cC,isBlob:dC,isRegExp:PC,isFunction:zt,isStream:hC,isURLSearchParams:mC,isTypedArray:SC,isFileList:uC,forEach:ho,merge:ih,extend:bC,trim:vC,stripBOM:jC,inherits:wC,toFlatObject:kC,kindOf:Wc,kindOfTest:As,endsWith:NC,toArray:CC,forEachEntry:EC,matchAll:TC,isHTMLForm:_C,hasOwnProperty:Qp,hasOwnProp:Qp,reduceDescriptors:Kv,freezeMethods:RC,toObjectSet:LC,toCamelCase:AC,noop:DC,toFiniteNumber:OC,findKey:Gv,global:vn,isContextDefined:Zv,isSpecCompliantForm:MC,toJSONObject:IC,isAsyncFn:FC,isThenable:VC,setImmediate:Qv,asap:$C,isIterable:BC};function fe(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}I.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Yv=fe.prototype,Xv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Xv[e]={value:e}});Object.defineProperties(fe,Xv);Object.defineProperty(Yv,"isAxiosError",{value:!0});fe.from=(e,t,s,r,a,i)=>{const o=Object.create(Yv);I.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return fe.call(o,l,c,s,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const UC=null;function oh(e){return I.isPlainObject(e)||I.isArray(e)}function Jv(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function Yp(e,t,s){return e?e.concat(t).map(function(a,i){return a=Jv(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function zC(e){return I.isArray(e)&&!e.some(oh)}const HC=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function Gc(e,t,s){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=I.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!I.isUndefined(w[v])});const r=s.metaTokens,a=s.visitor||u,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(I.isDate(g))return g.toISOString();if(I.isBoolean(g))return g.toString();if(!c&&I.isBlob(g))throw new fe("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(g)||I.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,w){let b=g;if(g&&!w&&typeof g=="object"){if(I.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(I.isArray(g)&&zC(g)||(I.isFileList(g)||I.endsWith(v,"[]"))&&(b=I.toArray(g)))return v=Jv(v),b.forEach(function(x,j){!(I.isUndefined(x)||x===null)&&t.append(o===!0?Yp([v],j,i):o===null?v:v+"[]",d(x))}),!1}return oh(g)?!0:(t.append(Yp(w,v,i),d(g)),!1)}const h=[],f=Object.assign(HC,{defaultVisitor:u,convertValue:d,isVisitable:oh});function y(g,v){if(!I.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),I.forEach(g,function(b,p){(!(I.isUndefined(b)||b===null)&&a.call(t,b,I.isString(p)?p.trim():p,v,f))===!0&&y(b,v?v.concat(p):[p])}),h.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Xp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function $f(e,t){this._pairs=[],e&&Gc(e,this,t)}const eb=$f.prototype;eb.append=function(t,s){this._pairs.push([t,s])};eb.toString=function(t){const s=t?function(r){return t.call(this,r,Xp)}:Xp;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function WC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tb(e,t,s){if(!t)return e;const r=s&&s.encode||WC;I.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=I.isURLSearchParams(t)?t.toString():new $f(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Jp{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(r){r!==null&&t(r)})}}const sb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qC=typeof URLSearchParams<"u"?URLSearchParams:$f,GC=typeof FormData<"u"?FormData:null,ZC=typeof Blob<"u"?Blob:null,KC={isBrowser:!0,classes:{URLSearchParams:qC,FormData:GC,Blob:ZC},protocols:["http","https","file","blob","url","data"]},Bf=typeof window<"u"&&typeof document<"u",lh=typeof navigator=="object"&&navigator||void 0,QC=Bf&&(!lh||["ReactNative","NativeScript","NS"].indexOf(lh.product)<0),YC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XC=Bf&&window.location.href||"http://localhost",JC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bf,hasStandardBrowserEnv:QC,hasStandardBrowserWebWorkerEnv:YC,navigator:lh,origin:XC},Symbol.toStringTag,{value:"Module"})),jt={...JC,...KC};function eS(e,t){return Gc(e,new jt.classes.URLSearchParams,{visitor:function(s,r,a,i){return jt.isNode&&I.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function tS(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sS(e){const t={},s=Object.keys(e);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],t[i]=e[i];return t}function rb(e){function t(s,r,a,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=s.length;return o=!o&&I.isArray(a)?a.length:o,c?(I.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!I.isObject(a[o]))&&(a[o]=[]),t(s,r,a[o],i)&&I.isArray(a[o])&&(a[o]=sS(a[o])),!l)}if(I.isFormData(e)&&I.isFunction(e.entries)){const s={};return I.forEachEntry(e,(r,a)=>{t(tS(r),a,s,0)}),s}return null}function rS(e,t,s){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const fo={transitional:sb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=I.isObject(t);if(i&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return a?JSON.stringify(rb(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return eS(t,this.formSerializer).toString();if((l=I.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),rS(t)):t}],transformResponse:[function(t){const s=this.transitional||fo.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(r&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?fe.from(l,fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt.classes.FormData,Blob:jt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{fo.headers[e]={}});const nS=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aS=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!s||t[s]&&nS[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},e0=Symbol("internals");function Ja(e){return e&&String(e).trim().toLowerCase()}function yl(e){return e===!1||e==null?e:I.isArray(e)?e.map(yl):String(e)}function iS(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const oS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Md(e,t,s,r,a){if(I.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!I.isString(t)){if(I.isString(r))return t.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(t)}}function lS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function cS(e,t){const s=I.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let Ht=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function i(l,c,d){const u=Ja(c);if(!u)throw new Error("header name must be a non-empty string");const h=I.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=yl(l))}const o=(l,c)=>I.forEach(l,(d,u)=>i(d,u,c));if(I.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(I.isString(t)&&(t=t.trim())&&!oS(t))o(aS(t),s);else if(I.isObject(t)&&I.isIterable(t)){let l={},c,d;for(const u of t){if(!I.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?I.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=Ja(t),t){const r=I.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return iS(a);if(I.isFunction(s))return s.call(this,a,r);if(I.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ja(t),t){const r=I.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Md(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function i(o){if(o=Ja(o),o){const l=I.findKey(r,o);l&&(!s||Md(r,r[l],l,s))&&(delete r[l],a=!0)}}return I.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!t||Md(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,r={};return I.forEach(this,(a,i)=>{const o=I.findKey(r,i);if(o){s[o]=yl(a),delete s[i];return}const l=t?lS(i):String(i).trim();l!==i&&delete s[i],s[l]=yl(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return I.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&I.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[e0]=this[e0]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Ja(o);r[l]||(cS(a,o),r[l]=!0)}return I.isArray(t)?t.forEach(i):i(t),this}};Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Ht.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});I.freezeMethods(Ht);function Id(e,t){const s=this||fo,r=t||s,a=Ht.from(r.headers);let i=r.data;return I.forEach(e,function(l){i=l.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function nb(e){return!!(e&&e.__CANCEL__)}function $a(e,t,s){fe.call(this,e??"canceled",fe.ERR_CANCELED,t,s),this.name="CanceledError"}I.inherits($a,fe,{__CANCEL__:!0});function ab(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new fe("Request failed with status code "+s.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function dS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uS(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];o||(o=d),s[a]=c,r[a]=d;let h=i,f=0;for(;h!==a;)f+=s[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const y=u&&d-u;return y?Math.round(f*1e3/y):void 0}}function hS(e,t){let s=0,r=1e3/t,a,i;const o=(d,u=Date.now())=>{s=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=r?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const sc=(e,t,s=3)=>{let r=0;const a=uS(50,250);return hS(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,d=a(c),u=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},t0=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},s0=e=>(...t)=>I.asap(()=>e(...t)),fS=jt.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,jt.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(jt.origin),jt.navigator&&/(msie|trident)/i.test(jt.navigator.userAgent)):()=>!0,mS=jt.hasStandardBrowserEnv?{write(e,t,s,r,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];I.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),I.isString(r)&&l.push(`path=${r}`),I.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),I.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ib(e,t,s){let r=!pS(t);return e&&(r||s==!1)?xS(e,t):t}const r0=e=>e instanceof Ht?{...e}:e;function Ln(e,t){t=t||{};const s={};function r(d,u,h,f){return I.isPlainObject(d)&&I.isPlainObject(u)?I.merge.call({caseless:f},d,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function a(d,u,h,f){if(I.isUndefined(u)){if(!I.isUndefined(d))return r(void 0,d,h,f)}else return r(d,u,h,f)}function i(d,u){if(!I.isUndefined(u))return r(void 0,u)}function o(d,u){if(I.isUndefined(u)){if(!I.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,h){if(h in t)return r(d,u);if(h in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>a(r0(d),r0(u),h,!0)};return I.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||a,f=h(e[u],t[u],u);I.isUndefined(f)&&h!==l||(s[u]=f)}),s}const ob=e=>{const t=Ln({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ht.from(o),t.url=tb(ib(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),I.isFormData(s)){if(jt.hasStandardBrowserEnv||jt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(I.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&o.set(u,h)})}}if(jt.hasStandardBrowserEnv&&(r&&I.isFunction(r)&&(r=r(t)),r||r!==!1&&fS(t.url))){const c=a&&i&&mS.read(i);c&&o.set(a,c)}return t},gS=typeof XMLHttpRequest<"u",yS=gS&&function(e){return new Promise(function(s,r){const a=ob(e);let i=a.data;const o=Ht.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,h,f,y,g;function v(){y&&y(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function b(){if(!w)return;const x=Ht.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:e,request:w};ab(function(S){s(S),v()},function(S){r(S),v()},k),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(r(new fe("Request aborted",fe.ECONNABORTED,e,w)),w=null)},w.onerror=function(j){const k=j&&j.message?j.message:"Network Error",N=new fe(k,fe.ERR_NETWORK,e,w);N.event=j||null,r(N),w=null},w.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||sb;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new fe(j,k.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&I.forEach(o.toJSON(),function(j,k){w.setRequestHeader(k,j)}),I.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),d&&([f,g]=sc(d,!0),w.addEventListener("progress",f)),c&&w.upload&&([h,y]=sc(c),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(u=x=>{w&&(r(!x||x.type?new $a(null,e,w):x),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const p=dS(a.url);if(p&&jt.protocols.indexOf(p)===-1){r(new fe("Unsupported protocol "+p+":",fe.ERR_BAD_REQUEST,e));return}w.send(i||null)})},vS=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof fe?u:new $a(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new fe(`timeout ${t} of ms exceeded`,fe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>I.asap(l),c}},bS=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},jS=async function*(e,t){for await(const s of wS(e))yield*bS(s,t)},wS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},n0=(e,t,s,r)=>{const a=jS(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let h=u.byteLength;if(s){let f=i+=h;s(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},a0=64*1024,{isFunction:Zo}=I,kS=(({Request:e,Response:t})=>({Request:e,Response:t}))(I.global),{ReadableStream:i0,TextEncoder:o0}=I.global,l0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},NS=e=>{e=I.merge.call({skipUndefined:!0},kS,e);const{fetch:t,Request:s,Response:r}=e,a=t?Zo(t):typeof fetch=="function",i=Zo(s),o=Zo(r);if(!a)return!1;const l=a&&Zo(i0),c=a&&(typeof o0=="function"?(g=>v=>g.encode(v))(new o0):async g=>new Uint8Array(await new s(g).arrayBuffer())),d=i&&l&&l0(()=>{let g=!1;const v=new s(jt.origin,{body:new i0,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),u=o&&l&&l0(()=>I.isReadableStream(new r("").body)),h={stream:u&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,w)=>{let b=v&&v[g];if(b)return b.call(v);throw new fe(`Response type '${g}' is not supported`,fe.ERR_NOT_SUPPORT,w)})});const f=async g=>{if(g==null)return 0;if(I.isBlob(g))return g.size;if(I.isSpecCompliantForm(g))return(await new s(jt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(I.isArrayBufferView(g)||I.isArrayBuffer(g))return g.byteLength;if(I.isURLSearchParams(g)&&(g=g+""),I.isString(g))return(await c(g)).byteLength},y=async(g,v)=>{const w=I.toFiniteNumber(g.getContentLength());return w??f(v)};return async g=>{let{url:v,method:w,data:b,signal:p,cancelToken:x,timeout:j,onDownloadProgress:k,onUploadProgress:N,responseType:S,headers:C,withCredentials:L="same-origin",fetchOptions:V}=ob(g),U=t||fetch;S=S?(S+"").toLowerCase():"text";let T=vS([p,x&&x.toAbortSignal()],j),E=null;const F=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let X;try{if(N&&d&&w!=="get"&&w!=="head"&&(X=await y(C,b))!==0){let z=new s(v,{method:"POST",body:b,duplex:"half"}),ie;if(I.isFormData(b)&&(ie=z.headers.get("content-type"))&&C.setContentType(ie),z.body){const[Ce,ve]=t0(X,sc(s0(N)));b=n0(z.body,a0,Ce,ve)}}I.isString(L)||(L=L?"include":"omit");const Y=i&&"credentials"in s.prototype,$={...V,signal:T,method:w.toUpperCase(),headers:C.normalize().toJSON(),body:b,duplex:"half",credentials:Y?L:void 0};E=i&&new s(v,$);let D=await(i?U(E,V):U(v,$));const Z=u&&(S==="stream"||S==="response");if(u&&(k||Z&&F)){const z={};["status","statusText","headers"].forEach(qe=>{z[qe]=D[qe]});const ie=I.toFiniteNumber(D.headers.get("content-length")),[Ce,ve]=k&&t0(ie,sc(s0(k),!0))||[];D=new r(n0(D.body,a0,Ce,()=>{ve&&ve(),F&&F()}),z)}S=S||"text";let P=await h[I.findKey(h,S)||"text"](D,g);return!Z&&F&&F(),await new Promise((z,ie)=>{ab(z,ie,{data:P,headers:Ht.from(D.headers),status:D.status,statusText:D.statusText,config:g,request:E})})}catch(Y){throw F&&F(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,g,E),{cause:Y.cause||Y}):fe.from(Y,Y&&Y.code,g,E)}}},CS=new Map,lb=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:a}=t,i=[r,a,s];let o=i.length,l=o,c,d,u=CS;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:NS(t)),u=d;return d};lb();const Uf={http:UC,xhr:yS,fetch:{get:lb}};I.forEach(Uf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const c0=e=>`- ${e}`,SS=e=>I.isFunction(e)||e===null||e===!1;function ES(e,t){e=I.isArray(e)?e:[e];const{length:s}=e;let r,a;const i={};for(let o=0;o<s;o++){r=e[o];let l;if(a=r,!SS(r)&&(a=Uf[(l=String(r)).toLowerCase()],a===void 0))throw new fe(`Unknown adapter '${l}'`);if(a&&(I.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(c0).join(`
`):" "+c0(o[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const cb={getAdapter:ES,adapters:Uf};function Fd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $a(null,e)}function d0(e){return Fd(e),e.headers=Ht.from(e.headers),e.data=Id.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cb.getAdapter(e.adapter||fo.adapter,e)(e).then(function(r){return Fd(e),r.data=Id.call(e,e.transformResponse,r),r.headers=Ht.from(r.headers),r},function(r){return nb(r)||(Fd(e),r&&r.response&&(r.response.data=Id.call(e,e.transformResponse,r.response),r.response.headers=Ht.from(r.response.headers))),Promise.reject(r)})}const db="1.13.2",Zc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const u0={};Zc.transitional=function(t,s,r){function a(i,o){return"[Axios v"+db+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new fe(a(o," has been removed"+(s?" in "+s:"")),fe.ERR_DEPRECATED);return s&&!u0[o]&&(u0[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};Zc.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function TS(e,t,s){if(typeof e!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new fe("option "+i+" must be "+c,fe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new fe("Unknown option "+i,fe.ERR_BAD_OPTION)}}const vl={assertOptions:TS,validators:Zc},Rs=vl.validators;let Nn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Jp,response:new Jp}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Ln(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&vl.assertOptions(r,{silentJSONParsing:Rs.transitional(Rs.boolean),forcedJSONParsing:Rs.transitional(Rs.boolean),clarifyTimeoutError:Rs.transitional(Rs.boolean)},!1),a!=null&&(I.isFunction(a)?s.paramsSerializer={serialize:a}:vl.assertOptions(a,{encode:Rs.function,serialize:Rs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),vl.assertOptions(s,{baseUrl:Rs.spelling("baseURL"),withXsrfToken:Rs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&I.merge(i.common,i[s.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),s.headers=Ht.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,h=0,f;if(!c){const g=[d0.bind(this),void 0];for(g.unshift(...l),g.push(...d),f=g.length,u=Promise.resolve(s);h<f;)u=u.then(g[h++],g[h++]);return u}f=l.length;let y=s;for(;h<f;){const g=l[h++],v=l[h++];try{y=g(y)}catch(w){v.call(this,w);break}}try{u=d0.call(this,y)}catch(g){return Promise.reject(g)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Ln(this.defaults,t);const s=ib(t.baseURL,t.url,t.allowAbsoluteUrls);return tb(s,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){Nn.prototype[t]=function(s,r){return this.request(Ln(r||{},{method:t,url:s,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,l){return this.request(Ln(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Nn.prototype[t]=s(),Nn.prototype[t+"Form"]=s(!0)});let _S=class ub{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new $a(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new ub(function(a){t=a}),cancel:t}}};function AS(e){return function(s){return e.apply(null,s)}}function PS(e){return I.isObject(e)&&e.isAxiosError===!0}const ch={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ch).forEach(([e,t])=>{ch[t]=e});function hb(e){const t=new Nn(e),s=zv(Nn.prototype.request,t);return I.extend(s,Nn.prototype,t,{allOwnKeys:!0}),I.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return hb(Ln(e,a))},s}const ge=hb(fo);ge.Axios=Nn;ge.CanceledError=$a;ge.CancelToken=_S;ge.isCancel=nb;ge.VERSION=db;ge.toFormData=Gc;ge.AxiosError=fe;ge.Cancel=ge.CanceledError;ge.all=function(t){return Promise.all(t)};ge.spread=AS;ge.isAxiosError=PS;ge.mergeConfig=Ln;ge.AxiosHeaders=Ht;ge.formToJSON=e=>rb(I.isHTMLForm(e)?new FormData(e):e);ge.getAdapter=cb.getAdapter;ge.HttpStatusCode=ch;ge.default=ge;const{Axios:H3,AxiosError:W3,CanceledError:q3,isCancel:G3,CancelToken:Z3,VERSION:K3,all:Q3,Cancel:Y3,isAxiosError:X3,spread:J3,toFormData:eR,AxiosHeaders:tR,HttpStatusCode:sR,formToJSON:rR,getAdapter:nR,mergeConfig:aR}=ge,mt="http://localhost:5000/api",G=ge.create({baseURL:mt,headers:{"Content-Type":"application/json"},withCredentials:!0});G.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");t&&(e.headers.Authorization=`Bearer ${t}`);const s=localStorage.getItem("currentCompanyId");return s&&(e.headers["X-Company-Id"]=s),e},e=>Promise.reject(e));G.interceptors.response.use(e=>e,async e=>{var s;const t=e.config;if(((s=e.response)==null?void 0:s.status)===401&&!t._retry){t._retry=!0;try{const r=localStorage.getItem("refreshToken");if(!r)throw new Error("No refresh token");const a=await ge.post(`${mt}/auth/refresh-token`,{refreshToken:r});if(a.data.success){const{accessToken:i,refreshToken:o}=a.data.data;return localStorage.setItem("accessToken",i),localStorage.setItem("refreshToken",o),t.headers.Authorization=`Bearer ${i}`,G(t)}}catch(r){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentCompanyId"),localStorage.removeItem("currentRole"),window.location.href="/login",Promise.reject(r)}}return Promise.reject(e)});const rc={getAll:e=>G.get("/customers",{params:e}),getOne:e=>G.get(`/customers/${e}`),create:e=>G.post("/customers",e),update:(e,t)=>G.put(`/customers/${e}`,t),delete:e=>G.delete(`/customers/${e}`)},oa={getAll:e=>G.get("/leads",{params:e}),getOne:e=>G.get(`/leads/${e}`),create:e=>G.post("/leads",e),update:(e,t)=>G.put(`/leads/${e}`,t),delete:e=>G.delete(`/leads/${e}`),getStats:()=>G.get("/leads/stats")},Ko={getAll:e=>G.get("/contacts",{params:e}),getOne:e=>G.get(`/contacts/${e}`),create:e=>G.post("/contacts",e),update:(e,t)=>G.put(`/contacts/${e}`,t),delete:e=>G.delete(`/contacts/${e}`)},ei={getAll:e=>G.get("/tasks",{params:e}),getOne:e=>G.get(`/tasks/${e}`),create:e=>G.post("/tasks",e),update:(e,t)=>G.put(`/tasks/${e}`,t),delete:e=>G.delete(`/tasks/${e}`),getMyTasks:()=>G.get("/tasks/my")},ti={getAll:e=>G.get("/notes",{params:e}),getOne:e=>G.get(`/notes/${e}`),create:e=>G.post("/notes",e),update:(e,t)=>G.put(`/notes/${e}`,t),delete:e=>G.delete(`/notes/${e}`)},RS={getAll:e=>G.get("/activities",{params:e}),getRecent:(e=10)=>G.get(`/activities/recent?limit=${e}`),create:e=>G.post("/activities",e)},zf={getAdminStats:()=>G.get("/dashboard/admin"),getStaffDashboard:()=>G.get("/dashboard/staff"),getCustomerDashboard:()=>G.get("/dashboard/customer"),getStats:()=>G.get("/dashboard/stats")},cn={getAll:e=>G.get("/issues",{params:e}),getOne:e=>G.get(`/issues/${e}`),create:e=>G.post("/issues",e),update:(e,t)=>G.put(`/issues/${e}`,t),delete:e=>G.delete(`/issues/${e}`),getStats:()=>G.get("/issues/stats"),addCall:(e,t)=>G.post(`/issues/${e}/calls`,t),getCallHistory:e=>G.get(`/issues/${e}/calls`)},Ms={updatePhone:e=>G.put("/telegram/phone",{phone:e}),getStatus:()=>G.get("/telegram/status"),unlink:()=>G.delete("/telegram/unlink"),testNotification:()=>G.post("/telegram/test-notification"),getNotifications:e=>G.get("/telegram/notifications",{params:e}),markAsRead:e=>G.put(`/telegram/notifications/${e}/read`),markAllAsRead:()=>G.put("/telegram/notifications/read-all"),deleteNotification:e=>G.delete(`/telegram/notifications/${e}`),deleteAllNotifications:()=>G.delete("/telegram/notifications")},Wn={chat:(e,t,s=null)=>G.post("/ai/chat",{message:e,conversationId:t,context:s}),getConversations:()=>G.get("/ai/conversations"),getConversation:e=>G.get(`/ai/conversations/${e}`),deleteConversation:e=>G.delete(`/ai/conversations/${e}`),clearConversations:()=>G.delete("/ai/conversations"),getSuggestions:()=>G.get("/ai/suggestions"),getTools:()=>G.get("/ai/tools")},Qo={getStages:()=>G.get("/pipeline/stages"),createStage:e=>G.post("/pipeline/stages",e),updateStage:(e,t)=>G.put(`/pipeline/stages/${e}`,t),deleteStage:e=>G.delete(`/pipeline/stages/${e}`),reorderStages:e=>G.post("/pipeline/stages/reorder",{stageIds:e}),getKanbanView:(e="leads")=>G.get(`/pipeline/kanban?type=${e}`),moveToStage:e=>G.post("/pipeline/move",e),reorderInStage:e=>G.post("/pipeline/reorder",e),getAnalytics:(e=30)=>G.get(`/pipeline/analytics?period=${e}`),convertToDeal:(e,t)=>G.post(`/pipeline/convert/${e}`,t)},di={login:e=>ge.post(`${mt}/super-admin/login`,e),verify:()=>{const e=localStorage.getItem("superAdminToken");return ge.get(`${mt}/super-admin/verify`,{headers:{Authorization:`Bearer ${e}`}})},getDashboard:()=>{const e=localStorage.getItem("superAdminToken");return ge.get(`${mt}/super-admin/dashboard`,{headers:{Authorization:`Bearer ${e}`}})},getCompanies:e=>{const t=localStorage.getItem("superAdminToken");return ge.get(`${mt}/super-admin/companies`,{headers:{Authorization:`Bearer ${t}`},params:e})},getCompanyDetails:e=>{const t=localStorage.getItem("superAdminToken");return ge.get(`${mt}/super-admin/companies/${e}`,{headers:{Authorization:`Bearer ${t}`}})},toggleCompanyStatus:e=>{const t=localStorage.getItem("superAdminToken");return ge.patch(`${mt}/super-admin/companies/${e}/toggle-status`,{},{headers:{Authorization:`Bearer ${t}`}})},getUsers:e=>{const t=localStorage.getItem("superAdminToken");return ge.get(`${mt}/super-admin/users`,{headers:{Authorization:`Bearer ${t}`},params:e})},getIssues:e=>{const t=localStorage.getItem("superAdminToken");return ge.get(`${mt}/super-admin/issues`,{headers:{Authorization:`Bearer ${t}`},params:e})},getIssueDetails:e=>{const t=localStorage.getItem("superAdminToken");return ge.get(`${mt}/super-admin/issues/${e}`,{headers:{Authorization:`Bearer ${t}`}})},updateIssueStatus:(e,t)=>{const s=localStorage.getItem("superAdminToken");return ge.patch(`${mt}/super-admin/issues/${e}/status`,{status:t},{headers:{Authorization:`Bearer ${s}`}})}},bl={start:e=>G.post("/chat/start",{withUserId:e}),send:(e,t)=>G.post("/chat/send",{conversationId:e,content:t}),listConversations:()=>G.get("/chat/conversations"),getConversation:e=>G.get(`/chat/${e}`)},ui={startWithCompany:e=>{const t=localStorage.getItem("superAdminToken");return ge.post(`${mt}/chat/super-admin/start-company`,{companyId:e},{headers:{Authorization:`Bearer ${t}`}})},startWithCustomer:(e,t)=>{const s=localStorage.getItem("superAdminToken");return ge.post(`${mt}/chat/super-admin/start-customer`,{customerUserId:e,companyId:t},{headers:{Authorization:`Bearer ${s}`}})},send:(e,t)=>{const s=localStorage.getItem("superAdminToken");return ge.post(`${mt}/chat/super-admin/send`,{conversationId:e,content:t},{headers:{Authorization:`Bearer ${s}`}})},listConversations:()=>{const e=localStorage.getItem("superAdminToken");return ge.get(`${mt}/chat/super-admin/conversations`,{headers:{Authorization:`Bearer ${e}`}})},getConversation:e=>{const t=localStorage.getItem("superAdminToken");return ge.get(`${mt}/chat/super-admin/${e}`,{headers:{Authorization:`Bearer ${t}`}})}},Et={getGmailAuthUrl:()=>G.get("/email/gmail/auth-url"),disconnectGmail:()=>G.delete("/email/gmail/disconnect"),getGmailStatus:()=>G.get("/email/gmail/status"),sendEmail:e=>G.post("/email/send",e),getInbox:e=>G.get("/email/inbox",{params:e}),getSent:e=>G.get("/email/sent",{params:e}),getEmail:e=>G.get(`/email/message/${e}`),deleteEmail:e=>G.delete(`/email/message/${e}`),getCrmEmails:e=>G.get("/email/crm",{params:e}),getEmailStats:()=>G.get("/email/stats"),getEmailHistory:(e,t)=>G.get(`/email/history/${e}/${t}`),getTemplates:()=>G.get("/email/templates"),createTemplate:e=>G.post("/email/templates",e),updateTemplate:(e,t)=>G.put(`/email/templates/${e}`,t),deleteTemplate:e=>G.delete(`/email/templates/${e}`)},fb=m.createContext(),Nt=()=>{const e=m.useContext(fb);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},LS=({children:e})=>{const[t,s]=m.useState(null),[r,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(()=>localStorage.getItem("accessToken")),d=xs(),u=m.useCallback(async()=>{if(!localStorage.getItem("accessToken")){o(!1);return}try{const j=await G.get("/auth/me");j.data.success&&(s(j.data.data.user),a(j.data.data.companies||[]))}catch(j){console.error("Auth init error:",j),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),c(null)}finally{o(!1)}},[]);m.useEffect(()=>{u()},[u]);const h=async(x,j)=>{var k,N;try{const S=await G.post("/auth/login",{email:x,password:j});if(S.data.success){const{user:C,companies:L,accessToken:V,refreshToken:U}=S.data.data;return localStorage.setItem("accessToken",V),localStorage.setItem("refreshToken",U),c(V),s(C),a(L||[]),M.success("Welcome back!"),L&&L.length>0,d("/select-role"),{success:!0}}}catch(S){const C=((N=(k=S.response)==null?void 0:k.data)==null?void 0:N.message)||"Login failed";return M.error(C),{success:!1,error:C}}},f=async(x,j,k,N)=>{var S,C,L,V;try{const U=await G.post("/auth/signup",{name:x,email:j,password:k,confirmPassword:N});if(U.data.success){const{user:T,accessToken:E,refreshToken:F}=U.data.data;return localStorage.setItem("accessToken",E),localStorage.setItem("refreshToken",F),c(E),s(T),a([]),M.success("Account created successfully!"),d("/select-role"),{success:!0}}}catch(U){const T=((C=(S=U.response)==null?void 0:S.data)==null?void 0:C.message)||"Signup failed",E=((V=(L=U.response)==null?void 0:L.data)==null?void 0:V.errors)||[];return M.error(T),{success:!1,error:T,errors:E}}},y=async x=>{var j,k;try{const N=await G.post("/auth/google",{credential:x});if(N.data.success){const{user:S,companies:C,accessToken:L,refreshToken:V,isNewUser:U,accountLinked:T}=N.data.data;return localStorage.setItem("accessToken",L),localStorage.setItem("refreshToken",V),c(L),s(S),a(C||[]),U?M.success("Account created with Google!"):T?M.success("Google account linked successfully!"):M.success("Welcome back!"),d("/select-role"),{success:!0,isNewUser:U}}}catch(N){const S=((k=(j=N.response)==null?void 0:j.data)==null?void 0:k.message)||"Google sign-in failed";return M.error(S),{success:!1,error:S}}},g=async()=>{try{const x=localStorage.getItem("refreshToken");await G.post("/auth/logout",{refreshToken:x})}catch(x){console.error("Logout error:",x)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("currentCompanyId"),localStorage.removeItem("currentRole"),c(null),s(null),a([]),M.success("Logged out successfully"),d("/login")}},p={user:t,companies:r,isLoading:i,isAuthenticated:!!t,accessToken:l,login:h,signup:f,googleSignIn:y,logout:g,refreshUser:async()=>{try{const x=await G.get("/auth/me");x.data.success&&(s(x.data.data.user),a(x.data.data.companies||[]))}catch(x){console.error("Refresh user error:",x)}},updateProfile:async x=>{var j,k;try{const N=await G.put("/auth/profile",x);if(N.data.success)return s(N.data.data.user),M.success("Profile updated successfully"),{success:!0}}catch(N){const S=((k=(j=N.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to update profile";return M.error(S),{success:!1,error:S}}},changePassword:async(x,j,k)=>{var N,S;try{if((await G.put("/auth/change-password",{currentPassword:x,newPassword:j,confirmPassword:k})).data.success)return M.success("Password changed successfully. Please log in again."),await g(),{success:!0}}catch(C){const L=((S=(N=C.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to change password";return M.error(L),{success:!1,error:L}}},setCompanies:a};return n.jsx(fb.Provider,{value:p,children:e})},mb=m.createContext(),rs=()=>{const e=m.useContext(mb);return e||{currentCompany:null,currentRole:null,companies:[],isLoading:!1,switchCompany:()=>{},createCompany:async()=>({success:!1}),joinCompany:async()=>({success:!1}),searchCompanies:async()=>[],leaveCompany:async()=>({success:!1})}},DS=({children:e})=>{const{user:t,companies:s,setCompanies:r,isAuthenticated:a}=Nt(),i=xs(),[o,l]=m.useState(null),[c,d]=m.useState(null),[u,h]=m.useState(!1);m.useEffect(()=>{if(a&&s.length>0){const p=localStorage.getItem("currentCompanyId"),x=localStorage.getItem("currentRole");if(p&&x){const j=s.find(k=>k.id===p);j&&j.role===x&&(l(j),d(x))}}else a||(l(null),d(null))},[a,s]);const f=m.useCallback((p,x)=>{const j=s.find(k=>k.id===p);if(j){switch(l(j),d(x||j.role),localStorage.setItem("currentCompanyId",p),localStorage.setItem("currentRole",x||j.role),x||j.role){case"ADMIN":i("/dashboard/admin");break;case"STAFF":i("/dashboard/staff");break;case"CUSTOMER":i("/dashboard/customer");break;default:i("/dashboard/admin")}M.success(`Switched to ${j.name}`)}},[s,i]),b={currentCompany:o,currentRole:c,companies:s,isLoading:u,switchCompany:f,createCompany:async p=>{var x,j;h(!0);try{const k=await G.post("/companies",p);if(k.data.success){const N={...k.data.data.company,role:k.data.data.role};return r(S=>[...S,N]),l(N),d("ADMIN"),localStorage.setItem("currentCompanyId",N.id),localStorage.setItem("currentRole","ADMIN"),M.success("Company created successfully!"),i("/dashboard/admin"),{success:!0,company:N}}}catch(k){const N=((j=(x=k.response)==null?void 0:x.data)==null?void 0:j.message)||"Failed to create company";return M.error(N),{success:!1,error:N}}finally{h(!1)}},joinCompany:async p=>{var x,j;h(!0);try{const k=await G.post("/companies/join",{companyId:p});if(k.data.success){const N={...k.data.data.company,role:k.data.data.role};return r(S=>[...S,N]),l(N),d("CUSTOMER"),localStorage.setItem("currentCompanyId",N.id),localStorage.setItem("currentRole","CUSTOMER"),M.success("Joined company successfully!"),i("/dashboard/customer"),{success:!0}}}catch(k){const N=((j=(x=k.response)==null?void 0:x.data)==null?void 0:j.message)||"Failed to join company";return M.error(N),{success:!1,error:N}}finally{h(!1)}},searchCompanies:async p=>{try{const x=await G.get(`/companies/search?q=${encodeURIComponent(p)}`);return x.data.success?x.data.data.companies:[]}catch(x){return console.error("Search companies error:",x),[]}},leaveCompany:async p=>{var x,j;try{if((await G.delete(`/user-company-roles/leave/${p}`)).data.success)return r(N=>N.filter(S=>S.id!==p)),(o==null?void 0:o.id)===p&&(l(null),d(null),localStorage.removeItem("currentCompanyId"),localStorage.removeItem("currentRole"),i("/select-role")),M.success("Left company successfully"),{success:!0}}catch(k){const N=((j=(x=k.response)==null?void 0:x.data)==null?void 0:j.message)||"Failed to leave company";return M.error(N),{success:!1,error:N}}}};return n.jsx(mb.Provider,{value:b,children:e})},pb=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Kc=m.createContext({}),Qc=m.createContext(null),Yc=typeof document<"u",Hf=Yc?m.useLayoutEffect:m.useEffect,xb=m.createContext({strict:!1}),Wf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),OS="framerAppearId",gb="data-"+Wf(OS);function MS(e,t,s,r){const{visualElement:a}=m.useContext(Kc),i=m.useContext(xb),o=m.useContext(Qc),l=m.useContext(pb).reducedMotion,c=m.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;m.useInsertionEffect(()=>{d&&d.update(s,o)});const u=m.useRef(!!(s[gb]&&!window.HandoffComplete));return Hf(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function la(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IS(e,t,s){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):la(s)&&(s.current=r))},[t])}function Ki(e){return typeof e=="string"||Array.isArray(e)}function Xc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const qf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gf=["initial",...qf];function Jc(e){return Xc(e.animate)||Gf.some(t=>Ki(e[t]))}function yb(e){return!!(Jc(e)||e.variants)}function FS(e,t){if(Jc(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Ki(s)?s:void 0,animate:Ki(r)?r:void 0}}return e.inherit!==!1?t:{}}function VS(e){const{initial:t,animate:s}=FS(e,m.useContext(Kc));return m.useMemo(()=>({initial:t,animate:s}),[h0(t),h0(s)])}function h0(e){return Array.isArray(e)?e.join(" "):e}const f0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qi={};for(const e in f0)Qi[e]={isEnabled:t=>f0[e].some(s=>!!t[s])};function $S(e){for(const t in e)Qi[t]={...Qi[t],...e[t]}}const Zf=m.createContext({}),vb=m.createContext({}),BS=Symbol.for("motionComponentSymbol");function US({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:a}){e&&$S(e);function i(l,c){let d;const u={...m.useContext(pb),...l,layoutId:zS(l)},{isStatic:h}=u,f=VS(l),y=r(l,h);if(!h&&Yc){f.visualElement=MS(a,y,u,t);const g=m.useContext(vb),v=m.useContext(xb).strict;f.visualElement&&(d=f.visualElement.loadFeatures(u,v,e,g))}return m.createElement(Kc.Provider,{value:f},d&&f.visualElement?m.createElement(d,{visualElement:f.visualElement,...u}):null,s(a,l,IS(y,f.visualElement,c),y,h,f.visualElement))}const o=m.forwardRef(i);return o[BS]=a,o}function zS({layoutId:e}){const t=m.useContext(Zf).id;return t&&e!==void 0?t+"-"+e:e}function HS(e){function t(r,a={}){return US(e(r,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(r,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const WS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kf(e){return typeof e!="string"||e.includes("-")?!1:!!(WS.indexOf(e)>-1||/[A-Z]/.test(e))}const nc={};function qS(e){Object.assign(nc,e)}const mo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bn=new Set(mo);function bb(e,{layout:t,layoutId:s}){return Bn.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!nc[e]||e==="opacity")}const Wt=e=>!!(e&&e.getVelocity),GS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZS=mo.length;function KS(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},r,a){let i="";for(let o=0;o<ZS;o++){const l=mo[o];if(e[l]!==void 0){const c=GS[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):s&&r&&(i="none"),i}const jb=e=>t=>typeof t=="string"&&t.startsWith(e),wb=jb("--"),dh=jb("var(--"),QS=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,YS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Kr=(e,t,s)=>Math.min(Math.max(s,e),t),Un={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ni={...Un,transform:e=>Kr(0,1,e)},Yo={...Un,default:1},Ci=e=>Math.round(e*1e5)/1e5,ed=/(-)?([\d]*\.?[\d])+/g,kb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,XS=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function po(e){return typeof e=="string"}const xo=e=>({test:t=>po(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),jr=xo("deg"),Bs=xo("%"),de=xo("px"),JS=xo("vh"),e5=xo("vw"),m0={...Bs,parse:e=>Bs.parse(e)/100,transform:e=>Bs.transform(e*100)},p0={...Un,transform:Math.round},Nb={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:Yo,scaleX:Yo,scaleY:Yo,scaleZ:Yo,skew:jr,skewX:jr,skewY:jr,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ni,originX:m0,originY:m0,originZ:de,zIndex:p0,fillOpacity:Ni,strokeOpacity:Ni,numOctaves:p0};function Qf(e,t,s,r){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const h in t){const f=t[h];if(wb(h)){i[h]=f;continue}const y=Nb[h],g=YS(f,y);if(Bn.has(h)){if(c=!0,o[h]=g,!u)continue;f!==(y.default||0)&&(u=!1)}else h.startsWith("origin")?(d=!0,l[h]=g):a[h]=g}if(t.transform||(c||r?a.transform=KS(e.transform,s,u,r):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:y=0}=l;a.transformOrigin=`${h} ${f} ${y}`}}const Yf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cb(e,t,s){for(const r in t)!Wt(t[r])&&!bb(r,s)&&(e[r]=t[r])}function t5({transformTemplate:e},t,s){return m.useMemo(()=>{const r=Yf();return Qf(r,t,{enableHardwareAcceleration:!s},e),Object.assign({},r.vars,r.style)},[t])}function s5(e,t,s){const r=e.style||{},a={};return Cb(a,r,e),Object.assign(a,t5(e,t,s)),e.transformValues?e.transformValues(a):a}function r5(e,t,s){const r={},a=s5(e,t,s);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const n5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ac(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||n5.has(e)}let Sb=e=>!ac(e);function a5(e){e&&(Sb=t=>t.startsWith("on")?!ac(t):e(t))}try{a5(require("@emotion/is-prop-valid").default)}catch{}function i5(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(Sb(a)||s===!0&&ac(a)||!t&&!ac(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function x0(e,t,s){return typeof e=="string"?e:de.transform(t+s*e)}function o5(e,t,s){const r=x0(t,e.x,e.width),a=x0(s,e.y,e.height);return`${r} ${a}`}const l5={offset:"stroke-dashoffset",array:"stroke-dasharray"},c5={offset:"strokeDashoffset",array:"strokeDasharray"};function d5(e,t,s=1,r=0,a=!0){e.pathLength=1;const i=a?l5:c5;e[i.offset]=de.transform(-r);const o=de.transform(t),l=de.transform(s);e[i.array]=`${o} ${l}`}function Xf(e,{attrX:t,attrY:s,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h,f){if(Qf(e,d,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:g,dimensions:v}=e;y.transform&&(v&&(g.transform=y.transform),delete y.transform),v&&(a!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=o5(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(y.x=t),s!==void 0&&(y.y=s),r!==void 0&&(y.scale=r),o!==void 0&&d5(y,o,l,c,!1)}const Eb=()=>({...Yf(),attrs:{}}),Jf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function u5(e,t,s,r){const a=m.useMemo(()=>{const i=Eb();return Xf(i,t,{enableHardwareAcceleration:!1},Jf(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Cb(i,e.style,e),a.style={...i,...a.style}}return a}function h5(e=!1){return(s,r,a,{latestValues:i},o)=>{const c=(Kf(s)?u5:r5)(r,i,o,s),u={...i5(r,typeof s=="string",e),...c,ref:a},{children:h}=r,f=m.useMemo(()=>Wt(h)?h.get():h,[h]);return m.createElement(s,{...u,children:f})}}function Tb(e,{style:t,vars:s},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in s)e.style.setProperty(i,s[i])}const _b=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ab(e,t,s,r){Tb(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(_b.has(a)?a:Wf(a),t.attrs[a])}function em(e,t){const{style:s}=e,r={};for(const a in s)(Wt(s[a])||t.style&&Wt(t.style[a])||bb(a,e))&&(r[a]=s[a]);return r}function Pb(e,t){const s=em(e,t);for(const r in e)if(Wt(e[r])||Wt(t[r])){const a=mo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}function tm(e,t,s,r={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,r,a)),t}function Rb(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const ic=e=>Array.isArray(e),f5=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),m5=e=>ic(e)?e[e.length-1]||0:e;function jl(e){const t=Wt(e)?e.get():e;return f5(t)?t.toValue():t}function p5({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},r,a,i){const o={latestValues:x5(r,a,i,e),renderState:t()};return s&&(o.mount=l=>s(r,l,o)),o}const Lb=e=>(t,s)=>{const r=m.useContext(Kc),a=m.useContext(Qc),i=()=>p5(e,t,r,a);return s?i():Rb(i)};function x5(e,t,s,r){const a={},i=r(e,{});for(const f in i)a[f]=jl(i[f]);let{initial:o,animate:l}=e;const c=Jc(e),d=yb(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;return h&&typeof h!="boolean"&&!Xc(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const g=tm(e,y);if(!g)return;const{transitionEnd:v,transition:w,...b}=g;for(const p in b){let x=b[p];if(Array.isArray(x)){const j=u?x.length-1:0;x=x[j]}x!==null&&(a[p]=x)}for(const p in v)a[p]=v[p]}),a}const Ke=e=>e;class g0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function g5(e){let t=new g0,s=new g0,r=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const h=u&&a,f=h?t:s;return d&&o.add(c),f.add(c)&&h&&a&&(r=t.order.length),c},cancel:c=>{s.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),r=t.order.length,r)for(let d=0;d<r;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const Xo=["prepare","read","update","preRender","render","postRender"],y5=40;function v5(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Xo.reduce((h,f)=>(h[f]=g5(()=>s=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();s=!1,a.delta=r?1e3/60:Math.max(Math.min(h-a.timestamp,y5),1),a.timestamp=h,a.isProcessing=!0,Xo.forEach(o),a.isProcessing=!1,s&&t&&(r=!1,e(l))},c=()=>{s=!0,r=!0,a.isProcessing||e(l)};return{schedule:Xo.reduce((h,f)=>{const y=i[f];return h[f]=(g,v=!1,w=!1)=>(s||c(),y.schedule(g,v,w)),h},{}),cancel:h=>Xo.forEach(f=>i[f].cancel(h)),state:a,steps:i}}const{schedule:Oe,cancel:dr,state:vt,steps:Vd}=v5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ke,!0),b5={useVisualState:Lb({scrapeMotionValuesFromProps:Pb,createRenderState:Eb,onMount:(e,t,{renderState:s,latestValues:r})=>{Oe.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Oe.render(()=>{Xf(s,r,{enableHardwareAcceleration:!1},Jf(t.tagName),e.transformTemplate),Ab(t,s)})}})},j5={useVisualState:Lb({scrapeMotionValuesFromProps:em,createRenderState:Yf})};function w5(e,{forwardMotionProps:t=!1},s,r){return{...Kf(e)?b5:j5,preloadedFeatures:s,useRender:h5(t),createVisualElement:r,Component:e}}function tr(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}const Db=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function td(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const k5=e=>t=>Db(t)&&e(t,td(t));function rr(e,t,s,r){return tr(e,t,k5(s),r)}const N5=(e,t)=>s=>t(e(s)),zr=(...e)=>e.reduce(N5);function Ob(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const y0=Ob("dragHorizontal"),v0=Ob("dragVertical");function Mb(e){let t=!1;if(e==="y")t=v0();else if(e==="x")t=y0();else{const s=y0(),r=v0();s&&r?t=()=>{s(),r()}:(s&&s(),r&&r())}return t}function Ib(){const e=Mb(!0);return e?(e(),!1):!0}class nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function b0(e,t){const s="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||Ib())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Oe.update(()=>l[r](i,o))};return rr(e.current,s,a,{passive:!e.getProps()[r]})}class C5 extends nn{mount(){this.unmount=zr(b0(this.node,!0),b0(this.node,!1))}unmount(){}}class S5 extends nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(tr(this.node.current,"focus",()=>this.onFocus()),tr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Fb=(e,t)=>t?e===t?!0:Fb(e,t.parentElement):!1;function $d(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,td(s))}class E5 extends nn{constructor(){super(...arguments),this.removeStartListeners=Ke,this.removeEndListeners=Ke,this.removeAccessibleListeners=Ke,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=rr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps();Oe.update(()=>{!h&&!Fb(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=rr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zr(i,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||$d("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&Oe.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=tr(this.node.current,"keyup",o),$d("down",(l,c)=>{this.startPress(l,c)})},s=tr(this.node.current,"keydown",t),r=()=>{this.isPressing&&$d("cancel",(i,o)=>this.cancelPress(i,o))},a=tr(this.node.current,"blur",r);this.removeAccessibleListeners=zr(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Oe.update(()=>r(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ib()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Oe.update(()=>r(t,s))}mount(){const t=this.node.getProps(),s=rr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=tr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zr(s,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uh=new WeakMap,Bd=new WeakMap,T5=e=>{const t=uh.get(e.target);t&&t(e)},_5=e=>{e.forEach(T5)};function A5({root:e,...t}){const s=e||document;Bd.has(s)||Bd.set(s,{});const r=Bd.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(_5,{root:e,...t})),r[a]}function P5(e,t,s){const r=A5(t);return uh.set(e,s),r.observe(e),()=>{uh.delete(e),r.unobserve(e)}}const R5={some:0,all:1};class L5 extends nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:R5[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return P5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(D5(t,s))&&this.startObserver()}unmount(){}}function D5({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const O5={inView:{Feature:L5},tap:{Feature:E5},focus:{Feature:S5},hover:{Feature:C5}};function Vb(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function M5(e){const t={};return e.values.forEach((s,r)=>t[r]=s.get()),t}function I5(e){const t={};return e.values.forEach((s,r)=>t[r]=s.getVelocity()),t}function sd(e,t,s){const r=e.getProps();return tm(r,t,s!==void 0?s:r.custom,M5(e),I5(e))}let sm=Ke;const Cn=e=>e*1e3,nr=e=>e/1e3,F5={current:!1},$b=e=>Array.isArray(e)&&typeof e[0]=="number";function Bb(e){return!!(!e||typeof e=="string"&&Ub[e]||$b(e)||Array.isArray(e)&&e.every(Bb))}const hi=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,Ub={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hi([0,.65,.55,1]),circOut:hi([.55,0,1,.45]),backIn:hi([.31,.01,.66,-.59]),backOut:hi([.33,1.53,.69,.99])};function zb(e){if(e)return $b(e)?hi(e):Array.isArray(e)?e.map(zb):Ub[e]}function V5(e,t,s,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=zb(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function $5(e,{repeat:t,repeatType:s="loop"}){const r=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Hb=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,B5=1e-7,U5=12;function z5(e,t,s,r,a){let i,o,l=0;do o=t+(s-t)/2,i=Hb(o,r,a)-e,i>0?s=o:t=o;while(Math.abs(i)>B5&&++l<U5);return o}function go(e,t,s,r){if(e===t&&s===r)return Ke;const a=i=>z5(i,0,1,e,s);return i=>i===0||i===1?i:Hb(a(i),t,r)}const H5=go(.42,0,1,1),W5=go(0,0,.58,1),Wb=go(.42,0,.58,1),q5=e=>Array.isArray(e)&&typeof e[0]!="number",qb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Gb=e=>t=>1-e(1-t),rm=e=>1-Math.sin(Math.acos(e)),Zb=Gb(rm),G5=qb(rm),Kb=go(.33,1.53,.69,.99),nm=Gb(Kb),Z5=qb(nm),K5=e=>(e*=2)<1?.5*nm(e):.5*(2-Math.pow(2,-10*(e-1))),Q5={linear:Ke,easeIn:H5,easeInOut:Wb,easeOut:W5,circIn:rm,circInOut:G5,circOut:Zb,backIn:nm,backInOut:Z5,backOut:Kb,anticipate:K5},j0=e=>{if(Array.isArray(e)){sm(e.length===4);const[t,s,r,a]=e;return go(t,s,r,a)}else if(typeof e=="string")return Q5[e];return e},am=(e,t)=>s=>!!(po(s)&&XS.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),Qb=(e,t,s)=>r=>{if(!po(r))return r;const[a,i,o,l]=r.match(ed);return{[e]:parseFloat(a),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Y5=e=>Kr(0,255,e),Ud={...Un,transform:e=>Math.round(Y5(e))},bn={test:am("rgb","red"),parse:Qb("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Ud.transform(e)+", "+Ud.transform(t)+", "+Ud.transform(s)+", "+Ci(Ni.transform(r))+")"};function X5(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const hh={test:am("#"),parse:X5,transform:bn.transform},ca={test:am("hsl","hue"),parse:Qb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bs.transform(Ci(t))+", "+Bs.transform(Ci(s))+", "+Ci(Ni.transform(r))+")"},_t={test:e=>bn.test(e)||hh.test(e)||ca.test(e),parse:e=>bn.test(e)?bn.parse(e):ca.test(e)?ca.parse(e):hh.parse(e),transform:e=>po(e)?e:e.hasOwnProperty("red")?bn.transform(e):ca.transform(e)},Be=(e,t,s)=>-s*e+s*t+e;function zd(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function J5({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,i=0,o=0;if(!t)a=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=zd(c,l,e+1/3),i=zd(c,l,e),o=zd(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Hd=(e,t,s)=>{const r=e*e;return Math.sqrt(Math.max(0,s*(t*t-r)+r))},e4=[hh,bn,ca],t4=e=>e4.find(t=>t.test(e));function w0(e){const t=t4(e);let s=t.parse(e);return t===ca&&(s=J5(s)),s}const Yb=(e,t)=>{const s=w0(e),r=w0(t),a={...s};return i=>(a.red=Hd(s.red,r.red,i),a.green=Hd(s.green,r.green,i),a.blue=Hd(s.blue,r.blue,i),a.alpha=Be(s.alpha,r.alpha,i),bn.transform(a))};function s4(e){var t,s;return isNaN(e)&&po(e)&&(((t=e.match(ed))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(kb))===null||s===void 0?void 0:s.length)||0)>0}const Xb={regex:QS,countKey:"Vars",token:"${v}",parse:Ke},Jb={regex:kb,countKey:"Colors",token:"${c}",parse:_t.parse},e1={regex:ed,countKey:"Numbers",token:"${n}",parse:Un.parse};function Wd(e,{regex:t,countKey:s,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function oc(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Wd(s,Xb),Wd(s,Jb),Wd(s,e1),s}function t1(e){return oc(e).values}function s1(e){const{values:t,numColors:s,numVars:r,tokenised:a}=oc(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<r?l=l.replace(Xb.token,o[c]):c<r+s?l=l.replace(Jb.token,_t.transform(o[c])):l=l.replace(e1.token,Ci(o[c]));return l}}const r4=e=>typeof e=="number"?0:e;function n4(e){const t=t1(e);return s1(e)(t.map(r4))}const Qr={test:s4,parse:t1,createTransformer:s1,getAnimatableNone:n4},r1=(e,t)=>s=>`${s>0?t:e}`;function n1(e,t){return typeof e=="number"?s=>Be(e,t,s):_t.test(e)?Yb(e,t):e.startsWith("var(")?r1(e,t):i1(e,t)}const a1=(e,t)=>{const s=[...e],r=s.length,a=e.map((i,o)=>n1(i,t[o]));return i=>{for(let o=0;o<r;o++)s[o]=a[o](i);return s}},a4=(e,t)=>{const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=n1(e[a],t[a]));return a=>{for(const i in r)s[i]=r[i](a);return s}},i1=(e,t)=>{const s=Qr.createTransformer(t),r=oc(e),a=oc(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?zr(a1(r.values,a.values),s):r1(e,t)},Yi=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},k0=(e,t)=>s=>Be(e,t,s);function i4(e){return typeof e=="number"?k0:typeof e=="string"?_t.test(e)?Yb:i1:Array.isArray(e)?a1:typeof e=="object"?a4:k0}function o4(e,t,s){const r=[],a=s||i4(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ke:t;l=zr(c,l)}r.push(l)}return r}function o1(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const i=e.length;if(sm(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=o4(t,r,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Yi(e[u],e[u+1],d);return o[u](h)};return s?d=>c(Kr(e[0],e[i-1],d)):c}function l4(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=Yi(0,t,r);e.push(Be(s,1,a))}}function c4(e){const t=[0];return l4(t,e.length-1),t}function d4(e,t){return e.map(s=>s*t)}function u4(e,t){return e.map(()=>t||Wb).splice(0,e.length-1)}function lc({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=q5(r)?r.map(j0):j0(r),i={done:!1,value:t[0]},o=d4(s&&s.length===t.length?s:c4(t),e),l=o1(o,t,{ease:Array.isArray(a)?a:u4(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function l1(e,t){return t?e*(1e3/t):0}const h4=5;function c1(e,t,s){const r=Math.max(t-h4,0);return l1(s-e(r),t-r)}const qd=.001,f4=.01,m4=10,p4=.05,x4=1;function g4({duration:e=800,bounce:t=.25,velocity:s=0,mass:r=1}){let a,i,o=1-t;o=Kr(p4,x4,o),e=Kr(f4,m4,nr(e)),o<1?(a=d=>{const u=d*o,h=u*e,f=u-s,y=fh(d,o),g=Math.exp(-h);return qd-f/y*g},i=d=>{const h=d*o*e,f=h*s+s,y=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),v=fh(Math.pow(d,2),o);return(-a(d)+qd>0?-1:1)*((f-y)*g)/v}):(a=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-qd+u*h},i=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=v4(a,i,l);if(e=Cn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const y4=12;function v4(e,t,s){let r=s;for(let a=1;a<y4;a++)r=r-e(r)/t(r);return r}function fh(e,t){return e*Math.sqrt(1-t*t)}const b4=["duration","bounce"],j4=["stiffness","damping","mass"];function N0(e,t){return t.some(s=>e[s]!==void 0)}function w4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!N0(e,j4)&&N0(e,b4)){const s=g4(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function d1({keyframes:e,restDelta:t,restSpeed:s,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:f}=w4({...r,velocity:-nr(r.velocity||0)}),y=h||0,g=c/(2*Math.sqrt(l*d)),v=i-a,w=nr(Math.sqrt(l/d)),b=Math.abs(v)<5;s||(s=b?.01:2),t||(t=b?.005:.5);let p;if(g<1){const x=fh(w,g);p=j=>{const k=Math.exp(-g*w*j);return i-k*((y+g*w*v)/x*Math.sin(x*j)+v*Math.cos(x*j))}}else if(g===1)p=x=>i-Math.exp(-w*x)*(v+(y+w*v)*x);else{const x=w*Math.sqrt(g*g-1);p=j=>{const k=Math.exp(-g*w*j),N=Math.min(x*j,300);return i-k*((y+g*w*v)*Math.sinh(N)+x*v*Math.cosh(N))/x}}return{calculatedDuration:f&&u||null,next:x=>{const j=p(x);if(f)o.done=x>=u;else{let k=y;x!==0&&(g<1?k=c1(p,x,j):k=0);const N=Math.abs(k)<=s,S=Math.abs(i-j)<=t;o.done=N&&S}return o.value=o.done?i:j,o}}}function C0({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},y=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let v=s*t;const w=h+v,b=o===void 0?w:o(w);b!==w&&(v=b-h);const p=C=>-v*Math.exp(-C/r),x=C=>b+p(C),j=C=>{const L=p(C),V=x(C);f.done=Math.abs(L)<=d,f.value=f.done?b:V};let k,N;const S=C=>{y(f.value)&&(k=C,N=d1({keyframes:[f.value,g(f.value)],velocity:c1(x,C,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let L=!1;return!N&&k===void 0&&(L=!0,j(C),S(C)),k!==void 0&&C>k?N.next(C-k):(!L&&j(C),f)}}}const k4=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Oe.update(t,!0),stop:()=>dr(t),now:()=>vt.isProcessing?vt.timestamp:performance.now()}},S0=2e4;function E0(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<S0;)t+=s,r=e.next(t);return t>=S0?1/0:t}const N4={decay:C0,inertia:C0,tween:lc,keyframes:lc,spring:d1};function cc({autoplay:e=!0,delay:t=0,driver:s=k4,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:h,...f}){let y=1,g=!1,v,w;const b=()=>{w=new Promise(z=>{v=z})};b();let p;const x=N4[a]||lc;let j;x!==lc&&typeof r[0]!="number"&&(j=o1([0,100],r,{clamp:!1}),r=[0,100]);const k=x({...f,keyframes:r});let N;l==="mirror"&&(N=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let S="idle",C=null,L=null,V=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=E0(k));const{calculatedDuration:U}=k;let T=1/0,E=1/0;U!==null&&(T=U+o,E=T*(i+1)-o);let F=0;const X=z=>{if(L===null)return;y>0&&(L=Math.min(L,z)),y<0&&(L=Math.min(z-E/y,L)),C!==null?F=C:F=Math.round(z-L)*y;const ie=F-t*(y>=0?1:-1),Ce=y>=0?ie<0:ie>E;F=Math.max(ie,0),S==="finished"&&C===null&&(F=E);let ve=F,qe=k;if(i){const me=Math.min(F,E)/T;let H=Math.floor(me),ne=me%1;!ne&&me>=1&&(ne=1),ne===1&&H--,H=Math.min(H,i+1),!!(H%2)&&(l==="reverse"?(ne=1-ne,o&&(ne-=o/T)):l==="mirror"&&(qe=N)),ve=Kr(0,1,ne)*T}const Ve=Ce?{done:!1,value:r[0]}:qe.next(ve);j&&(Ve.value=j(Ve.value));let{done:st}=Ve;!Ce&&U!==null&&(st=y>=0?F>=E:F<=0);const ee=C===null&&(S==="finished"||S==="running"&&st);return h&&h(Ve.value),ee&&D(),Ve},Y=()=>{p&&p.stop(),p=void 0},$=()=>{S="idle",Y(),v(),b(),L=V=null},D=()=>{S="finished",u&&u(),Y(),v()},Z=()=>{if(g)return;p||(p=s(X));const z=p.now();c&&c(),C!==null?L=z-C:(!L||S==="finished")&&(L=z),S==="finished"&&b(),V=L,C=null,S="running",p.start()};e&&Z();const P={then(z,ie){return w.then(z,ie)},get time(){return nr(F)},set time(z){z=Cn(z),F=z,C!==null||!p||y===0?C=z:L=p.now()-z/y},get duration(){const z=k.calculatedDuration===null?E0(k):k.calculatedDuration;return nr(z)},get speed(){return y},set speed(z){z===y||!p||(y=z,P.time=nr(F))},get state(){return S},play:Z,pause:()=>{S="paused",C=F},stop:()=>{g=!0,S!=="idle"&&(S="idle",d&&d(),$())},cancel:()=>{V!==null&&X(V),$()},complete:()=>{S="finished"},sample:z=>(L=0,X(z))};return P}function C4(e){let t;return()=>(t===void 0&&(t=e()),t)}const S4=C4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),E4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Jo=10,T4=2e4,_4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Bb(t.ease);function A4(e,t,{onUpdate:s,onComplete:r,...a}){if(!(S4()&&E4.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(x=>{l=x})};u();let{keyframes:h,duration:f=300,ease:y,times:g}=a;if(_4(t,a)){const x=cc({...a,repeat:0,delay:0});let j={done:!1,value:h[0]};const k=[];let N=0;for(;!j.done&&N<T4;)j=x.sample(N),k.push(j.value),N+=Jo;g=void 0,h=k,f=N-Jo,y="linear"}const v=V5(e.owner.current,t,h,{...a,duration:f,ease:y,times:g}),w=()=>{d=!1,v.cancel()},b=()=>{d=!0,Oe.update(w),l(),u()};return v.onfinish=()=>{d||(e.set($5(h,a)),r&&r(),b())},{then(x,j){return c.then(x,j)},attachTimeline(x){return v.timeline=x,v.onfinish=null,Ke},get time(){return nr(v.currentTime||0)},set time(x){v.currentTime=Cn(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return nr(f)},play:()=>{o||(v.play(),dr(w))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const j=cc({...a,autoplay:!1});e.setWithVelocity(j.sample(x-Jo).value,j.sample(x).value,Jo)}b()},complete:()=>{d||v.finish()},cancel:b}}function P4({keyframes:e,delay:t,onUpdate:s,onComplete:r}){const a=()=>(s&&s(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ke,pause:Ke,stop:Ke,then:i=>(i(),Promise.resolve()),cancel:Ke,complete:Ke});return t?cc({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const R4={type:"spring",stiffness:500,damping:25,restSpeed:10},L4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D4={type:"keyframes",duration:.8},O4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M4=(e,{keyframes:t})=>t.length>2?D4:Bn.has(e)?e.startsWith("scale")?L4(t[1]):R4:O4,mh=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url(")),I4=new Set(["brightness","contrast","saturate","opacity"]);function F4(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(ed)||[];if(!r)return e;const a=s.replace(r,"");let i=I4.has(t)?1:0;return r!==s&&(i*=100),t+"("+i+a+")"}const V4=/([a-z-]*)\(.*?\)/g,ph={...Qr,getAnimatableNone:e=>{const t=e.match(V4);return t?t.map(F4).join(" "):e}},$4={...Nb,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:ph,WebkitFilter:ph},im=e=>$4[e];function u1(e,t){let s=im(e);return s!==ph&&(s=Qr),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const h1=e=>/^0[^.\s]+$/.test(e);function B4(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||h1(e)}function U4(e,t,s,r){const a=mh(t,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const o=r.from!==void 0?r.from:e.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),B4(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];i[u]=u1(t,l)}return i}function z4({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function om(e,t){return e[t]||e.default||e}const H4={skipAnimations:!1},lm=(e,t,s,r={})=>a=>{const i=om(r,e)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Cn(o);const c=U4(t,e,s,i),d=c[0],u=c[c.length-1],h=mh(e,d),f=mh(e,u);let y={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(z4(i)||(y={...y,...M4(e,y)}),y.duration&&(y.duration=Cn(y.duration)),y.repeatDelay&&(y.repeatDelay=Cn(y.repeatDelay)),!h||!f||F5.current||i.type===!1||H4.skipAnimations)return P4(y);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=A4(t,e,y);if(g)return g}return cc(y)};function dc(e){return!!(Wt(e)&&e.add)}const f1=e=>/^\-?\d*\.?\d+$/.test(e);function cm(e,t){e.indexOf(t)===-1&&e.push(t)}function dm(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class um{constructor(){this.subscriptions=[]}add(t){return cm(this.subscriptions,t),()=>dm(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const W4=e=>!isNaN(parseFloat(e));class q4{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=vt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Oe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Oe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=W4(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new um);const r=this.events[t].add(s);return t==="change"?()=>{r(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?l1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(e,t){return new q4(e,t)}const m1=e=>t=>t.test(e),G4={test:e=>e==="auto",parse:e=>e},p1=[Un,de,Bs,jr,e5,JS,G4],si=e=>p1.find(m1(e)),Z4=[...p1,_t,Qr],K4=e=>Z4.find(m1(e));function Q4(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ea(s))}function Y4(e,t){const s=sd(e,t);let{transitionEnd:r={},transition:a={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...r};for(const o in i){const l=m5(i[o]);Q4(e,o,l)}}function X4(e,t,s){var r,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(a=(r=s[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&a!==void 0?a:t[c]),u!=null&&(typeof u=="string"&&(f1(u)||h1(u))?u=parseFloat(u):!K4(u)&&Qr.test(d)&&(u=u1(c,d)),e.addValue(c,Ea(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function J4(e,t){return t?(t[e]||t.default||t).from:void 0}function eE(e,t,s){const r={};for(const a in e){const i=J4(a,t);if(i!==void 0)r[a]=i;else{const o=s.getValue(a);o&&(r[a]=o.get())}}return r}function tE({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function sE(e,t){const s=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}else return s!==t}function x1(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const f=e.getValue(h),y=l[h];if(!f||y===void 0||u&&tE(u,h))continue;const g={delay:s,elapsed:0,...om(i||{},h)};if(window.HandoffAppearAnimations){const b=e.getProps()[gb];if(b){const p=window.HandoffAppearAnimations(b,h,f,Oe);p!==null&&(g.elapsed=p,g.isHandoff=!0)}}let v=!g.isHandoff&&!sE(f,y);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(lm(h,f,y,e.shouldReduceMotion&&Bn.has(h)?{type:!1}:g));const w=f.animation;dc(c)&&(c.add(h),w.then(()=>c.remove(h))),d.push(w)}return o&&Promise.all(d).then(()=>{o&&Y4(e,o)}),d}function xh(e,t,s={}){const r=sd(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const i=r?()=>Promise.all(x1(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return rE(e,t,d+c,u,h,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(s.delay)])}function rE(e,t,s=0,r=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=a===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(nE).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(xh(d,t,{...i,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function nE(e,t){return e.sortNodePosition(t)}function aE(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>xh(e,i,s));r=Promise.all(a)}else if(typeof t=="string")r=xh(e,t,s);else{const a=typeof t=="function"?sd(e,t,s.custom):t;r=Promise.all(x1(e,a,s))}return r.then(()=>e.notify("AnimationComplete",t))}const iE=[...qf].reverse(),oE=qf.length;function lE(e){return t=>Promise.all(t.map(({animation:s,options:r})=>aE(e,s,r)))}function cE(e){let t=lE(e);const s=uE();let r=!0;const a=(c,d)=>{const u=sd(e,d);if(u){const{transition:h,transitionEnd:f,...y}=u;c={...c,...y,...f}}return c};function i(c){t=c(e)}function o(c,d){const u=e.getProps(),h=e.getVariantContext(!0)||{},f=[],y=new Set;let g={},v=1/0;for(let b=0;b<oE;b++){const p=iE[b],x=s[p],j=u[p]!==void 0?u[p]:h[p],k=Ki(j),N=p===d?x.isActive:null;N===!1&&(v=b);let S=j===h[p]&&j!==u[p]&&k;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...g},!x.isActive&&N===null||!j&&!x.prevProp||Xc(j)||typeof j=="boolean")continue;let L=dE(x.prevProp,j)||p===d&&x.isActive&&!S&&k||b>v&&k,V=!1;const U=Array.isArray(j)?j:[j];let T=U.reduce(a,{});N===!1&&(T={});const{prevResolvedValues:E={}}=x,F={...E,...T},X=Y=>{L=!0,y.has(Y)&&(V=!0,y.delete(Y)),x.needsAnimating[Y]=!0};for(const Y in F){const $=T[Y],D=E[Y];if(g.hasOwnProperty(Y))continue;let Z=!1;ic($)&&ic(D)?Z=!Vb($,D):Z=$!==D,Z?$!==void 0?X(Y):y.add(Y):$!==void 0&&y.has(Y)?X(Y):x.protectedKeys[Y]=!0}x.prevProp=j,x.prevResolvedValues=T,x.isActive&&(g={...g,...T}),r&&e.blockInitialAnimation&&(L=!1),L&&(!S||V)&&f.push(...U.map(Y=>({animation:Y,options:{type:p,...c}})))}if(y.size){const b={};y.forEach(p=>{const x=e.getBaseTarget(p);x!==void 0&&(b[p]=x)}),f.push({animation:b})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function l(c,d,u){var h;if(s[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(y=>{var g;return(g=y.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),s[c].isActive=d;const f=o(u,c);for(const y in s)s[y].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s}}function dE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Vb(t,e):!1}function dn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uE(){return{animate:dn(!0),whileInView:dn(),whileHover:dn(),whileTap:dn(),whileDrag:dn(),whileFocus:dn(),exit:dn()}}class hE extends nn{constructor(t){super(t),t.animationState||(t.animationState=cE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Xc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let fE=0;class mE extends nn{constructor(){super(...arguments),this.id=fE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pE={animation:{Feature:hE},exit:{Feature:mE}},T0=(e,t)=>Math.abs(e-t);function xE(e,t){const s=T0(e.x,t.x),r=T0(e.y,t.y);return Math.sqrt(s**2+r**2)}class g1{constructor(t,s,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zd(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=xE(h.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:g}=h,{timestamp:v}=vt;this.history.push({...g,timestamp:v});const{onStart:w,onMove:b}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gd(f,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Zd(h.type==="pointercancel"?this.lastMoveEventInfo:Gd(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,w),g&&g(h,w)},!Db(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=r,this.contextWindow=a||window;const o=td(t),l=Gd(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=vt;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,Zd(l,this.history)),this.removeListeners=zr(rr(this.contextWindow,"pointermove",this.handlePointerMove),rr(this.contextWindow,"pointerup",this.handlePointerUp),rr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function Gd(e,t){return t?{point:t(e.point)}:e}function _0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zd({point:e},t){return{point:e,delta:_0(e,y1(t)),offset:_0(e,gE(t)),velocity:yE(t,.1)}}function gE(e){return e[0]}function y1(e){return e[e.length-1]}function yE(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=y1(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>Cn(t)));)s--;if(!r)return{x:0,y:0};const i=nr(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jt(e){return e.max-e.min}function gh(e,t=0,s=.01){return Math.abs(e-t)<=s}function A0(e,t,s,r=.5){e.origin=r,e.originPoint=Be(t.min,t.max,e.origin),e.scale=Jt(s)/Jt(t),(gh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Be(s.min,s.max,e.origin)-e.originPoint,(gh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Si(e,t,s,r){A0(e.x,t.x,s.x,r?r.originX:void 0),A0(e.y,t.y,s.y,r?r.originY:void 0)}function P0(e,t,s){e.min=s.min+t.min,e.max=e.min+Jt(t)}function vE(e,t,s){P0(e.x,t.x,s.x),P0(e.y,t.y,s.y)}function R0(e,t,s){e.min=t.min-s.min,e.max=e.min+Jt(t)}function Ei(e,t,s){R0(e.x,t.x,s.x),R0(e.y,t.y,s.y)}function bE(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?Be(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?Be(s,e,r.max):Math.min(e,s)),e}function L0(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function jE(e,{top:t,left:s,bottom:r,right:a}){return{x:L0(e.x,s,a),y:L0(e.y,t,r)}}function D0(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function wE(e,t){return{x:D0(e.x,t.x),y:D0(e.y,t.y)}}function kE(e,t){let s=.5;const r=Jt(e),a=Jt(t);return a>r?s=Yi(t.min,t.max-r,e.min):r>a&&(s=Yi(e.min,e.max-a,t.min)),Kr(0,1,s)}function NE(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const yh=.35;function CE(e=yh){return e===!1?e=0:e===!0&&(e=yh),{x:O0(e,"left","right"),y:O0(e,"top","bottom")}}function O0(e,t,s){return{min:M0(e,t),max:M0(e,s)}}function M0(e,t){return typeof e=="number"?e:e[t]||0}const I0=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:I0(),y:I0()}),F0=()=>({min:0,max:0}),Ye=()=>({x:F0(),y:F0()});function is(e){return[e("x"),e("y")]}function v1({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function SE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function EE(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Kd(e){return e===void 0||e===1}function vh({scale:e,scaleX:t,scaleY:s}){return!Kd(e)||!Kd(t)||!Kd(s)}function fn(e){return vh(e)||b1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function b1(e){return V0(e.x)||V0(e.y)}function V0(e){return e&&e!=="0%"}function uc(e,t,s){const r=e-s,a=t*r;return s+a}function $0(e,t,s,r,a){return a!==void 0&&(e=uc(e,a,r)),uc(e,s,r)+t}function bh(e,t=0,s=1,r,a){e.min=$0(e.min,t,s,r,a),e.max=$0(e.max,t,s,r,a)}function j1(e,{x:t,y:s}){bh(e.x,t.translate,t.scale,t.originPoint),bh(e.y,s.translate,s.scale,s.originPoint)}function TE(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=s[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ua(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,j1(e,o)),r&&fn(i.latestValues)&&ua(e,i.latestValues))}t.x=B0(t.x),t.y=B0(t.y)}function B0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Nr(e,t){e.min=e.min+t,e.max=e.max+t}function U0(e,t,[s,r,a]){const i=t[a]!==void 0?t[a]:.5,o=Be(e.min,e.max,i);bh(e,t[s],t[r],o,t.scale)}const _E=["x","scaleX","originX"],AE=["y","scaleY","originY"];function ua(e,t){U0(e.x,t,_E),U0(e.y,t,AE)}function w1(e,t){return v1(EE(e.getBoundingClientRect(),t))}function PE(e,t,s){const r=w1(e,s),{scroll:a}=t;return a&&(Nr(r.x,a.offset.x),Nr(r.y,a.offset.y)),r}const k1=({current:e})=>e?e.ownerDocument.defaultView:null,RE=new WeakMap;class LE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(td(u,"page").point)},i=(u,h)=>{const{drag:f,dragPropagation:y,onDragStart:g}=this.getProps();if(f&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Mb(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is(w=>{let b=this.getAxisMotionValue(w).get()||0;if(Bs.test(b)){const{projection:p}=this.visualElement;if(p&&p.layout){const x=p.layout.layoutBox[w];x&&(b=Jt(x)*(parseFloat(b)/100))}}this.originPoint[w]=b}),g&&Oe.update(()=>g(u,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:g,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(y&&this.currentDirection===null){this.currentDirection=DE(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(u,h)},l=(u,h)=>this.stop(u,h),c=()=>is(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new g1(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:k1(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Oe.update(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!el(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=bE(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;s&&la(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=jE(a.layoutBox,s):this.constraints=!1,this.elastic=CE(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&is(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=NE(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!la(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=PE(r,a.root,this.visualElement.getTransformPagePoint());let o=wE(a.layout.layoutBox,i);if(s){const l=s(SE(o));this.hasMutatedConstraints=!!l,l&&(o=v1(l))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=is(u=>{if(!el(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,y=a?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return r.start(lm(t,r,0,s))}stopAnimation(){is(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){is(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){is(s=>{const{drag:r}=this.getProps();if(!el(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[s];i.set(t[s]-Be(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!la(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};is(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=kE({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),is(o=>{if(!el(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Be(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;RE.set(this.visualElement,this);const t=this.visualElement.current,s=rr(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();la(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=tr(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(is(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=yh,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function el(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function DE(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class OE extends nn{constructor(t){super(t),this.removeGroupControls=Ke,this.removeListeners=Ke,this.controls=new LE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const z0=e=>(t,s)=>{e&&Oe.update(()=>e(t,s))};class ME extends nn{constructor(){super(...arguments),this.removePointerDownListener=Ke}onPointerDown(t){this.session=new g1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:z0(t),onStart:z0(s),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Oe.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=rr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function IE(){const e=m.useContext(Qc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:r}=e,a=m.useId();return m.useEffect(()=>r(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const wl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ri={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const s=H0(e,t.target.x),r=H0(e,t.target.y);return`${s}% ${r}%`}},FE={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=Qr.parse(e);if(a.length>5)return r;const i=Qr.createTransformer(e),o=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Be(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class VE extends nt.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;qS($E),i&&(s.group&&s.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Oe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function N1(e){const[t,s]=IE(),r=m.useContext(Zf);return nt.createElement(VE,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(vb),isPresent:t,safeToRemove:s})}const $E={borderRadius:{...ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ri,borderTopRightRadius:ri,borderBottomLeftRadius:ri,borderBottomRightRadius:ri,boxShadow:FE},C1=["TopLeft","TopRight","BottomLeft","BottomRight"],BE=C1.length,W0=e=>typeof e=="string"?parseFloat(e):e,q0=e=>typeof e=="number"||de.test(e);function UE(e,t,s,r,a,i){a?(e.opacity=Be(0,s.opacity!==void 0?s.opacity:1,zE(r)),e.opacityExit=Be(t.opacity!==void 0?t.opacity:1,0,HE(r))):i&&(e.opacity=Be(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<BE;o++){const l=`border${C1[o]}Radius`;let c=G0(t,l),d=G0(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||q0(c)===q0(d)?(e[l]=Math.max(Be(W0(c),W0(d),r),0),(Bs.test(d)||Bs.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=Be(t.rotate||0,s.rotate||0,r))}function G0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zE=S1(0,.5,Zb),HE=S1(.5,.95,Ke);function S1(e,t,s){return r=>r<e?0:r>t?1:s(Yi(e,t,r))}function Z0(e,t){e.min=t.min,e.max=t.max}function as(e,t){Z0(e.x,t.x),Z0(e.y,t.y)}function K0(e,t,s,r,a){return e-=t,e=uc(e,1/s,r),a!==void 0&&(e=uc(e,1/a,r)),e}function WE(e,t=0,s=1,r=.5,a,i=e,o=e){if(Bs.test(t)&&(t=parseFloat(t),t=Be(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Be(i.min,i.max,r);e===i&&(l-=t),e.min=K0(e.min,t,s,l,a),e.max=K0(e.max,t,s,l,a)}function Q0(e,t,[s,r,a],i,o){WE(e,t[s],t[r],t[a],t.scale,i,o)}const qE=["x","scaleX","originX"],GE=["y","scaleY","originY"];function Y0(e,t,s,r){Q0(e.x,t,qE,s?s.x:void 0,r?r.x:void 0),Q0(e.y,t,GE,s?s.y:void 0,r?r.y:void 0)}function X0(e){return e.translate===0&&e.scale===1}function E1(e){return X0(e.x)&&X0(e.y)}function ZE(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function T1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function J0(e){return Jt(e.x)/Jt(e.y)}class KE{constructor(){this.members=[]}add(t){cm(this.members,t),t.scheduleRender()}remove(t){if(dm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ex(e,t,s){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const QE=(e,t)=>e.depth-t.depth;class YE{constructor(){this.children=[],this.isDirty=!1}add(t){cm(this.children,t),this.isDirty=!0}remove(t){dm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QE),this.isDirty=!1,this.children.forEach(t)}}function XE(e,t){const s=performance.now(),r=({timestamp:a})=>{const i=a-s;i>=t&&(dr(r),e(i-t))};return Oe.read(r,!0),()=>dr(r)}function JE(e){window.MotionDebug&&window.MotionDebug.record(e)}function eT(e){return e instanceof SVGElement&&e.tagName!=="svg"}function tT(e,t,s){const r=Wt(e)?e:Ea(e);return r.start(lm("",r,t,s)),r.animation}const tx=["","X","Y","Z"],sT={visibility:"hidden"},sx=1e3;let rT=0;const mn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _1({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=rT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mn.totalNodes=mn.resolvedTargetDeltas=mn.recalculatedProjection=0,this.nodes.forEach(iT),this.nodes.forEach(uT),this.nodes.forEach(hT),this.nodes.forEach(oT),JE(mn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YE)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new um),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eT(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=XE(f,250),wl.hasAnimatedSinceResize&&(wl.hasAnimatedSinceResize=!1,this.nodes.forEach(nx))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||gT,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),p=!this.targetLayout||!T1(this.targetLayout,g)||y,x=!f&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const j={...om(v,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||nx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rx);return}this.isUpdating||this.nodes.forEach(cT),this.isUpdating=!1,this.nodes.forEach(dT),this.nodes.forEach(nT),this.nodes.forEach(aT),this.clearAllSnapshots();const l=performance.now();vt.delta=Kr(0,1e3/60,l-vt.timestamp),vt.timestamp=l,vt.isProcessing=!0,Vd.update.process(vt),Vd.preRender.process(vt),Vd.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lT),this.sharedNodes.forEach(mT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!E1(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||fn(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),yT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ye();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Nr(l.x,c.offset.x),Nr(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ye();as(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;if(d!==this.root&&u&&h.layoutScroll){if(u.isRoot){as(l,o);const{scroll:f}=this.root;f&&(Nr(l.x,-f.offset.x),Nr(l.y,-f.offset.y))}Nr(l.x,u.offset.x),Nr(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Ye();as(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ua(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),fn(u.latestValues)&&ua(c,u.latestValues)}return fn(this.latestValues)&&ua(c,this.latestValues),c}removeTransform(o){const l=Ye();as(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!fn(d.latestValues))continue;vh(d.latestValues)&&d.updateSnapshot();const u=Ye(),h=d.measurePageBox();as(u,h),Y0(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return fn(this.latestValues)&&Y0(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ei(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),j1(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ei(this.relativeTargetOrigin,this.target,y.target),as(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vh(this.parent.latestValues)||b1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;as(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;TE(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=da(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=da(),this.projectionDeltaWithTransform=da());const v=this.projectionTransform;Si(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=ex(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),mn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ye(),y=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=y!==g,w=this.getStack(),b=!w||w.members.length<=1,p=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(xT));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const k=j/1e3;ax(h.x,o.x,k),ax(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pT(this.relativeTarget,this.relativeTargetOrigin,f,k),x&&ZE(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ye()),as(x,this.relativeTarget)),v&&(this.animationValues=u,UE(u,d,this.latestValues,k,p,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{wl.hasAnimatedSinceResize=!0,this.currentAnimation=tT(0,sx,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&A1(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ye();const h=Jt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Jt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}as(l,c),ua(l,u),Si(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new KE),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<tx.length;u++){const h="rotate"+tx[u];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sT;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=jl(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=jl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fn(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=ex(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:y,y:g}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in nc){if(f[v]===void 0)continue;const{correct:w,applyTo:b}=nc[v],p=d.transform==="none"?f[v]:w(f[v],h);if(b){const x=b.length;for(let j=0;j<x;j++)d[b[j]]=p}else d[v]=p}return this.options.layoutId&&(d.pointerEvents=h===this?jl(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(rx),this.root.sharedNodes.clear()}}}function nT(e){e.updateLayout()}function aT(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=s.source!==e.layout.source;i==="size"?is(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],y=Jt(f);f.min=r[h].min,f.max=f.min+y}):A1(i,s.layoutBox,r)&&is(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],y=Jt(r[h]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+y)});const l=da();Si(l,r,s.layoutBox);const c=da();o?Si(c,e.applyTransform(a,!0),s.measuredBox):Si(c,r,s.layoutBox);const d=!E1(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const g=Ye();Ei(g,s.layoutBox,f.layoutBox);const v=Ye();Ei(v,r,y.layoutBox),T1(g,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function iT(e){mn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lT(e){e.clearSnapshot()}function rx(e){e.clearMeasurements()}function cT(e){e.isLayoutDirty=!1}function dT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uT(e){e.resolveTargetDelta()}function hT(e){e.calcProjection()}function fT(e){e.resetRotation()}function mT(e){e.removeLeadSnapshot()}function ax(e,t,s){e.translate=Be(t.translate,0,s),e.scale=Be(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ix(e,t,s,r){e.min=Be(t.min,s.min,r),e.max=Be(t.max,s.max,r)}function pT(e,t,s,r){ix(e.x,t.x,s.x,r),ix(e.y,t.y,s.y,r)}function xT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gT={duration:.45,ease:[.4,0,.1,1]},ox=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),lx=ox("applewebkit/")&&!ox("chrome/")?Math.round:Ke;function cx(e){e.min=lx(e.min),e.max=lx(e.max)}function yT(e){cx(e.x),cx(e.y)}function A1(e,t,s){return e==="position"||e==="preserve-aspect"&&!gh(J0(t),J0(s),.2)}const vT=_1({attachResizeListener:(e,t)=>tr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qd={current:void 0},P1=_1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qd.current){const e=new vT({});e.mount(window),e.setOptions({layoutScroll:!0}),Qd.current=e}return Qd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bT={pan:{Feature:ME},drag:{Feature:OE,ProjectionNode:P1,MeasureLayout:N1}},jT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function wT(e){const t=jT.exec(e);if(!t)return[,];const[,s,r]=t;return[s,r]}function jh(e,t,s=1){const[r,a]=wT(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return f1(o)?parseFloat(o):o}else return dh(a)?jh(a,t,s+1):a}function kT(e,{...t},s){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const i=a.get();if(!dh(i))return;const o=jh(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!dh(i))continue;const o=jh(i,r);o&&(t[a]=o,s||(s={}),s[a]===void 0&&(s[a]=i))}return{target:t,transitionEnd:s}}const NT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),R1=e=>NT.has(e),CT=e=>Object.keys(e).some(R1),dx=e=>e===Un||e===de,ux=(e,t)=>parseFloat(e.split(", ")[t]),hx=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return ux(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?ux(i[1],e):0}},ST=new Set(["x","y","z"]),ET=mo.filter(e=>!ST.has(e));function TT(e){const t=[];return ET.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ta={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:hx(4,13),y:hx(5,14)};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const _T=(e,t,s)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(d=>{l[d]=Ta[d](r,i)}),t.render();const c=t.measureViewportBox();return s.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=Ta[d](c,i)}),e},AT=(e,t,s={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(R1);let i=[],o=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],h=si(u);const f=t[c];let y;if(ic(f)){const g=f.length,v=f[0]===null?1:0;u=f[v],h=si(u);for(let w=v;w<g&&f[w]!==null;w++)y?sm(si(f[w])===y):y=si(f[w])}else y=si(f);if(h!==y)if(dx(h)&&dx(y)){const g=d.get();typeof g=="string"&&d.set(parseFloat(g)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&y===de&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(y!=null&&y.transform)&&(u===0||f===0)?u===0?d.set(y.transform(u)):t[c]=h.transform(f):(o||(i=TT(e),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],d.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=_T(t,e,l);return i.length&&i.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),Yc&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:t,transitionEnd:r}};function PT(e,t,s,r){return CT(t)?AT(e,t,s,r):{target:t,transitionEnd:r}}const RT=(e,t,s,r)=>{const a=kT(e,t,r);return t=a.target,r=a.transitionEnd,PT(e,t,s,r)},wh={current:null},L1={current:!1};function LT(){if(L1.current=!0,!!Yc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wh.current=e.matches;e.addListener(t),t()}else wh.current=!1}function DT(e,t,s){const{willChange:r}=t;for(const a in t){const i=t[a],o=s[a];if(Wt(i))e.addValue(a,i),dc(r)&&r.add(a);else if(Wt(o))e.addValue(a,Ea(i,{owner:e})),dc(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,Ea(l!==void 0?l:i,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const fx=new WeakMap,D1=Object.keys(Qi),OT=D1.length,mx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],MT=Gf.length;class IT{constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Oe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=Jc(s),this.isVariantNode=yb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const h in u){const f=u[h];l[h]!==void 0&&Wt(f)&&(f.set(l[h],!1),dc(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,fx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),L1.current||LT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){fx.delete(this.current),this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const r=Bn.has(t),a=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Oe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},r,a,i){let o,l;for(let c=0;c<OT;c++){const d=D1[c],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:y}=Qi[d];f&&(o=f),u(s)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:y}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||h&&la(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:y})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<mx.length;r++){const a=mx[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=DT(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const s={};for(let r=0;r<MT;r++){const a=Gf[r],i=this.props[a];(Ki(i)||i===!1)&&(s[a]=i)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Ea(s,{owner:this}),this.addValue(t,r)),r}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(s=tm(this.props,r))===null||s===void 0?void 0:s[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Wt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new um),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class O1 extends IT{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...r},{transformValues:a},i){let o=eE(r,t||{},this);if(a&&(s&&(s=a(s)),r&&(r=a(r)),o&&(o=a(o))),i){X4(this,r,o);const l=RT(this,r,o,s);s=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:s,...r}}}function FT(e){return window.getComputedStyle(e)}class VT extends O1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Bn.has(s)){const r=im(s);return r&&r.default||0}else{const r=FT(t),a=(wb(s)?r.getPropertyValue(s):r[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return w1(t,s)}build(t,s,r,a){Qf(t,s,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return em(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Wt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,r,a){Tb(t,s,r,a)}}class $T extends O1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Bn.has(s)){const r=im(s);return r&&r.default||0}return s=_b.has(s)?s:Wf(s),t.getAttribute(s)}measureInstanceViewportBox(){return Ye()}scrapeMotionValuesFromProps(t,s){return Pb(t,s)}build(t,s,r,a){Xf(t,s,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,r,a){Ab(t,s,r,a)}mount(t){this.isSVGTag=Jf(t.tagName),super.mount(t)}}const BT=(e,t)=>Kf(e)?new $T(t,{enableHardwareAcceleration:!1}):new VT(t,{enableHardwareAcceleration:!0}),UT={layout:{ProjectionNode:P1,MeasureLayout:N1}},zT={...pE,...O5,...bT,...UT},R=HS((e,t)=>w5(e,t,zT,BT));function M1(){const e=m.useRef(!1);return Hf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function HT(){const e=M1(),[t,s]=m.useState(0),r=m.useCallback(()=>{e.current&&s(t+1)},[t]);return[m.useCallback(()=>Oe.postRender(r),[r]),t]}class WT extends m.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qT({children:e,isPresent:t}){const s=m.useId(),r=m.useRef(null),a=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),m.createElement(WT,{isPresent:t,childRef:r,sizeRef:a},m.cloneElement(e,{ref:r}))}const Yd=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=Rb(GT),c=m.useId(),d=m.useMemo(()=>({id:c,initial:t,isPresent:s,custom:a,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;r&&r()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[s]);return m.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[s]),m.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),o==="popLayout"&&(e=m.createElement(qT,{isPresent:s},e)),m.createElement(Qc.Provider,{value:d},e)};function GT(){return new Map}function ZT(e){return m.useEffect(()=>()=>e(),[])}const pn=e=>e.key||"";function KT(e,t){e.forEach(s=>{const r=pn(s);t.set(r,s)})}function QT(e){const t=[];return m.Children.forEach(e,s=>{m.isValidElement(s)&&t.push(s)}),t}const De=({children:e,custom:t,initial:s=!0,onExitComplete:r,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=m.useContext(Zf).forceRender||HT()[0],c=M1(),d=QT(e);let u=d;const h=m.useRef(new Map).current,f=m.useRef(u),y=m.useRef(new Map).current,g=m.useRef(!0);if(Hf(()=>{g.current=!1,KT(d,y),f.current=u}),ZT(()=>{g.current=!0,y.clear(),h.clear()}),g.current)return m.createElement(m.Fragment,null,u.map(p=>m.createElement(Yd,{key:pn(p),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:o},p)));u=[...u];const v=f.current.map(pn),w=d.map(pn),b=v.length;for(let p=0;p<b;p++){const x=v[p];w.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((p,x)=>{if(w.indexOf(x)!==-1)return;const j=y.get(x);if(!j)return;const k=v.indexOf(x);let N=p;if(!N){const S=()=>{h.delete(x);const C=Array.from(y.keys()).filter(L=>!w.includes(L));if(C.forEach(L=>y.delete(L)),f.current=d.filter(L=>{const V=pn(L);return V===x||C.includes(V)}),!h.size){if(c.current===!1)return;l(),r&&r()}};N=m.createElement(Yd,{key:pn(j),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:i,mode:o},j),h.set(x,N)}u.splice(k,0,N)}),u=u.map(p=>{const x=p.key;return h.has(x)?p:m.createElement(Yd,{key:pn(p),isPresent:!0,presenceAffectsLayout:i,mode:o},p)}),m.createElement(m.Fragment,null,h.size?u:u.map(p=>m.cloneElement(p)))},I1=m.createContext(),yo=()=>{const e=m.useContext(I1);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},YT=({children:e})=>{const[t,s]=m.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"dark"});m.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("theme",t)},[t]);const a={theme:t,setTheme:s,toggleTheme:()=>{s(i=>i==="dark"?"light":"dark")},isDark:t==="dark"};return n.jsx(I1.Provider,{value:a,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const s=m.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>m.createElement("svg",{ref:u,...XT,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${JT(e)}`,l].join(" "),...d},[...t.map(([h,f])=>m.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Q("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Q("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Q("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Q("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Q("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Q("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Q("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Q("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Q("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Q("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Q("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=Q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Q("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Q("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Q("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Q("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Q("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Q("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Q("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Q("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Q("PhoneMissed",[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Q("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Q("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Q("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Q("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Q("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Q("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Q("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Q("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),N_=()=>{const{theme:e,toggleTheme:t}=yo();return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-600 via-accent-600 to-primary-800"}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx(R.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0},className:"absolute -top-20 -left-20 w-96 h-96 rounded-full bg-white/10 blur-3xl"}),n.jsx(R.div,{animate:{scale:[1.2,1,1.2],rotate:[90,0,90]},transition:{duration:25,repeat:1/0},className:"absolute -bottom-20 -right-20 w-[500px] h-[500px] rounded-full bg-accent-500/20 blur-3xl"}),n.jsx(R.div,{animate:{y:[-20,20,-20]},transition:{duration:10,repeat:1/0},className:"absolute top-1/2 left-1/4 w-64 h-64 rounded-full bg-primary-400/20 blur-2xl"})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20 text-white",children:[n.jsxs(je,{to:"/",className:"flex items-center gap-3 mb-12",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:n.jsx(Yr,{className:"w-7 h-7 text-white"})}),n.jsx("span",{className:"text-2xl font-bold",children:"NexusCRM"})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs("h1",{className:"text-4xl xl:text-5xl font-bold mb-6 leading-tight",children:["Transform Your",n.jsx("br",{}),n.jsx("span",{className:"text-primary-200",children:"Customer Relationships"})]}),n.jsx("p",{className:"text-lg text-white/80 max-w-md leading-relaxed",children:"The modern CRM platform that helps teams manage leads, customers, and close deals faster than ever before."})]}),n.jsx("div",{className:"mt-12 space-y-4",children:["Multi-tenant architecture","Role-based access control","Real-time collaboration"].map((s,r)=>n.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+r*.1},className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-300"}),n.jsx("span",{className:"text-white/90",children:s})]},s))})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center p-6",children:[n.jsxs(je,{to:"/",className:"flex items-center gap-2 lg:hidden",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:n.jsx(Yr,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold",children:"NexusCRM"})]}),n.jsx("button",{onClick:t,className:"ml-auto p-2.5 rounded-xl bg-dark-100 dark:bg-dark-800 hover:bg-dark-200 dark:hover:bg-dark-700 transition-colors",children:e==="dark"?n.jsx(ko,{className:"w-5 h-5 text-amber-500"}):n.jsx(bo,{className:"w-5 h-5 text-primary-500"})})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-12",children:n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:n.jsx(Lv,{})})}),n.jsxs("div",{className:"p-6 text-center text-sm text-dark-500",children:[" ",new Date().getFullYear()," NexusCRM. All rights reserved."]})]})]})},C_=()=>{const[e,t]=m.useState(!1),[s,r]=m.useState([]),[a,i]=m.useState(0),[o,l]=m.useState(!1),c=m.useRef(null),{isAuthenticated:d}=Nt();m.useEffect(()=>{if(d){u();const p=setInterval(h,3e4);return()=>clearInterval(p)}},[d]),m.useEffect(()=>{const p=x=>{c.current&&!c.current.contains(x.target)&&t(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const u=async()=>{l(!0);try{const p=await Ms.getNotifications({limit:10});p.data.success&&(r(p.data.data.notifications),i(p.data.data.unreadCount))}catch(p){console.error("Failed to fetch notifications:",p)}finally{l(!1)}},h=async()=>{try{const p=await Ms.getNotifications({limit:1,unreadOnly:!0});p.data.success&&i(p.data.data.unreadCount)}catch(p){console.error("Failed to fetch unread count:",p)}},f=async p=>{try{await Ms.markAsRead(p),r(x=>x.map(j=>j.id===p?{...j,isRead:!0}:j)),i(x=>Math.max(0,x-1))}catch(x){console.error("Failed to mark as read:",x)}},y=async()=>{try{await Ms.markAllAsRead(),r(p=>p.map(x=>({...x,isRead:!0}))),i(0),M.success("All notifications marked as read")}catch{M.error("Failed to mark all as read")}},g=async(p,x)=>{x.stopPropagation();try{await Ms.deleteNotification(p),r(j=>j.filter(k=>k.id!==p)),M.success("Notification deleted")}catch{M.error("Failed to delete notification")}},v=async()=>{try{await Ms.deleteAllNotifications(),r([]),i(0),M.success("All notifications cleared")}catch{M.error("Failed to clear notifications")}},w=p=>({NEW_LEAD:"",LEAD_ASSIGNED:"",LEAD_STATUS_CHANGED:"",NEW_TASK:"",TASK_DUE_SOON:"",TASK_OVERDUE:"",TASK_COMPLETED:"",NEW_ISSUE:"",ISSUE_RESOLVED:"",NEW_CUSTOMER:"",CUSTOMER_JOINED:"",GENERAL:""})[p]||"",b=p=>{const x=new Date(p),k=new Date-x,N=Math.floor(k/6e4),S=Math.floor(k/36e5),C=Math.floor(k/864e5);return N<1?"Just now":N<60?`${N}m ago`:S<24?`${S}h ago`:C<7?`${C}d ago`:x.toLocaleDateString()};return d?n.jsxs("div",{className:"relative",ref:c,children:[n.jsxs("button",{onClick:()=>{t(!e),e||u()},className:"relative p-2 rounded-xl bg-dark-100 dark:bg-dark-800 hover:bg-dark-200 dark:hover:bg-dark-700 transition-colors",children:[n.jsx(fc,{className:"w-5 h-5"}),a>0&&n.jsx(R.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center font-bold",children:a>9?"9+":a})]}),n.jsx(De,{children:e&&n.jsxs(R.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-80 sm:w-96 max-h-[70vh] bg-white dark:bg-dark-800 rounded-2xl shadow-2xl border border-dark-200 dark:border-dark-700 overflow-hidden z-50",children:[n.jsxs("div",{className:"p-4 border-b border-dark-200 dark:border-dark-700 flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold",children:"Notifications"}),n.jsxs("div",{className:"flex items-center gap-2",children:[a>0&&n.jsx("button",{onClick:y,className:"text-xs text-primary-500 hover:text-primary-600",children:"Mark all read"}),s.length>0&&n.jsx("button",{onClick:v,className:"text-xs text-red-500 hover:text-red-600",title:"Clear all notifications",children:"Clear all"})]})]}),n.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:o?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(we,{className:"w-6 h-6 animate-spin text-primary-500"})}):s.length===0?n.jsxs("div",{className:"py-12 text-center text-dark-500",children:[n.jsx(fc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),n.jsx("p",{children:"No notifications yet"})]}):n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:s.map(p=>n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,height:0},className:`p-4 hover:bg-dark-50 dark:hover:bg-dark-700/50 cursor-pointer transition-colors group ${p.isRead?"":"bg-primary-50 dark:bg-primary-900/20"}`,onClick:()=>!p.isRead&&f(p.id),children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("span",{className:"text-2xl flex-shrink-0",children:w(p.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-sm",children:p.title}),n.jsx("p",{className:"text-sm text-dark-500 line-clamp-2",children:p.message}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ur,{className:"w-3 h-3 text-dark-400"}),n.jsx("span",{className:"text-xs text-dark-400",children:b(p.createdAt)}),p.sentViaTelegram&&n.jsxs("span",{className:"flex items-center gap-1 text-xs text-blue-500",children:[n.jsx(qs,{className:"w-3 h-3"}),"Sent via Telegram"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[!p.isRead&&n.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 flex-shrink-0"}),n.jsx("button",{onClick:x=>g(p.id,x),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-all",title:"Delete notification",children:n.jsx(ht,{className:"w-3.5 h-3.5 text-red-500"})})]})]})},p.id))})}),n.jsx("div",{className:"p-3 border-t border-dark-200 dark:border-dark-700 bg-dark-50 dark:bg-dark-900",children:n.jsxs("a",{href:"/dashboard/settings",className:"text-sm text-primary-500 hover:text-primary-600 flex items-center justify-center gap-2",children:[n.jsx(qs,{className:"w-4 h-4"}),"Configure Telegram notifications"]})})]})})]}):null},Q1=m.createContext(null),eu={"/dashboard":"Dashboard","/pipeline":"Sales Pipeline","/leads":"Leads","/deals":"Deals","/contacts":"Contacts","/customers":"Customers","/tasks":"Tasks","/issues":"Issues","/notes":"Notes","/activities":"Activities","/settings":"Settings","/profile":"Profile","/email":"Email"},kx=e=>{if(eu[e])return eu[e];for(const[t,s]of Object.entries(eu))if(e.startsWith(t+"/"))return`${s} Detail`;return"Dashboard"},S_=({children:e})=>{const t=$n(),[s,r]=m.useState(kx(t.pathname)),[a,i]=m.useState(null),[o,l]=m.useState([]),[c,d]=m.useState(!1);m.useEffect(()=>{const b=kx(t.pathname);r(b),t.pathname.includes("/")||i(null)},[t.pathname]);const u=m.useCallback((b,p)=>{i({type:b,id:p.id,name:p.name||p.title||p.firstName||`${p.firstName} ${p.lastName}`,data:p})},[]),h=m.useCallback(()=>{i(null)},[]),f=m.useCallback(b=>{l(p=>[b,...p].slice(0,5))},[]),y=m.useCallback(()=>({currentPage:s,selectedEntity:a?{type:a.type,id:a.id,name:a.name}:null,recentActions:o.slice(0,3)}),[s,a,o]),g=m.useCallback((b=null)=>(d(!0),b),[]),v=m.useCallback(()=>{d(!1)},[]),w={currentPage:s,selectedEntity:a,recentActions:o,isChatOpen:c,setCurrentEntity:u,clearCurrentEntity:h,addRecentAction:f,getContext:y,openChat:g,closeChat:v,setIsChatOpen:d};return n.jsx(Q1.Provider,{value:w,children:e})},E_=()=>{const e=m.useContext(Q1);return e||{currentPage:null,selectedEntity:null,recentActions:[],isChatOpen:!1,setCurrentEntity:()=>{},clearCurrentEntity:()=>{},addRecentAction:()=>{},getContext:()=>null,openChat:()=>null,closeChat:()=>{},setIsChatOpen:()=>{}}},Nx=window.SpeechRecognition||window.webkitSpeechRecognition,qt=window.speechSynthesis,Cx={ADMIN:[{id:"create_lead",label:"New Lead",icon:dt,prompt:"I want to create a new lead",color:"emerald"},{id:"create_contact",label:"New Contact",icon:Ch,prompt:"I want to add a new contact",color:"blue"},{id:"create_task",label:"New Task",icon:Xd,prompt:"Create a task for me",color:"amber"},{id:"create_note",label:"Add Note",icon:jx,prompt:"I want to add a note",color:"violet"},{id:"show_leads",label:"View Leads",icon:dt,prompt:"Show me all leads",color:"slate"},{id:"show_tasks",label:"My Tasks",icon:px,prompt:"Show my pending tasks",color:"slate"}],STAFF:[{id:"create_lead",label:"New Lead",icon:dt,prompt:"I want to create a new lead",color:"emerald"},{id:"create_contact",label:"New Contact",icon:Ch,prompt:"I want to add a new contact",color:"blue"},{id:"create_task",label:"New Task",icon:Xd,prompt:"Create a task for me",color:"amber"},{id:"create_note",label:"Add Note",icon:jx,prompt:"I want to add a note",color:"violet"},{id:"show_leads",label:"View Leads",icon:dt,prompt:"Show me all leads",color:"slate"}],CUSTOMER:[{id:"create_issue",label:"New Issue",icon:Ws,prompt:"I want to report an issue",color:"red"},{id:"show_issues",label:"My Issues",icon:px,prompt:"Show my support issues",color:"slate"},{id:"show_tasks",label:"My Tasks",icon:Xd,prompt:"Show my tasks",color:"amber"}]},T_=({isOpen:e,onClose:t})=>{const{currentRole:s}=rs(),r=E_(),[a,i]=m.useState([]),[o,l]=m.useState(null),[c,d]=m.useState([]),[u,h]=m.useState(""),[f,y]=m.useState(!1),[g,v]=m.useState([]),[w,b]=m.useState(!1),[p,x]=m.useState(null),[j,k]=m.useState(!1),N=m.useRef(null),S=m.useRef(null),[C,L]=m.useState(!1),[V,U]=m.useState(!1),[T,E]=m.useState(!1),[F,X]=m.useState(!0),[Y,$]=m.useState(0),[D,Z]=m.useState(""),P=m.useRef(null),z=m.useRef(null),ie=m.useRef(null),Ce=m.useRef(null),ve=m.useRef(null),qe=Cx[s]||Cx.STAFF;m.useEffect(()=>{if(Nx){U(!0);const _=new Nx;_.continuous=!0,_.interimResults=!0,_.lang="en-US",_.onstart=()=>{L(!0),Z("")},_.onresult=B=>{let W="",q="";for(let te=B.resultIndex;te<B.results.length;te++){const xe=B.results[te][0].transcript;B.results[te].isFinal?q+=xe:W+=xe}Z(W||q),z.current&&clearTimeout(z.current),q&&(h(te=>(te+" "+q).trim()),Z("")),z.current=setTimeout(()=>{P.current&&C&&me(!0)},2e3)},_.onerror=B=>{console.error("Speech recognition error:",B.error),B.error!=="no-speech"&&M.error(`Voice error: ${B.error}`),L(!1)},_.onend=()=>{L(!1),$(0),z.current&&clearTimeout(z.current)},P.current=_}return()=>{P.current&&P.current.abort(),z.current&&clearTimeout(z.current),ve.current&&cancelAnimationFrame(ve.current),ie.current&&ie.current.close()}},[]),m.useEffect(()=>{var _;e?(rt(),Ct(),(_=S.current)==null||_.focus()):(C&&me(!1),qt==null||qt.cancel())},[e]),m.useEffect(()=>{Ve()},[c]);const Ve=()=>{var _;(_=N.current)==null||_.scrollIntoView({behavior:"smooth"})},st=async()=>{try{const _=await navigator.mediaDevices.getUserMedia({audio:!0});ie.current=new(window.AudioContext||window.webkitAudioContext),Ce.current=ie.current.createAnalyser(),ie.current.createMediaStreamSource(_).connect(Ce.current),Ce.current.fftSize=256;const W=new Uint8Array(Ce.current.frequencyBinCount),q=()=>{if(!C){$(0);return}Ce.current.getByteFrequencyData(W);const te=W.reduce((xe,Ee)=>xe+Ee,0)/W.length;$(Math.min(100,te*1.5)),ve.current=requestAnimationFrame(q)};q()}catch(_){console.error("Audio visualization error:",_)}},ee=m.useCallback(async()=>{if(!(!P.current||f))try{qt==null||qt.cancel(),E(!1),P.current.start(),await st(),M.success(" Listening... Speak now",{duration:1500})}catch(_){console.error("Failed to start listening:",_),M.error("Failed to start voice input")}},[f]),me=m.useCallback((_=!1)=>{P.current&&P.current.stop(),ve.current&&cancelAnimationFrame(ve.current),ie.current&&ie.current.state!=="closed"&&ie.current.close(),L(!1),$(0),Z(""),_&&u.trim()&&setTimeout(()=>{on()},300)},[u]),H=m.useCallback(_=>{if(!F||!qt)return;qt.cancel();const B=new SpeechSynthesisUtterance(_);B.rate=1,B.pitch=1,B.volume=1;const q=qt.getVoices().find(te=>te.name.includes("Google")||te.name.includes("Natural")||te.name.includes("Samantha")||te.lang.startsWith("en"));q&&(B.voice=q),B.onstart=()=>E(!0),B.onend=()=>E(!1),B.onerror=()=>E(!1),qt.speak(B)},[F]),ne=m.useCallback(()=>{qt==null||qt.cancel(),E(!1)},[]),rt=async()=>{try{const _=await Wn.getConversations();_.data.success&&i(_.data.data.conversations)}catch(_){console.error("Failed to fetch conversations:",_)}},Ct=async()=>{try{const _=await Wn.getSuggestions();_.data.success&&v(_.data.data.suggestions)}catch(_){console.error("Failed to fetch suggestions:",_)}},an=async _=>{try{const B=await Wn.getConversation(_);if(B.data.success){const W=B.data.data.conversation;l(W),d(W.messages||[]),b(!1)}}catch{M.error("Failed to load conversation")}},yr=()=>{l(null),d([]),b(!1)},on=async(_=null)=>{var xe,Ee,St;const B=_||u.trim();if(!B||f)return;C&&me(!1);const W=B;_||h(""),k(!1);const q={role:"user",content:W,timestamp:new Date().toISOString()};d(ys=>[...ys,q]);const te=((xe=r==null?void 0:r.getContext)==null?void 0:xe.call(r))||null;y(!0);try{const ys=await Wn.chat(W,o==null?void 0:o.id,te);if(ys.data.success){const{conversationId:ns,message:ln,title:za}=ys.data.data;o||l({id:ns,title:za}),d(Ha=>[...Ha,ln]),F&&ln.content&&H(ln.content),rt()}}catch(ys){const ns=((St=(Ee=ys.response)==null?void 0:Ee.data)==null?void 0:St.message)||"Failed to get AI response";M.error(ns),d(ln=>ln.slice(0,-1))}finally{y(!1)}},ld=async(_,B)=>{B.stopPropagation();try{await Wn.deleteConversation(_),i(W=>W.filter(q=>q.id!==_)),(o==null?void 0:o.id)===_&&yr(),M.success("Conversation deleted")}catch{M.error("Failed to delete conversation")}},Tm=async()=>{if(confirm("Are you sure you want to delete all conversations?"))try{await Wn.clearConversations(),i([]),yr(),M.success("All conversations cleared")}catch{M.error("Failed to clear conversations")}},_o=(_,B)=>{navigator.clipboard.writeText(_),x(B),setTimeout(()=>x(null),2e3)},A=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),on())},O=_=>new Date(_).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return e?n.jsx(De,{children:n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:t,children:n.jsxs(R.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},onClick:_=>_.stopPropagation(),className:"absolute left-0 top-0 h-full w-full max-w-lg bg-white dark:bg-dark-900 shadow-2xl flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-200 dark:border-dark-700 bg-gradient-to-r from-violet-500/10 to-purple-500/10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${C?"bg-gradient-to-br from-red-500 to-orange-500 animate-pulse":"bg-gradient-to-br from-violet-500 to-purple-600"}`,children:C?n.jsx(Nl,{className:"w-5 h-5 text-white"}):n.jsx(Yr,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold",children:C?"Voice Mode":"AI Assistant"}),n.jsx("p",{className:"text-xs text-dark-500",children:C?"Listening... speak now":`${s} Access  Gemini Powered`})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>b(!w),className:`p-2 rounded-lg transition-colors ${w?"bg-violet-100 dark:bg-violet-900/30 text-violet-600":"hover:bg-dark-100 dark:hover:bg-dark-800"}`,title:"Chat History",children:n.jsx(yx,{className:"w-5 h-5"})}),n.jsx("button",{onClick:yr,className:"p-2 rounded-lg hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",title:"New Chat",children:n.jsx(Dt,{className:"w-5 h-5"})}),n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",children:n.jsx(ht,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsx(De,{children:w&&n.jsx(R.div,{initial:{width:0,opacity:0},animate:{width:"260px",opacity:1},exit:{width:0,opacity:0},className:"border-r border-dark-200 dark:border-dark-700 bg-dark-50 dark:bg-dark-800/50 overflow-hidden",children:n.jsxs("div",{className:"p-3 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-medium",children:"History"}),a.length>0&&n.jsx("button",{onClick:Tm,className:"text-xs text-red-500 hover:text-red-600",children:"Clear All"})]}),n.jsx("div",{className:"flex-1 overflow-auto space-y-1",children:a.length===0?n.jsx("p",{className:"text-sm text-dark-500 text-center py-4",children:"No conversations yet"}):a.map(_=>n.jsxs("button",{onClick:()=>an(_.id),className:`w-full flex items-center gap-2 p-2 rounded-lg text-left text-sm transition-colors group ${(o==null?void 0:o.id)===_.id?"bg-violet-100 dark:bg-violet-900/30":"hover:bg-dark-100 dark:hover:bg-dark-700"}`,children:[n.jsx(yx,{className:"w-4 h-4 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"truncate font-medium",children:_.title||"New Chat"}),n.jsxs("p",{className:"text-xs text-dark-500",children:[_.messageCount," messages"]})]}),n.jsx("button",{onClick:B=>ld(_.id,B),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-dark-200 dark:hover:bg-dark-600 rounded",children:n.jsx(ps,{className:"w-3 h-3 text-red-500"})})]},_.id))})]})})}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:c.length===0?n.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center px-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center mb-4",children:n.jsx(kl,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Hi! I'm your CRM Assistant"}),n.jsxs("p",{className:"text-dark-500 text-sm mb-4",children:["I can help you with ",s==="ADMIN"?"all CRM data":s==="STAFF"?"leads, contacts, and tasks":"your issues and tasks",". Ask me anything!"]}),(r==null?void 0:r.currentPage)&&n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-violet-50 dark:bg-violet-900/20 text-violet-600 dark:text-violet-400 text-xs mb-4",children:[n.jsx(gx,{className:"w-3 h-3"}),"Currently on: ",r.currentPage,r.selectedEntity&&n.jsxs("span",{className:"text-dark-400",children:[" Viewing ",r.selectedEntity.type,": ",r.selectedEntity.name]})]}),n.jsxs("div",{className:"w-full max-w-md mb-6",children:[n.jsx("p",{className:"text-xs text-dark-400 mb-3",children:"Quick Actions:"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:qe.slice(0,6).map(_=>{const B=_.icon,W={emerald:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-100 dark:hover:bg-emerald-900/30 border-emerald-200 dark:border-emerald-800",blue:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 border-blue-200 dark:border-blue-800",amber:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 hover:bg-amber-100 dark:hover:bg-amber-900/30 border-amber-200 dark:border-amber-800",violet:"bg-violet-50 dark:bg-violet-900/20 text-violet-600 dark:text-violet-400 hover:bg-violet-100 dark:hover:bg-violet-900/30 border-violet-200 dark:border-violet-800",red:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 border-red-200 dark:border-red-800",slate:"bg-slate-50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700/50 border-slate-200 dark:border-slate-700"};return n.jsxs("button",{onClick:()=>on(_.prompt),className:`flex flex-col items-center gap-1.5 p-3 rounded-xl border transition-all ${W[_.color]}`,children:[n.jsx(B,{className:"w-5 h-5"}),n.jsx("span",{className:"text-xs font-medium",children:_.label})]},_.id)})})]}),n.jsxs("div",{className:"w-full max-w-sm space-y-2",children:[n.jsx("p",{className:"text-xs text-dark-400 mb-2",children:"Or try asking:"}),g.slice(0,3).map((_,B)=>n.jsxs("button",{onClick:()=>{var W;h(_),(W=S.current)==null||W.focus()},className:"w-full flex items-center gap-2 p-3 text-left text-sm rounded-xl border border-dark-200 dark:border-dark-700 hover:border-violet-500 hover:bg-violet-50 dark:hover:bg-violet-900/20 transition-colors",children:[n.jsx(B1,{className:"w-4 h-4 text-violet-500"}),_]},B))]})]}):n.jsxs(n.Fragment,{children:[c.map((_,B)=>n.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${_.role==="user"?"justify-end":""}`,children:[_.role==="assistant"&&n.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:n.jsx(kl,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:`max-w-[80%] ${_.role==="user"?"order-first":""}`,children:[_.role==="assistant"&&_.toolsUsed&&_.toolsUsed.length>0&&n.jsxs("div",{className:"flex items-center gap-1 mb-1 flex-wrap",children:[n.jsxs("span",{className:"flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",children:[n.jsx(xx,{className:"w-3 h-3"}),"Used CRM data"]}),_.toolsUsed.slice(0,3).map((W,q)=>n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400",children:W.replace(/_/g," ")},q)),_.toolsUsed.length>3&&n.jsxs("span",{className:"text-xs text-dark-400",children:["+",_.toolsUsed.length-3," more"]})]}),n.jsx("div",{className:`rounded-2xl px-4 py-3 ${_.role==="user"?"bg-violet-500 text-white rounded-br-md":"bg-dark-100 dark:bg-dark-800 rounded-bl-md"}`,children:n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})}),n.jsxs("div",{className:`flex items-center gap-2 mt-1 ${_.role==="user"?"justify-end":""}`,children:[n.jsx("span",{className:"text-xs text-dark-400",children:O(_.timestamp)}),_.role==="assistant"&&n.jsx("button",{onClick:()=>_o(_.content,B),className:"p-1 hover:bg-dark-200 dark:hover:bg-dark-700 rounded",title:"Copy",children:p===B?n.jsx(kh,{className:"w-3 h-3 text-green-500"}):n.jsx(z1,{className:"w-3 h-3 text-dark-400"})})]})]}),_.role==="user"&&n.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center flex-shrink-0",children:n.jsx(hr,{className:"w-4 h-4 text-white"})})]},B)),f&&n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:n.jsx(kl,{className:"w-4 h-4 text-white"})}),n.jsx("div",{className:"bg-dark-100 dark:bg-dark-800 rounded-2xl rounded-bl-md px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(we,{className:"w-4 h-4 animate-spin text-violet-500"}),n.jsx("span",{className:"text-sm text-dark-500",children:"Processing..."})]}),n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-dark-400",children:[n.jsx(xx,{className:"w-3 h-3 animate-pulse text-emerald-500"}),n.jsx("span",{children:"Querying CRM data with MCP tools"})]})]})})]}),n.jsx("div",{ref:N})]})}),n.jsx(De,{children:C&&n.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 py-3 bg-gradient-to-r from-red-500/10 to-orange-500/10 border-t border-red-200 dark:border-red-800",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center animate-pulse",children:n.jsx(Nl,{className:"w-5 h-5 text-white"})}),n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-red-400 animate-ping",style:{opacity:Y/200}})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Listening..."}),n.jsx("p",{className:"text-xs text-dark-500",children:D||"Speak now  Auto-stops on silence"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-dark-200 dark:bg-dark-700 rounded-full overflow-hidden",children:n.jsx(R.div,{className:"h-full bg-gradient-to-r from-red-500 to-orange-500 rounded-full",animate:{width:`${Y}%`},transition:{duration:.1}})}),n.jsx("button",{onClick:()=>me(!0),className:"p-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",title:"Stop & Send",children:n.jsx(Mn,{className:"w-4 h-4"})})]})]})})}),n.jsx(De,{children:T&&n.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 py-2 bg-gradient-to-r from-violet-500/10 to-purple-500/10 border-t border-violet-200 dark:border-violet-800",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex items-center gap-1",children:[...Array(4)].map((_,B)=>n.jsx(R.div,{className:"w-1 bg-violet-500 rounded-full",animate:{height:[8,16,8]},transition:{duration:.5,repeat:1/0,delay:B*.1}},B))}),n.jsx("span",{className:"text-sm text-violet-600 dark:text-violet-400",children:"AI is speaking..."})]}),n.jsx("button",{onClick:ne,className:"p-1.5 rounded-lg hover:bg-violet-100 dark:hover:bg-violet-900/30 transition-colors",title:"Stop speaking",children:n.jsx(wx,{className:"w-4 h-4 text-violet-500"})})]})})}),n.jsx(De,{children:j&&n.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-dark-200 dark:border-dark-700 bg-dark-50 dark:bg-dark-800/50",children:n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs font-medium text-dark-500",children:"Quick Actions"}),n.jsx("button",{onClick:()=>k(!1),className:"p-1 hover:bg-dark-200 dark:hover:bg-dark-700 rounded",children:n.jsx(ht,{className:"w-3 h-3 text-dark-400"})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:qe.map(_=>{const B=_.icon,W={emerald:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-200",blue:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200",amber:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 hover:bg-amber-200",violet:"bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400 hover:bg-violet-200",red:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200",slate:"bg-slate-100 dark:bg-slate-700/50 text-slate-600 dark:text-slate-400 hover:bg-slate-200"};return n.jsxs("button",{onClick:()=>on(_.prompt),disabled:f,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${W[_.color]} disabled:opacity-50`,children:[n.jsx(B,{className:"w-3.5 h-3.5"}),_.label]},_.id)})})]})})}),(r==null?void 0:r.currentPage)&&c.length>0&&n.jsx("div",{className:"px-4 py-2 border-t border-dark-200 dark:border-dark-700 bg-violet-50/50 dark:bg-violet-900/10 flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-violet-600 dark:text-violet-400",children:[n.jsx(gx,{className:"w-3 h-3"}),n.jsx("span",{children:r.currentPage}),r.selectedEntity&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-dark-300",children:""}),n.jsxs("span",{children:[r.selectedEntity.type,": ",r.selectedEntity.name]})]})]})}),n.jsxs("div",{className:"p-4 border-t border-dark-200 dark:border-dark-700 bg-white dark:bg-dark-900",children:[n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{onClick:()=>k(!j),disabled:f,className:`p-3 rounded-xl transition-all ${j?"bg-violet-100 dark:bg-violet-900/30 text-violet-600":"bg-dark-100 dark:bg-dark-800 hover:bg-dark-200 dark:hover:bg-dark-700 text-dark-600 dark:text-dark-300"} disabled:opacity-50 disabled:cursor-not-allowed`,title:"Quick Actions",children:n.jsx(Sh,{className:"w-5 h-5"})}),V&&n.jsx("button",{onClick:C?()=>me(!0):ee,disabled:f,className:`p-3 rounded-xl transition-all ${C?"bg-red-500 text-white animate-pulse":"bg-dark-100 dark:bg-dark-800 hover:bg-dark-200 dark:hover:bg-dark-700 text-dark-600 dark:text-dark-300"} disabled:opacity-50 disabled:cursor-not-allowed`,title:C?"Stop listening":"Start voice input",children:C?n.jsx(q1,{className:"w-5 h-5"}):n.jsx(Nl,{className:"w-5 h-5"})}),n.jsx("div",{className:"flex-1 relative",children:n.jsx("textarea",{ref:S,value:u,onChange:_=>h(_.target.value),onKeyDown:A,placeholder:C?"Listening... speak now":"Ask me anything about your CRM...",rows:1,disabled:C,className:"w-full resize-none rounded-xl border border-dark-200 dark:border-dark-700 bg-dark-50 dark:bg-dark-800 px-4 py-3 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent disabled:opacity-50",style:{maxHeight:"120px"}})}),n.jsx("button",{onClick:()=>{X(!F),T&&ne(),M.success(F?"Voice response off":"Voice response on",{duration:1500})},className:`p-3 rounded-xl transition-all ${F?"bg-violet-100 dark:bg-violet-900/30 text-violet-600":"bg-dark-100 dark:bg-dark-800 text-dark-400"}`,title:F?"Disable voice response":"Enable voice response",children:F?n.jsx(k_,{className:"w-5 h-5"}):n.jsx(wx,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>on(),disabled:!u.trim()||f,className:"p-3 rounded-xl bg-gradient-to-r from-violet-500 to-purple-600 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:f?n.jsx(we,{className:"w-5 h-5 animate-spin"}):n.jsx(Mn,{className:"w-5 h-5"})})]}),n.jsxs("p",{className:"text-xs text-dark-400 mt-2 text-center flex items-center justify-center gap-1",children:[n.jsx(Sh,{className:"w-3 h-3 text-emerald-500"}),V?"Voice enabled  ":"","MCP-enabled  Real CRM data access  ",s," permissions"]})]})]})]})]})})}):null},__=e=>{const t=new Date(e),r=new Date-t,a=Math.floor(r/1e3),i=Math.floor(a/60),o=Math.floor(i/60),l=Math.floor(o/24);return a<60?"just now":i<60?`${i}m ago`:o<24?`${o}h ago`:l<7?`${l}d ago`:t.toLocaleDateString()},Y1=({isOpen:e,onClose:t,targetUserId:s=null,targetUserName:r=null,targetCompanyId:a=null,targetCompanyName:i=null,isSuperAdmin:o=!1})=>{const{user:l}=Nt(),[c,d]=m.useState(null),[u,h]=m.useState([]),[f,y]=m.useState(""),[g,v]=m.useState(!1),[w,b]=m.useState(!1),[p,x]=m.useState(null),j=m.useRef(null),k=m.useRef(null),N=m.useCallback(async()=>{var T,E,F;if(e)try{v(!0),x(null);let X;if(o?a&&!s?X=await ui.startWithCompany(a):s&&(X=await ui.startWithCustomer(s,a)):s&&(X=await bl.start(s)),(T=X==null?void 0:X.data)!=null&&T.success){const Y=X.data.data.conversation;d(Y),await S(Y.id)}}catch(X){console.error("Failed to start conversation:",X),x(((F=(E=X.response)==null?void 0:E.data)==null?void 0:F.message)||"Failed to start conversation")}finally{v(!1)}},[e,s,a,o]),S=m.useCallback(async T=>{if(T)try{const F=await(o?ui:bl).getConversation(T);F.data.success&&(d(F.data.data.conversation),h(F.data.data.conversation.messages||[]))}catch(E){console.error("Failed to load messages:",E)}},[o]);m.useEffect(()=>{e?N():(d(null),h([]),y(""),x(null))},[e,N]),m.useEffect(()=>{j.current&&j.current.scrollIntoView({behavior:"smooth"})},[u]),m.useEffect(()=>{c&&k.current&&k.current.focus()},[c]),m.useEffect(()=>{if(!(c!=null&&c.id)||!e)return;const T=setInterval(()=>{S(c.id)},3e3);return()=>clearInterval(T)},[c==null?void 0:c.id,e,S]);const C=async T=>{if(T.preventDefault(),!f.trim()||!(c!=null&&c.id)||w)return;const E=f.trim();y(""),b(!0);try{const X=await(o?ui:bl).send(c.id,E);if(X.data.success){const Y=X.data.data.message;h($=>[...$,Y])}}catch(F){console.error("Failed to send message:",F),x("Failed to send message"),y(E)}finally{b(!1)}},L=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),C(T))},V=T=>o?T.isSuperAdminSender:T.senderUserId===(l==null?void 0:l.id),U=()=>r||i||(o&&(c!=null&&c.targetUser)?c.targetUser.name||c.targetUser.email:o&&(c!=null&&c.company)?c.company.name:"Chat");return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white dark:bg-dark-900 rounded-2xl shadow-2xl w-full max-w-md mx-4 flex flex-col h-[600px] max-h-[85vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-100 dark:border-dark-800 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-t-2xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:a&&!s?n.jsx($1,{className:"w-5 h-5"}):n.jsx(hr,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-sm",children:U()}),n.jsx("p",{className:"text-xs text-white/70",children:o?"Super Admin Chat":"1:1 Private Message"})]})]}),n.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-dark-50 dark:bg-dark-950",children:g?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(we,{className:"w-8 h-8 animate-spin text-primary-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-dark-500",children:"Loading conversation..."})]})}):p?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center text-red-500",children:[n.jsx("p",{className:"text-sm",children:p}),n.jsx("button",{onClick:N,className:"mt-2 text-primary-500 hover:underline text-sm",children:"Try again"})]})}):u.length===0?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center text-dark-400",children:[n.jsx(qs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm font-medium",children:"No messages yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Send a message to start the conversation"})]})}):n.jsxs(n.Fragment,{children:[u.map(T=>{const E=V(T);return n.jsx("div",{className:`flex ${E?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[75%] rounded-2xl px-4 py-2 ${E?"bg-primary-500 text-white rounded-br-md":"bg-white dark:bg-dark-800 text-dark-900 dark:text-dark-100 rounded-bl-md shadow-sm"}`,children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:T.content}),n.jsx("p",{className:`text-xs mt-1 ${E?"text-white/60":"text-dark-400"}`,children:__(T.createdAt)})]})},T.id)}),n.jsx("div",{ref:j})]})}),n.jsx("form",{onSubmit:C,className:"border-t border-dark-100 dark:border-dark-800 p-3 bg-white dark:bg-dark-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{ref:k,type:"text",value:f,onChange:T=>y(T.target.value),onKeyDown:L,placeholder:"Type your message...",disabled:g||!c,className:"flex-1 px-4 py-2.5 rounded-full bg-dark-100 dark:bg-dark-800 border-0 focus:ring-2 focus:ring-primary-500 text-sm disabled:opacity-50"}),n.jsx("button",{type:"submit",disabled:!f.trim()||w||!c,className:"p-2.5 rounded-full bg-primary-500 text-white hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?n.jsx(we,{className:"w-5 h-5 animate-spin"}):n.jsx(Mn,{className:"w-5 h-5"})})]})})]})}):null},mm=({targetUserId:e,targetUserName:t=null,targetCompanyId:s=null,targetCompanyName:r=null,isSuperAdmin:a=!1,label:i="Message",className:o="",size:l="md"})=>{const[c,d]=m.useState(!1),u=y=>{y.stopPropagation(),y.preventDefault(),d(!0)},h={sm:"p-1.5",md:"p-2",lg:"p-2.5"},f={sm:"w-3.5 h-3.5",md:"w-4 h-4",lg:"w-5 h-5"};return n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:u,disabled:!e&&!s,className:`${h[l]} hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg text-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${o}`,title:i,children:n.jsx(qs,{className:f[l]})}),n.jsx(Y1,{isOpen:c,onClose:()=>d(!1),targetUserId:e,targetUserName:t,targetCompanyId:s,targetCompanyName:r,isSuperAdmin:a})]})},Sx=e=>{const t=new Date(e),r=new Date-t,a=Math.floor(r/1e3),i=Math.floor(a/60),o=Math.floor(i/60),l=Math.floor(o/24);return a<60?"just now":i<60?`${i}m ago`:o<24?`${o}h ago`:l<7?`${l}d ago`:t.toLocaleDateString()},A_=({isOpen:e,onClose:t,isSuperAdmin:s=!1})=>{const{user:r}=Nt(),[a,i]=m.useState([]),[o,l]=m.useState(!1),[c,d]=m.useState(""),[u,h]=m.useState(null),[f,y]=m.useState(!1),g=m.useCallback(async()=>{try{l(!0);const N=await(s?ui:bl).listConversations();N.data.success&&i(N.data.data.conversations||[])}catch(k){console.error("Failed to load conversations:",k)}finally{l(!1)}},[s]);m.useEffect(()=>{e&&g()},[e,g]);const v=k=>{var N,S,C,L;if(s){if(k.type==="SUPERADMIN_TO_COMPANY"&&k.company)return k.company.name;if(k.type==="SUPERADMIN_TO_CUSTOMER"&&k.targetUser)return k.targetUser.name||k.targetUser.email}else return k.type==="SUPERADMIN_TO_CUSTOMER"||k.type==="SUPERADMIN_TO_COMPANY"?" Super Admin":k.userOneId===(r==null?void 0:r.id)?((N=k.userTwo)==null?void 0:N.name)||((S=k.userTwo)==null?void 0:S.email)||"User":((C=k.userOne)==null?void 0:C.name)||((L=k.userOne)==null?void 0:L.email)||"User";return"Chat"},w=k=>!s&&(k.type==="SUPERADMIN_TO_CUSTOMER"||k.type==="SUPERADMIN_TO_COMPANY")?"":v(k).charAt(0).toUpperCase(),b=k=>{if(k.messages&&k.messages.length>0){const N=k.messages[k.messages.length-1];return N.content.length>50?N.content.slice(0,50)+"...":N.content}return"No messages yet"},p=k=>{if(k.messages&&k.messages.length>0){const N=k.messages[k.messages.length-1];return Sx(N.createdAt)}return Sx(k.createdAt)},x=a.filter(k=>c?v(k).toLowerCase().includes(c.toLowerCase()):!0),j=k=>{h(k),y(!0)};return e?n.jsxs(n.Fragment,{children:[n.jsxs(R.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white dark:bg-dark-900 shadow-2xl z-50 flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-dark-100 dark:border-dark-800",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:n.jsx(qs,{className:"w-5 h-5 text-primary-500"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold",children:"Messages"}),n.jsxs("p",{className:"text-xs text-dark-500",children:[a.length," conversations"]})]})]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg transition-colors",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"px-4 py-3 border-b border-dark-100 dark:border-dark-800",children:n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-400"}),n.jsx("input",{type:"text",value:c,onChange:k=>d(k.target.value),placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-dark-100 dark:bg-dark-800 border-0 text-sm focus:ring-2 focus:ring-primary-500"})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:o?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx(we,{className:"w-6 h-6 animate-spin text-primary-500"})}):x.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-dark-400",children:[n.jsx(qs,{className:"w-12 h-12 mb-3 opacity-50"}),n.jsx("p",{className:"text-sm font-medium",children:"No conversations yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Start a chat from a user profile"})]}):n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:x.map(k=>n.jsxs("button",{onClick:()=>j(k),className:"w-full px-4 py-3 hover:bg-dark-50 dark:hover:bg-dark-800/50 transition-colors text-left flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white flex-shrink-0 font-semibold",children:k.type==="SUPERADMIN_TO_COMPANY"?n.jsx($1,{className:"w-5 h-5"}):w(k)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:v(k)}),n.jsx("span",{className:"text-xs text-dark-400 flex-shrink-0 ml-2",children:p(k)})]}),n.jsx("p",{className:"text-xs text-dark-500 truncate mt-0.5",children:b(k)})]}),n.jsx(B1,{className:"w-4 h-4 text-dark-400 flex-shrink-0"})]},k.id))})})]}),n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/30 z-40"}),u&&n.jsx(Y1,{isOpen:f,onClose:()=>{y(!1),h(null),g()},targetUserId:s?u.targetUserId:u.userOneId===(r==null?void 0:r.id)?u.userTwoId:u.userOneId,targetCompanyId:u.companyId,isSuperAdmin:s})]}):null},P_=({isSuperAdmin:e=!1})=>{const[t,s]=m.useState(!1),[r,a]=m.useState(0);return n.jsxs(n.Fragment,{children:[n.jsxs(R.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>s(!0),className:"fixed bottom-6 right-6 w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 text-white shadow-lg shadow-primary-500/30 flex items-center justify-center z-30 hover:shadow-xl transition-shadow",children:[n.jsx(qs,{className:"w-6 h-6"}),r>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:r>9?"9+":r})]}),n.jsx(De,{children:t&&n.jsx(A_,{isOpen:t,onClose:()=>s(!1),isSuperAdmin:e})})]})},R_=()=>{var k,N;const{user:e,logout:t}=Nt(),{currentCompany:s,currentRole:r,companies:a,switchCompany:i}=rs(),{theme:o,toggleTheme:l}=yo(),c=xs(),[d,u]=m.useState(!1),[h,f]=m.useState(!1),[y,g]=m.useState(!1),[v,w]=m.useState(!1),p=[{name:"Dashboard",icon:c_,href:`/dashboard/${(r==null?void 0:r.toLowerCase())||"admin"}`},{name:"Pipeline",icon:W1,href:"/pipeline",roles:["ADMIN","STAFF"]},{name:"Email",icon:Rt,href:"/email"},{name:"Customers",icon:fr,href:"/customers",roles:["ADMIN"]},{name:"Leads",icon:dt,href:"/leads",roles:["ADMIN","STAFF"]},{name:"Contacts",icon:U1,href:"/contacts",roles:["ADMIN","STAFF"]},{name:"Issues",icon:Te,href:"/issues"},{name:"Tasks",icon:Hr,href:"/tasks"},{name:"Notes",icon:Ws,href:"/notes"},{name:"Activities",icon:Pt,href:"/activities"}].filter(S=>!S.roles||S.roles.includes(r)),x=async()=>{await t()},j=S=>{switch(S){case"ADMIN":return"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400";case"STAFF":return"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400";case"CUSTOMER":return"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}};return n.jsxs("div",{className:"min-h-screen bg-dark-50 dark:bg-dark-950",children:[n.jsx(De,{children:d&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden"})}),n.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full w-72 bg-white dark:bg-dark-900 border-r border-dark-200 dark:border-dark-800 transform transition-transform duration-300 lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:n.jsx(Yr,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold",children:"NexusCRM"})]}),n.jsx("button",{onClick:()=>u(!1),className:"lg:hidden p-2 rounded-lg hover:bg-dark-100 dark:hover:bg-dark-800",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"p-4 border-b border-dark-200 dark:border-dark-800",children:n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>f(!h),className:"w-full flex items-center gap-3 p-3 rounded-xl bg-dark-50 dark:bg-dark-800 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white font-semibold",children:((k=s==null?void 0:s.name)==null?void 0:k.charAt(0))||"C"}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"font-semibold truncate",children:(s==null?void 0:s.name)||"Select Company"}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${j(r)}`,children:r||"No Role"})]}),n.jsx(Nh,{className:`w-5 h-5 transition-transform ${h?"rotate-180":""}`})]}),n.jsx(De,{children:h&&n.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 py-2 bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-200 dark:border-dark-700 z-50 max-h-64 overflow-auto",children:[a.map(S=>n.jsxs("button",{onClick:()=>{i(S.id,S.role),f(!1)},className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-dark-50 dark:hover:bg-dark-700 transition-colors ${(s==null?void 0:s.id)===S.id&&r===S.role?"bg-primary-50 dark:bg-primary-900/20":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white text-sm font-semibold",children:S.name.charAt(0)}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"font-medium text-sm",children:S.name}),n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${j(S.role)}`,children:S.role})]})]},`${S.id}-${S.role}`)),n.jsx("div",{className:"border-t border-dark-200 dark:border-dark-700 mt-2 pt-2 px-4",children:n.jsxs("button",{onClick:()=>{f(!1),c("/select-role")},className:"w-full flex items-center gap-2 py-2 text-sm text-primary-500 hover:text-primary-600",children:[n.jsx(Dn,{className:"w-4 h-4"}),"Manage Companies"]})})]})})]})}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:p.map(S=>n.jsxs(Gp,{to:S.href,onClick:()=>u(!1),className:({isActive:C})=>`sidebar-link ${C?"active":""}`,children:[n.jsx(S.icon,{className:"w-5 h-5"}),S.name]},S.name))}),n.jsxs("div",{className:"p-4 border-t border-dark-200 dark:border-dark-800 space-y-2",children:[n.jsxs("button",{onClick:()=>{w(!0),u(!1)},className:"sidebar-link w-full bg-gradient-to-r from-violet-500/10 to-purple-500/10 hover:from-violet-500/20 hover:to-purple-500/20 border border-violet-500/20",children:[n.jsx(kl,{className:"w-5 h-5 text-violet-500"}),n.jsx("span",{className:"bg-gradient-to-r from-violet-500 to-purple-500 bg-clip-text text-transparent font-medium",children:"AI Assistant"}),n.jsx(Yr,{className:"w-4 h-4 text-violet-500 ml-auto"})]}),n.jsxs(Gp,{to:"/settings",className:({isActive:S})=>`sidebar-link ${S?"active":""}`,children:[n.jsx(G1,{className:"w-5 h-5"}),"Settings"]}),n.jsxs("button",{onClick:x,className:"sidebar-link w-full text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[n.jsx(nd,{className:"w-5 h-5"}),"Logout"]})]})]})}),n.jsxs("div",{className:"lg:ml-72",children:[n.jsx("header",{className:"sticky top-0 z-30 h-16 bg-white/80 dark:bg-dark-900/80 backdrop-blur-xl border-b border-dark-200 dark:border-dark-800",children:n.jsxs("div",{className:"flex items-center justify-between h-full px-4 lg:px-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>u(!0),className:"lg:hidden p-2 rounded-xl hover:bg-dark-100 dark:hover:bg-dark-800",children:n.jsx(h_,{className:"w-6 h-6"})}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 bg-dark-100 dark:bg-dark-800 rounded-xl",children:[n.jsx(gr,{className:"w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",placeholder:"Search...",className:"bg-transparent border-none outline-none text-sm w-48 lg:w-64"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:l,className:"p-2.5 rounded-xl hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",children:o==="dark"?n.jsx(ko,{className:"w-5 h-5 text-amber-500"}):n.jsx(bo,{className:"w-5 h-5 text-primary-500"})}),n.jsx(C_,{}),n.jsxs("div",{className:"relative ml-2",children:[n.jsxs("button",{onClick:()=>g(!y),className:"flex items-center gap-3 p-2 rounded-xl hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",children:[n.jsx("div",{className:"avatar avatar-md",children:e!=null&&e.avatar?n.jsx("img",{src:e.avatar,alt:e.name,className:"rounded-full"}):((N=e==null?void 0:e.name)==null?void 0:N.charAt(0))||"U"}),n.jsxs("div",{className:"hidden sm:block text-left",children:[n.jsx("p",{className:"text-sm font-semibold",children:e==null?void 0:e.name}),n.jsx("p",{className:"text-xs text-dark-500",children:e==null?void 0:e.email})]}),n.jsx(Nh,{className:"hidden sm:block w-4 h-4"})]}),n.jsx(De,{children:y&&n.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full right-0 mt-2 w-56 py-2 bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-200 dark:border-dark-700 z-50",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-dark-200 dark:border-dark-700",children:[n.jsx("p",{className:"font-semibold",children:e==null?void 0:e.name}),n.jsx("p",{className:"text-sm text-dark-500",children:e==null?void 0:e.email})]}),n.jsxs("div",{className:"py-2",children:[n.jsx("button",{onClick:()=>{g(!1),c("/profile")},className:"w-full px-4 py-2 text-left text-sm hover:bg-dark-50 dark:hover:bg-dark-700",children:"Profile"}),n.jsx("button",{onClick:()=>{g(!1),c("/settings")},className:"w-full px-4 py-2 text-left text-sm hover:bg-dark-50 dark:hover:bg-dark-700",children:"Settings"})]}),n.jsx("div",{className:"border-t border-dark-200 dark:border-dark-700 pt-2",children:n.jsx("button",{onClick:()=>{g(!1),x()},className:"w-full px-4 py-2 text-left text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Logout"})})]})})]})]})]})}),n.jsx("main",{className:"p-4 lg:p-8",children:n.jsx(Lv,{})})]}),n.jsx(T_,{isOpen:v,onClose:()=>w(!1)}),n.jsx(P_,{})]})},L_=()=>{const{theme:e,toggleTheme:t}=yo(),s=[{icon:fr,title:"Customer Management",description:"Track and manage all your customer interactions in one centralized platform."},{icon:dt,title:"Lead Tracking",description:"Convert more leads with our intelligent pipeline management system."},{icon:rd,title:"Analytics & Reports",description:"Make data-driven decisions with real-time insights and reporting."},{icon:_a,title:"Role-Based Access",description:"Control who sees what with granular permission settings."},{icon:Dn,title:"Multi-Tenant",description:"Manage multiple companies with a single account seamlessly."},{icon:l_,title:"Workspace Switching",description:"Switch between companies and roles with a single click."}],r=[{value:"10K+",label:"Active Users"},{value:"500+",label:"Companies"},{value:"1M+",label:"Leads Managed"},{value:"99.9%",label:"Uptime"}];return n.jsxs("div",{className:"min-h-screen bg-white dark:bg-dark-950 overflow-hidden",children:[n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-dark-950/80 backdrop-blur-xl border-b border-dark-200 dark:border-dark-800",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:n.jsx(Yr,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold",children:"NexusCRM"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:t,className:"p-2.5 rounded-xl hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",children:e==="dark"?n.jsx(ko,{className:"w-5 h-5 text-amber-500"}):n.jsx(bo,{className:"w-5 h-5 text-primary-500"})}),n.jsx(je,{to:"/login",className:"text-sm font-medium hover:text-primary-500 transition-colors",children:"Sign In"}),n.jsx(je,{to:"/signup",className:"btn btn-primary",children:"Get Started"})]})]})})}),n.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-40 lg:pb-32",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-20 left-1/4 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-1/4 w-96 h-96 bg-accent-500/20 rounded-full blur-3xl"})]}),n.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center",children:[n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 text-sm font-medium mb-6",children:[n.jsx(Sh,{className:"w-4 h-4"}),"Introducing NexusCRM 2.0"]}),n.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:["The Modern CRM for",n.jsx("br",{}),n.jsx("span",{className:"gradient-text",children:"Growing Teams"})]}),n.jsx("p",{className:"text-lg lg:text-xl text-dark-600 dark:text-dark-400 max-w-2xl mx-auto mb-10",children:"Streamline your sales process, manage customer relationships, and grow your business with our powerful multi-tenant CRM platform."}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[n.jsxs(je,{to:"/signup",className:"btn btn-primary px-8 py-3 text-base",children:["Start Free Trial",n.jsx(Sn,{className:"w-5 h-5"})]}),n.jsx(je,{to:"/login",className:"btn btn-secondary px-8 py-3 text-base",children:"Sign In"})]})]}),n.jsx(R.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-20 grid grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((a,i)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl lg:text-4xl font-bold gradient-text mb-2",children:a.value}),n.jsx("div",{className:"text-dark-500",children:a.label})]},i))})]})})]}),n.jsx("section",{className:"py-20 lg:py-32 bg-dark-50 dark:bg-dark-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Everything You Need to Succeed"}),n.jsx("p",{className:"text-lg text-dark-600 dark:text-dark-400 max-w-2xl mx-auto",children:"Powerful features designed to help you manage your customer relationships effectively."})]})}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((a,i)=>n.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},className:"card p-6 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center mb-4",children:n.jsx(a.icon,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:a.title}),n.jsx("p",{className:"text-dark-600 dark:text-dark-400",children:a.description})]},a.title))})]})}),n.jsx("section",{className:"py-20 lg:py-32",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[n.jsxs(R.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[n.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold mb-6",children:["One Account,",n.jsx("br",{}),n.jsx("span",{className:"gradient-text",children:"Multiple Companies"})]}),n.jsx("p",{className:"text-lg text-dark-600 dark:text-dark-400 mb-8",children:"Our multi-tenant architecture allows you to manage multiple companies, switch roles seamlessly, and maintain complete data isolation."}),n.jsx("div",{className:"space-y-4",children:["Be an Admin for your own company","Work as Staff in another organization","Join companies as a Customer","Switch between roles instantly"].map((a,i)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(r_,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),n.jsx("span",{children:a})]},i))}),n.jsxs(je,{to:"/signup",className:"btn btn-primary mt-8",children:["Get Started Free",n.jsx(Sn,{className:"w-5 h-5"})]})]}),n.jsxs(R.div,{initial:{opacity:0,x:40},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500/20 to-accent-500/20 rounded-3xl blur-2xl"}),n.jsx("div",{className:"relative card p-8",children:n.jsx("div",{className:"space-y-4",children:[{name:"Acme Corp",role:"ADMIN",color:"from-red-400 to-red-600"},{name:"Tech Solutions",role:"STAFF",color:"from-blue-400 to-blue-600"},{name:"Global Services",role:"CUSTOMER",color:"from-green-400 to-green-600"}].map((a,i)=>n.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.2},className:"flex items-center gap-4 p-4 rounded-xl bg-dark-50 dark:bg-dark-800",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${a.color} flex items-center justify-center text-white font-bold`,children:a.name.charAt(0)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold",children:a.name}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${a.role==="ADMIN"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":a.role==="STAFF"?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"}`,children:a.role})]}),n.jsx(H1,{className:"w-5 h-5 text-dark-400"})]},a.name))})})]})]})})}),n.jsx("section",{className:"py-20 lg:py-32 bg-gradient-to-br from-primary-600 via-accent-600 to-primary-800",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Business?"}),n.jsx("p",{className:"text-lg text-white/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of companies using NexusCRM to manage their customer relationships and grow their business."}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[n.jsxs(je,{to:"/signup",className:"btn bg-white text-primary-600 hover:bg-dark-100 px-8 py-3 text-base shadow-xl",children:["Start Free Trial",n.jsx(Sn,{className:"w-5 h-5"})]}),n.jsx(je,{to:"/login",className:"btn border-2 border-white text-white hover:bg-white/10 px-8 py-3 text-base",children:"Sign In"})]})]})})}),n.jsx("footer",{className:"py-12 bg-dark-900 dark:bg-dark-950 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:n.jsx(Yr,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold",children:"NexusCRM"})]}),n.jsxs("p",{className:"text-dark-400 text-sm",children:[" ",new Date().getFullYear()," NexusCRM. All rights reserved."]})]})})})]})};var No=e=>e.type==="checkbox",jn=e=>e instanceof Date,It=e=>e==null;const X1=e=>typeof e=="object";var tt=e=>!It(e)&&!Array.isArray(e)&&X1(e)&&!jn(e),D_=e=>tt(e)&&e.target?No(e.target)?e.target.checked:e.target.value:e,O_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,M_=(e,t)=>e.has(O_(t)),I_=e=>{const t=e.constructor&&e.constructor.prototype;return tt(t)&&t.hasOwnProperty("isPrototypeOf")},pm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function lt(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(pm&&(e instanceof Blob||r))&&(s||tt(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!I_(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=lt(e[a]));else return e;return t}var ad=e=>/^\w*$/.test(e),Ge=e=>e===void 0,xm=e=>Array.isArray(e)?e.filter(Boolean):[],gm=e=>xm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(e,t,s)=>{if(!t||!tt(e))return s;const r=(ad(t)?[t]:gm(t)).reduce((a,i)=>It(a)?a:a[i],e);return Ge(r)||r===e?Ge(e[t])?s:e[t]:r},Os=e=>typeof e=="boolean",Pe=(e,t,s)=>{let r=-1;const a=ad(t)?[t]:gm(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=s;if(r!==o){const d=e[l];c=tt(d)||Array.isArray(d)?d:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ex={BLUR:"blur",FOCUS_OUT:"focusout"},Ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},F_=nt.createContext(null);F_.displayName="HookFormContext";var V_=(e,t,s,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ns.all&&(t._proxyFormState[o]=!r||Ns.all),e[o]}});return a};const $_=typeof window<"u"?nt.useLayoutEffect:nt.useEffect;var Zt=e=>typeof e=="string",B_=(e,t,s,r,a)=>Zt(e)?(r&&t.watch.add(e),ae(s,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),ae(s,i))):(r&&(t.watchAll=!0),s),Eh=e=>It(e)||!X1(e);function _r(e,t,s=new WeakSet){if(Eh(e)||Eh(t))return Object.is(e,t);if(jn(e)&&jn(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of r){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(jn(o)&&jn(l)||tt(o)&&tt(l)||Array.isArray(o)&&Array.isArray(l)?!_r(o,l,s):!Object.is(o,l))return!1}}return!0}var J1=(e,t,s,r,a)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:a||!0}}:{},Ti=e=>Array.isArray(e)?e:[e],Tx=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function ej(e,t){const s={};for(const r in e)if(e.hasOwnProperty(r)){const a=e[r],i=t[r];if(a&&tt(a)&&i){const o=ej(a,i);tt(o)&&(s[r]=o)}else e[r]&&(s[r]=i)}return s}var Tt=e=>tt(e)&&!Object.keys(e).length,ym=e=>e.type==="file",Cs=e=>typeof e=="function",pc=e=>{if(!pm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tj=e=>e.type==="select-multiple",vm=e=>e.type==="radio",U_=e=>vm(e)||No(e),tu=e=>pc(e)&&e.isConnected;function z_(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=Ge(e)?r++:e[t[r++]];return e}function H_(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ge(e[t]))return!1;return!0}function Qe(e,t){const s=Array.isArray(t)?t:ad(t)?[t]:gm(t),r=s.length===1?e:z_(e,s),a=s.length-1,i=s[a];return r&&delete r[i],a!==0&&(tt(r)&&Tt(r)||Array.isArray(r)&&H_(r))&&Qe(e,s.slice(0,-1)),e}var W_=e=>{for(const t in e)if(Cs(e[t]))return!0;return!1};function sj(e){return Array.isArray(e)||tt(e)&&!W_(e)}function Th(e,t={}){for(const s in e){const r=e[s];sj(r)?(t[s]=Array.isArray(r)?[]:{},Th(r,t[s])):Ge(r)||(t[s]=!0)}return t}function Gn(e,t,s){s||(s=Th(t));for(const r in e){const a=e[r];if(sj(a))Ge(t)||Eh(s[r])?s[r]=Th(a,Array.isArray(a)?[]:{}):Gn(a,It(t)?{}:t[r],s[r]);else{const i=t[r];s[r]=!_r(a,i)}}return s}const _x={value:!1,isValid:!1},Ax={value:!0,isValid:!0};var rj=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ge(e[0].attributes.value)?Ge(e[0].value)||e[0].value===""?Ax:{value:e[0].value,isValid:!0}:Ax:_x}return _x},nj=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>Ge(e)?e:t?e===""?NaN:e&&+e:s&&Zt(e)?new Date(e):r?r(e):e;const Px={isValid:!1,value:null};var aj=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Px):Px;function Rx(e){const t=e.ref;return ym(t)?t.files:vm(t)?aj(e.refs).value:tj(t)?[...t.selectedOptions].map(({value:s})=>s):No(t)?rj(e.refs).value:nj(Ge(t.value)?e.ref.value:t.value,e)}var q_=(e,t,s,r)=>{const a={};for(const i of e){const o=ae(t,i);o&&Pe(a,i,o._f)}return{criteriaMode:s,names:[...e],fields:a,shouldUseNativeValidation:r}},xc=e=>e instanceof RegExp,ni=e=>Ge(e)?e:xc(e)?e.source:tt(e)?xc(e.value)?e.value.source:e.value:e,Lx=e=>({isOnSubmit:!e||e===Ns.onSubmit,isOnBlur:e===Ns.onBlur,isOnChange:e===Ns.onChange,isOnAll:e===Ns.all,isOnTouch:e===Ns.onTouched});const Dx="AsyncFunction";var G_=e=>!!e&&!!e.validate&&!!(Cs(e.validate)&&e.validate.constructor.name===Dx||tt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Dx)),Z_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ox=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const _i=(e,t,s,r)=>{for(const a of s||Object.keys(e)){const i=ae(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(_i(l,t))break}else if(tt(l)&&_i(l,t))break}}};function Mx(e,t,s){const r=ae(e,s);if(r||ad(s))return{error:r,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=ae(t,i),l=ae(e,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:s}}var K_=(e,t,s,r)=>{s(e);const{name:a,...i}=e;return Tt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||Ns.all))},Q_=(e,t,s)=>!e||!t||e===t||Ti(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),Y_=(e,t,s,r,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(t||e):(s?r.isOnBlur:a.isOnBlur)?!e:(s?r.isOnChange:a.isOnChange)?e:!0,X_=(e,t)=>!xm(ae(e,t)).length&&Qe(e,t),J_=(e,t,s)=>{const r=Ti(ae(e,s));return Pe(r,"root",t[s]),Pe(e,s,r),e};function Ix(e,t,s="validate"){if(Zt(e)||Array.isArray(e)&&e.every(Zt)||Os(e)&&!e)return{type:s,message:Zt(e)?e:"",ref:t}}var qn=e=>tt(e)&&!xc(e)?e:{value:e,message:""},Fx=async(e,t,s,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:y,validate:g,name:v,valueAsNumber:w,mount:b}=e._f,p=ae(s,v);if(!b||t.has(v))return{};const x=l?l[0]:o,j=T=>{a&&x.reportValidity&&(x.setCustomValidity(Os(T)?"":T||""),x.reportValidity())},k={},N=vm(o),S=No(o),C=N||S,L=(w||ym(o))&&Ge(o.value)&&Ge(p)||pc(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,V=J1.bind(null,v,r,k),U=(T,E,F,X=Qs.maxLength,Y=Qs.minLength)=>{const $=T?E:F;k[v]={type:T?X:Y,message:$,ref:o,...V(T?X:Y,$)}};if(i?!Array.isArray(p)||!p.length:c&&(!C&&(L||It(p))||Os(p)&&!p||S&&!rj(l).isValid||N&&!aj(l).isValid)){const{value:T,message:E}=Zt(c)?{value:!!c,message:c}:qn(c);if(T&&(k[v]={type:Qs.required,message:E,ref:x,...V(Qs.required,E)},!r))return j(E),k}if(!L&&(!It(h)||!It(f))){let T,E;const F=qn(f),X=qn(h);if(!It(p)&&!isNaN(p)){const Y=o.valueAsNumber||p&&+p;It(F.value)||(T=Y>F.value),It(X.value)||(E=Y<X.value)}else{const Y=o.valueAsDate||new Date(p),$=P=>new Date(new Date().toDateString()+" "+P),D=o.type=="time",Z=o.type=="week";Zt(F.value)&&p&&(T=D?$(p)>$(F.value):Z?p>F.value:Y>new Date(F.value)),Zt(X.value)&&p&&(E=D?$(p)<$(X.value):Z?p<X.value:Y<new Date(X.value))}if((T||E)&&(U(!!T,F.message,X.message,Qs.max,Qs.min),!r))return j(k[v].message),k}if((d||u)&&!L&&(Zt(p)||i&&Array.isArray(p))){const T=qn(d),E=qn(u),F=!It(T.value)&&p.length>+T.value,X=!It(E.value)&&p.length<+E.value;if((F||X)&&(U(F,T.message,E.message),!r))return j(k[v].message),k}if(y&&!L&&Zt(p)){const{value:T,message:E}=qn(y);if(xc(T)&&!p.match(T)&&(k[v]={type:Qs.pattern,message:E,ref:o,...V(Qs.pattern,E)},!r))return j(E),k}if(g){if(Cs(g)){const T=await g(p,s),E=Ix(T,x);if(E&&(k[v]={...E,...V(Qs.validate,E.message)},!r))return j(E.message),k}else if(tt(g)){let T={};for(const E in g){if(!Tt(T)&&!r)break;const F=Ix(await g[E](p,s),x,E);F&&(T={...F,...V(E,F.message)},j(F.message),r&&(k[v]=T))}if(!Tt(T)&&(k[v]={ref:x,...T},!r))return k}}return j(!0),k};const eA={mode:Ns.onSubmit,reValidateMode:Ns.onChange,shouldFocusError:!0};function tA(e={}){let t={...eA,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Cs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=tt(t.defaultValues)||tt(t.values)?lt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:lt(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:Tx(),state:Tx()},y=t.criteriaMode===Ns.all,g=A=>O=>{clearTimeout(d),d=setTimeout(A,O)},v=async A=>{if(!t.disabled&&(u.isValid||h.isValid||A)){const O=t.resolver?Tt((await S()).errors):await L(r,!0);O!==s.isValid&&f.state.next({isValid:O})}},w=(A,O)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((A||Array.from(l.mount)).forEach(_=>{_&&(O?Pe(s.validatingFields,_,O):Qe(s.validatingFields,_))}),f.state.next({validatingFields:s.validatingFields,isValidating:!Tt(s.validatingFields)}))},b=(A,O=[],_,B,W=!0,q=!0)=>{if(B&&_&&!t.disabled){if(o.action=!0,q&&Array.isArray(ae(r,A))){const te=_(ae(r,A),B.argA,B.argB);W&&Pe(r,A,te)}if(q&&Array.isArray(ae(s.errors,A))){const te=_(ae(s.errors,A),B.argA,B.argB);W&&Pe(s.errors,A,te),X_(s.errors,A)}if((u.touchedFields||h.touchedFields)&&q&&Array.isArray(ae(s.touchedFields,A))){const te=_(ae(s.touchedFields,A),B.argA,B.argB);W&&Pe(s.touchedFields,A,te)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=Gn(a,i)),f.state.next({name:A,isDirty:U(A,O),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Pe(i,A,O)},p=(A,O)=>{Pe(s.errors,A,O),f.state.next({errors:s.errors})},x=A=>{s.errors=A,f.state.next({errors:s.errors,isValid:!1})},j=(A,O,_,B)=>{const W=ae(r,A);if(W){const q=ae(i,A,Ge(_)?ae(a,A):_);Ge(q)||B&&B.defaultChecked||O?Pe(i,A,O?q:Rx(W._f)):F(A,q),o.mount&&!o.action&&v()}},k=(A,O,_,B,W)=>{let q=!1,te=!1;const xe={name:A};if(!t.disabled){if(!_||B){(u.isDirty||h.isDirty)&&(te=s.isDirty,s.isDirty=xe.isDirty=U(),q=te!==xe.isDirty);const Ee=_r(ae(a,A),O);te=!!ae(s.dirtyFields,A),Ee?Qe(s.dirtyFields,A):Pe(s.dirtyFields,A,!0),xe.dirtyFields=s.dirtyFields,q=q||(u.dirtyFields||h.dirtyFields)&&te!==!Ee}if(_){const Ee=ae(s.touchedFields,A);Ee||(Pe(s.touchedFields,A,_),xe.touchedFields=s.touchedFields,q=q||(u.touchedFields||h.touchedFields)&&Ee!==_)}q&&W&&f.state.next(xe)}return q?xe:{}},N=(A,O,_,B)=>{const W=ae(s.errors,A),q=(u.isValid||h.isValid)&&Os(O)&&s.isValid!==O;if(t.delayError&&_?(c=g(()=>p(A,_)),c(t.delayError)):(clearTimeout(d),c=null,_?Pe(s.errors,A,_):Qe(s.errors,A)),(_?!_r(W,_):W)||!Tt(B)||q){const te={...B,...q&&Os(O)?{isValid:O}:{},errors:s.errors,name:A};s={...s,...te},f.state.next(te)}},S=async A=>{w(A,!0);const O=await t.resolver(i,t.context,q_(A||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(A),O},C=async A=>{const{errors:O}=await S(A);if(A)for(const _ of A){const B=ae(O,_);B?Pe(s.errors,_,B):Qe(s.errors,_)}else s.errors=O;return O},L=async(A,O,_={valid:!0})=>{for(const B in A){const W=A[B];if(W){const{_f:q,...te}=W;if(q){const xe=l.array.has(q.name),Ee=W._f&&G_(W._f);Ee&&u.validatingFields&&w([q.name],!0);const St=await Fx(W,l.disabled,i,y,t.shouldUseNativeValidation&&!O,xe);if(Ee&&u.validatingFields&&w([q.name]),St[q.name]&&(_.valid=!1,O))break;!O&&(ae(St,q.name)?xe?J_(s.errors,St,q.name):Pe(s.errors,q.name,St[q.name]):Qe(s.errors,q.name))}!Tt(te)&&await L(te,O,_)}}return _.valid},V=()=>{for(const A of l.unMount){const O=ae(r,A);O&&(O._f.refs?O._f.refs.every(_=>!tu(_)):!tu(O._f.ref))&&st(A)}l.unMount=new Set},U=(A,O)=>!t.disabled&&(A&&O&&Pe(i,A,O),!_r(P(),a)),T=(A,O,_)=>B_(A,l,{...o.mount?i:Ge(O)?a:Zt(A)?{[A]:O}:O},_,O),E=A=>xm(ae(o.mount?i:a,A,t.shouldUnregister?ae(a,A,[]):[])),F=(A,O,_={})=>{const B=ae(r,A);let W=O;if(B){const q=B._f;q&&(!q.disabled&&Pe(i,A,nj(O,q)),W=pc(q.ref)&&It(O)?"":O,tj(q.ref)?[...q.ref.options].forEach(te=>te.selected=W.includes(te.value)):q.refs?No(q.ref)?q.refs.forEach(te=>{(!te.defaultChecked||!te.disabled)&&(Array.isArray(W)?te.checked=!!W.find(xe=>xe===te.value):te.checked=W===te.value||!!W)}):q.refs.forEach(te=>te.checked=te.value===W):ym(q.ref)?q.ref.value="":(q.ref.value=W,q.ref.type||f.state.next({name:A,values:lt(i)})))}(_.shouldDirty||_.shouldTouch)&&k(A,W,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&Z(A)},X=(A,O,_)=>{for(const B in O){if(!O.hasOwnProperty(B))return;const W=O[B],q=A+"."+B,te=ae(r,q);(l.array.has(A)||tt(W)||te&&!te._f)&&!jn(W)?X(q,W,_):F(q,W,_)}},Y=(A,O,_={})=>{const B=ae(r,A),W=l.array.has(A),q=lt(O);Pe(i,A,q),W?(f.array.next({name:A,values:lt(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&_.shouldDirty&&f.state.next({name:A,dirtyFields:Gn(a,i),isDirty:U(A,q)})):B&&!B._f&&!It(q)?X(A,q,_):F(A,q,_),Ox(A,l)&&f.state.next({...s,name:A}),f.state.next({name:o.mount?A:void 0,values:lt(i)})},$=async A=>{o.mount=!0;const O=A.target;let _=O.name,B=!0;const W=ae(r,_),q=Ee=>{B=Number.isNaN(Ee)||jn(Ee)&&isNaN(Ee.getTime())||_r(Ee,ae(i,_,Ee))},te=Lx(t.mode),xe=Lx(t.reValidateMode);if(W){let Ee,St;const ys=O.type?Rx(W._f):D_(A),ns=A.type===Ex.BLUR||A.type===Ex.FOCUS_OUT,ln=!Z_(W._f)&&!t.resolver&&!ae(s.errors,_)&&!W._f.deps||Y_(ns,ae(s.touchedFields,_),s.isSubmitted,xe,te),za=Ox(_,l,ns);Pe(i,_,ys),ns?(!O||!O.readOnly)&&(W._f.onBlur&&W._f.onBlur(A),c&&c(0)):W._f.onChange&&W._f.onChange(A);const Ha=k(_,ys,ns),Ej=!Tt(Ha)||za;if(!ns&&f.state.next({name:_,type:A.type,values:lt(i)}),ln)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?ns&&v():ns||v()),Ej&&f.state.next({name:_,...za?{}:Ha});if(!ns&&za&&f.state.next({...s}),t.resolver){const{errors:_m}=await S([_]);if(q(ys),B){const Tj=Mx(s.errors,r,_),Am=Mx(_m,r,Tj.name||_);Ee=Am.error,_=Am.name,St=Tt(_m)}}else w([_],!0),Ee=(await Fx(W,l.disabled,i,y,t.shouldUseNativeValidation))[_],w([_]),q(ys),B&&(Ee?St=!1:(u.isValid||h.isValid)&&(St=await L(r,!0)));B&&(W._f.deps&&(!Array.isArray(W._f.deps)||W._f.deps.length>0)&&Z(W._f.deps),N(_,St,Ee,Ha))}},D=(A,O)=>{if(ae(s.errors,O)&&A.focus)return A.focus(),1},Z=async(A,O={})=>{let _,B;const W=Ti(A);if(t.resolver){const q=await C(Ge(A)?A:W);_=Tt(q),B=A?!W.some(te=>ae(q,te)):_}else A?(B=(await Promise.all(W.map(async q=>{const te=ae(r,q);return await L(te&&te._f?{[q]:te}:te)}))).every(Boolean),!(!B&&!s.isValid)&&v()):B=_=await L(r);return f.state.next({...!Zt(A)||(u.isValid||h.isValid)&&_!==s.isValid?{}:{name:A},...t.resolver||!A?{isValid:_}:{},errors:s.errors}),O.shouldFocus&&!B&&_i(r,D,A?W:l.mount),B},P=(A,O)=>{let _={...o.mount?i:a};return O&&(_=ej(O.dirtyFields?s.dirtyFields:s.touchedFields,_)),Ge(A)?_:Zt(A)?ae(_,A):A.map(B=>ae(_,B))},z=(A,O)=>({invalid:!!ae((O||s).errors,A),isDirty:!!ae((O||s).dirtyFields,A),error:ae((O||s).errors,A),isValidating:!!ae(s.validatingFields,A),isTouched:!!ae((O||s).touchedFields,A)}),ie=A=>{A&&Ti(A).forEach(O=>Qe(s.errors,O)),f.state.next({errors:A?s.errors:{}})},Ce=(A,O,_)=>{const B=(ae(r,A,{_f:{}})._f||{}).ref,W=ae(s.errors,A)||{},{ref:q,message:te,type:xe,...Ee}=W;Pe(s.errors,A,{...Ee,...O,ref:B}),f.state.next({name:A,errors:s.errors,isValid:!1}),_&&_.shouldFocus&&B&&B.focus&&B.focus()},ve=(A,O)=>Cs(A)?f.state.subscribe({next:_=>"values"in _&&A(T(void 0,O),_)}):T(A,O,!0),qe=A=>f.state.subscribe({next:O=>{Q_(A.name,O.name,A.exact)&&K_(O,A.formState||u,ld,A.reRenderRoot)&&A.callback({values:{...i},...s,...O,defaultValues:a})}}).unsubscribe,Ve=A=>(o.mount=!0,h={...h,...A.formState},qe({...A,formState:h})),st=(A,O={})=>{for(const _ of A?Ti(A):l.mount)l.mount.delete(_),l.array.delete(_),O.keepValue||(Qe(r,_),Qe(i,_)),!O.keepError&&Qe(s.errors,_),!O.keepDirty&&Qe(s.dirtyFields,_),!O.keepTouched&&Qe(s.touchedFields,_),!O.keepIsValidating&&Qe(s.validatingFields,_),!t.shouldUnregister&&!O.keepDefaultValue&&Qe(a,_);f.state.next({values:lt(i)}),f.state.next({...s,...O.keepDirty?{isDirty:U()}:{}}),!O.keepIsValid&&v()},ee=({disabled:A,name:O})=>{(Os(A)&&o.mount||A||l.disabled.has(O))&&(A?l.disabled.add(O):l.disabled.delete(O))},me=(A,O={})=>{let _=ae(r,A);const B=Os(O.disabled)||Os(t.disabled);return Pe(r,A,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:A}},name:A,mount:!0,...O}}),l.mount.add(A),_?ee({disabled:Os(O.disabled)?O.disabled:t.disabled,name:A}):j(A,!0,O.value),{...B?{disabled:O.disabled||t.disabled}:{},...t.progressive?{required:!!O.required,min:ni(O.min),max:ni(O.max),minLength:ni(O.minLength),maxLength:ni(O.maxLength),pattern:ni(O.pattern)}:{},name:A,onChange:$,onBlur:$,ref:W=>{if(W){me(A,O),_=ae(r,A);const q=Ge(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,te=U_(q),xe=_._f.refs||[];if(te?xe.find(Ee=>Ee===q):q===_._f.ref)return;Pe(r,A,{_f:{..._._f,...te?{refs:[...xe.filter(tu),q,...Array.isArray(ae(a,A))?[{}]:[]],ref:{type:q.type,name:A}}:{ref:q}}}),j(A,!1,void 0,q)}else _=ae(r,A,{}),_._f&&(_._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(M_(l.array,A)&&o.action)&&l.unMount.add(A)}}},H=()=>t.shouldFocusError&&_i(r,D,l.mount),ne=A=>{Os(A)&&(f.state.next({disabled:A}),_i(r,(O,_)=>{const B=ae(r,_);B&&(O.disabled=B._f.disabled||A,Array.isArray(B._f.refs)&&B._f.refs.forEach(W=>{W.disabled=B._f.disabled||A}))},0,!1))},rt=(A,O)=>async _=>{let B;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let W=lt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:q,values:te}=await S();s.errors=q,W=lt(te)}else await L(r);if(l.disabled.size)for(const q of l.disabled)Qe(W,q);if(Qe(s.errors,"root"),Tt(s.errors)){f.state.next({errors:{}});try{await A(W,_)}catch(q){B=q}}else O&&await O({...s.errors},_),H(),setTimeout(H);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Tt(s.errors)&&!B,submitCount:s.submitCount+1,errors:s.errors}),B)throw B},Ct=(A,O={})=>{ae(r,A)&&(Ge(O.defaultValue)?Y(A,lt(ae(a,A))):(Y(A,O.defaultValue),Pe(a,A,lt(O.defaultValue))),O.keepTouched||Qe(s.touchedFields,A),O.keepDirty||(Qe(s.dirtyFields,A),s.isDirty=O.defaultValue?U(A,lt(ae(a,A))):U()),O.keepError||(Qe(s.errors,A),u.isValid&&v()),f.state.next({...s}))},an=(A,O={})=>{const _=A?lt(A):a,B=lt(_),W=Tt(A),q=W?a:B;if(O.keepDefaultValues||(a=_),!O.keepValues){if(O.keepDirtyValues){const te=new Set([...l.mount,...Object.keys(Gn(a,i))]);for(const xe of Array.from(te))ae(s.dirtyFields,xe)?Pe(q,xe,ae(i,xe)):Y(xe,ae(q,xe))}else{if(pm&&Ge(A))for(const te of l.mount){const xe=ae(r,te);if(xe&&xe._f){const Ee=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(pc(Ee)){const St=Ee.closest("form");if(St){St.reset();break}}}}if(O.keepFieldsRef)for(const te of l.mount)Y(te,ae(q,te));else r={}}i=t.shouldUnregister?O.keepDefaultValues?lt(a):{}:lt(q),f.array.next({values:{...q}}),f.state.next({values:{...q}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!O.keepIsValid||!!O.keepDirtyValues||!t.shouldUnregister&&!Tt(q),o.watch=!!t.shouldUnregister,f.state.next({submitCount:O.keepSubmitCount?s.submitCount:0,isDirty:W?!1:O.keepDirty?s.isDirty:!!(O.keepDefaultValues&&!_r(A,a)),isSubmitted:O.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:W?{}:O.keepDirtyValues?O.keepDefaultValues&&i?Gn(a,i):s.dirtyFields:O.keepDefaultValues&&A?Gn(a,A):O.keepDirty?s.dirtyFields:{},touchedFields:O.keepTouched?s.touchedFields:{},errors:O.keepErrors?s.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},yr=(A,O)=>an(Cs(A)?A(i):A,O),on=(A,O={})=>{const _=ae(r,A),B=_&&_._f;if(B){const W=B.refs?B.refs[0]:B.ref;W.focus&&(W.focus(),O.shouldSelect&&Cs(W.select)&&W.select())}},ld=A=>{s={...s,...A}},_o={control:{register:me,unregister:st,getFieldState:z,handleSubmit:rt,setError:Ce,_subscribe:qe,_runSchema:S,_focusError:H,_getWatch:T,_getDirty:U,_setValid:v,_setFieldArray:b,_setDisabledField:ee,_setErrors:x,_getFieldArray:E,_reset:an,_resetDefaultValues:()=>Cs(t.defaultValues)&&t.defaultValues().then(A=>{yr(A,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:ne,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(A){o=A},get _defaultValues(){return a},get _names(){return l},set _names(A){l=A},get _formState(){return s},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:Ve,trigger:Z,register:me,handleSubmit:rt,watch:ve,setValue:Y,getValues:P,reset:yr,resetField:Ct,clearErrors:ie,unregister:st,setError:Ce,setFocus:on,getFieldState:z};return{..._o,formControl:_o}}function Co(e={}){const t=nt.useRef(void 0),s=nt.useRef(void 0),[r,a]=nt.useState({isDirty:!1,isValidating:!1,isLoading:Cs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Cs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Cs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=tA(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,$_(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),nt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),nt.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),nt.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),nt.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),nt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),nt.useEffect(()=>{var o;e.values&&!_r(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),s.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),nt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=V_(r,i),t.current}const Vx=(e,t,s)=>{if(e&&"reportValidity"in e){const r=ae(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},ij=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?Vx(r.ref,s,e):r.refs&&r.refs.forEach(a=>Vx(a,s,e))}},sA=(e,t)=>{t.shouldUseNativeValidation&&ij(e,t);const s={};for(const r in e){const a=ae(t.fields,r),i=Object.assign(e[r]||{},{ref:a&&a.ref});if(rA(t.names||Object.keys(e),r)){const o=Object.assign({},ae(s,r));Pe(o,"root",i),Pe(s,r,o)}else Pe(s,r,i)}return s},rA=(e,t)=>e.some(s=>s.startsWith(t+"."));var nA=function(e,t){for(var s={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=s[o].types,d=c&&c[r.code];s[o]=J1(o,t,s,a,d?[].concat(d,r.message):r.message)}e.shift()}return s},So=function(e,t,s){return s===void 0&&(s={}),function(r,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return i.shouldUseNativeValidation&&ij({},i),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:sA(nA(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Se;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function s(a){throw new Error}e.assertNever=s,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Se||(Se={}));var $x;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})($x||($x={}));const oe=Se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cr=e=>{switch(typeof e){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return Number.isNaN(e)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(e)?oe.array:e===null?oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?oe.promise:typeof Map<"u"&&e instanceof Map?oe.map:typeof Set<"u"&&e instanceof Set?oe.set:typeof Date<"u"&&e instanceof Date?oe.date:oe.object;default:return oe.unknown}},J=Se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class mr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),r}static assert(t){if(!(t instanceof mr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];s[i]=s[i]||[],s[i].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}mr.create=e=>new mr(e);const _h=(e,t)=>{let s;switch(e.code){case J.invalid_type:e.received===oe.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case J.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,Se.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:s=`Unrecognized key(s) in object: ${Se.joinValues(e.keys,", ")}`;break;case J.invalid_union:s="Invalid input";break;case J.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Se.joinValues(e.options)}`;break;case J.invalid_enum_value:s=`Invalid enum value. Expected ${Se.joinValues(e.options)}, received '${e.received}'`;break;case J.invalid_arguments:s="Invalid function arguments";break;case J.invalid_return_type:s="Invalid function return type";break;case J.invalid_date:s="Invalid date";break;case J.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:Se.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case J.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case J.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case J.custom:s="Invalid input";break;case J.invalid_intersection_types:s="Intersection results could not be merged";break;case J.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case J.not_finite:s="Number must be finite";break;default:s=t.defaultError,Se.assertNever(e)}return{message:s}};let aA=_h;function iA(){return aA}const oA=e=>{const{data:t,path:s,errorMaps:r,issueData:a}=e,i=[...s,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function se(e,t){const s=iA(),r=oA({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===_h?void 0:_h].filter(a=>!!a)});e.common.issues.push(r)}class es{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const a of s){if(a.status==="aborted")return ue;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const a of s){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return es.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const a of s){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ue;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const ue=Object.freeze({status:"aborted"}),fi=e=>({status:"dirty",value:e}),gs=e=>({status:"valid",value:e}),Bx=e=>e.status==="aborted",Ux=e=>e.status==="dirty",Aa=e=>e.status==="valid",gc=e=>typeof Promise<"u"&&e instanceof Promise;var le;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(le||(le={}));class Xr{constructor(t,s,r,a){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zx=(e,t)=>{if(Aa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new mr(e.common.issues);return this._error=s,this._error}}};function pe(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:a}=e;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:a}}class Ne{get description(){return this._def.description}_getType(t){return Cr(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:Cr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new es,ctx:{common:t.parent.common,data:t.data,parsedType:Cr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(gc(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cr(t)},a=this._parseSync({data:t,path:r.path,parent:r});return zx(r,a)}"~validate"(t){var r,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cr(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Aa(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Aa(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cr(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(gc(a)?a:Promise.resolve(a));return zx(r,i)}refine(t,s){const r=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:J.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof s=="function"?s(r,a):s),!1))}_refinement(t){return new Ra({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Wr.create(this,this._def)}nullable(){return La.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return jc.create(this,this._def)}or(t){return vc.create([this,t],this._def)}and(t){return bc.create(this,t,this._def)}transform(t){return new Ra({...pe(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Ph({...pe(this._def),innerType:this,defaultValue:s,typeName:he.ZodDefault})}brand(){return new AA({typeName:he.ZodBranded,type:this,...pe(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new Rh({...pe(this._def),innerType:this,catchValue:s,typeName:he.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return bm.create(this,t)}readonly(){return Lh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lA=/^c[^\s-]{8,}$/i,cA=/^[0-9a-z]+$/,dA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hA=/^[a-z0-9_-]{21}$/i,fA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let su;const gA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kA=new RegExp(`^${oj}$`);function lj(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function NA(e){return new RegExp(`^${lj(e)}$`)}function CA(e){let t=`${oj}T${lj(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function SA(e,t){return!!((t==="v4"||!t)&&gA.test(e)||(t==="v6"||!t)&&vA.test(e))}function EA(e,t){if(!fA.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function TA(e,t){return!!((t==="v4"||!t)&&yA.test(e)||(t==="v6"||!t)&&bA.test(e))}class Lr extends Ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==oe.string){const i=this._getOrReturnCtx(t);return se(i,{code:J.invalid_type,expected:oe.string,received:i.parsedType}),ue}const r=new es;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?se(a,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&se(a,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")pA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")su||(su=new RegExp(xA,"u")),su.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")uA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")hA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")lA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")cA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")dA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),se(a,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),se(a,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),se(a,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),se(a,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?CA(i).test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?kA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?NA(i).test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?mA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?SA(t.data,i.version)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?EA(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"jwt",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?TA(t.data,i.version)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"cidr",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?jA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?wA.test(t.data)||(a=this._getOrReturnCtx(t,a),se(a,{validation:"base64url",code:J.invalid_string,message:i.message}),r.dirty()):Se.assertNever(i);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(a=>t.test(a),{validation:s,code:J.invalid_string,...le.errToObj(r)})}_addCheck(t){return new Lr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...le.errToObj(t)})}url(t){return this._addCheck({kind:"url",...le.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...le.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...le.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...le.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...le.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...le.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...le.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...le.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...le.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...le.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...le.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...le.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...le.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...le.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...le.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...le.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...le.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...le.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...le.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...le.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...le.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...le.errToObj(s)})}nonempty(t){return this.min(1,le.errToObj(t))}trim(){return new Lr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Lr.create=e=>new Lr({checks:[],typeName:he.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...pe(e)});function _A(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=s>r?s:r,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class eo extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==oe.number){const i=this._getOrReturnCtx(t);return se(i,{code:J.invalid_type,expected:oe.number,received:i.parsedType}),ue}let r;const a=new es;for(const i of this._def.checks)i.kind==="int"?Se.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),se(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?_A(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),se(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),se(r,{code:J.not_finite,message:i.message}),a.dirty()):Se.assertNever(i);return{status:a.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,le.toString(s))}gt(t,s){return this.setLimit("min",t,!1,le.toString(s))}lte(t,s){return this.setLimit("max",t,!0,le.toString(s))}lt(t,s){return this.setLimit("max",t,!1,le.toString(s))}setLimit(t,s,r,a){return new eo({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:le.toString(a)}]})}_addCheck(t){return new eo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:le.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:le.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:le.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Se.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}eo.create=e=>new eo({checks:[],typeName:he.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pe(e)});class to extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==oe.bigint)return this._getInvalidInput(t);let r;const a=new es;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),se(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Se.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return se(s,{code:J.invalid_type,expected:oe.bigint,received:s.parsedType}),ue}gte(t,s){return this.setLimit("min",t,!0,le.toString(s))}gt(t,s){return this.setLimit("min",t,!1,le.toString(s))}lte(t,s){return this.setLimit("max",t,!0,le.toString(s))}lt(t,s){return this.setLimit("max",t,!1,le.toString(s))}setLimit(t,s,r,a){return new to({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:le.toString(a)}]})}_addCheck(t){return new to({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:le.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}to.create=e=>new to({checks:[],typeName:he.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...pe(e)});class Hx extends Ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==oe.boolean){const r=this._getOrReturnCtx(t);return se(r,{code:J.invalid_type,expected:oe.boolean,received:r.parsedType}),ue}return gs(t.data)}}Hx.create=e=>new Hx({typeName:he.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pe(e)});class yc extends Ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==oe.date){const i=this._getOrReturnCtx(t);return se(i,{code:J.invalid_type,expected:oe.date,received:i.parsedType}),ue}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return se(i,{code:J.invalid_date}),ue}const r=new es;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),se(a,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Se.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yc({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:le.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:le.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}yc.create=e=>new yc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:he.ZodDate,...pe(e)});class Wx extends Ne{_parse(t){if(this._getType(t)!==oe.symbol){const r=this._getOrReturnCtx(t);return se(r,{code:J.invalid_type,expected:oe.symbol,received:r.parsedType}),ue}return gs(t.data)}}Wx.create=e=>new Wx({typeName:he.ZodSymbol,...pe(e)});class qx extends Ne{_parse(t){if(this._getType(t)!==oe.undefined){const r=this._getOrReturnCtx(t);return se(r,{code:J.invalid_type,expected:oe.undefined,received:r.parsedType}),ue}return gs(t.data)}}qx.create=e=>new qx({typeName:he.ZodUndefined,...pe(e)});class Gx extends Ne{_parse(t){if(this._getType(t)!==oe.null){const r=this._getOrReturnCtx(t);return se(r,{code:J.invalid_type,expected:oe.null,received:r.parsedType}),ue}return gs(t.data)}}Gx.create=e=>new Gx({typeName:he.ZodNull,...pe(e)});class Zx extends Ne{constructor(){super(...arguments),this._any=!0}_parse(t){return gs(t.data)}}Zx.create=e=>new Zx({typeName:he.ZodAny,...pe(e)});class Kx extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return gs(t.data)}}Kx.create=e=>new Kx({typeName:he.ZodUnknown,...pe(e)});class Jr extends Ne{_parse(t){const s=this._getOrReturnCtx(t);return se(s,{code:J.invalid_type,expected:oe.never,received:s.parsedType}),ue}}Jr.create=e=>new Jr({typeName:he.ZodNever,...pe(e)});class Qx extends Ne{_parse(t){if(this._getType(t)!==oe.undefined){const r=this._getOrReturnCtx(t);return se(r,{code:J.invalid_type,expected:oe.void,received:r.parsedType}),ue}return gs(t.data)}}Qx.create=e=>new Qx({typeName:he.ZodVoid,...pe(e)});class Us extends Ne{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),a=this._def;if(s.parsedType!==oe.array)return se(s,{code:J.invalid_type,expected:oe.array,received:s.parsedType}),ue;if(a.exactLength!==null){const o=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(o||l)&&(se(s,{code:o?J.too_big:J.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(se(s,{code:J.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(se(s,{code:J.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>a.type._parseAsync(new Xr(s,o,s.path,l)))).then(o=>es.mergeArray(r,o));const i=[...s.data].map((o,l)=>a.type._parseSync(new Xr(s,o,s.path,l)));return es.mergeArray(r,i)}get element(){return this._def.type}min(t,s){return new Us({...this._def,minLength:{value:t,message:le.toString(s)}})}max(t,s){return new Us({...this._def,maxLength:{value:t,message:le.toString(s)}})}length(t,s){return new Us({...this._def,exactLength:{value:t,message:le.toString(s)}})}nonempty(t){return this.min(1,t)}}Us.create=(e,t)=>new Us({type:e,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...pe(t)});function Zn(e){if(e instanceof Xe){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=Wr.create(Zn(r))}return new Xe({...e._def,shape:()=>t})}else return e instanceof Us?new Us({...e._def,type:Zn(e.element)}):e instanceof Wr?Wr.create(Zn(e.unwrap())):e instanceof La?La.create(Zn(e.unwrap())):e instanceof In?In.create(e.items.map(t=>Zn(t))):e}class Xe extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=Se.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==oe.object){const d=this._getOrReturnCtx(t);return se(d,{code:J.invalid_type,expected:oe.object,received:d.parsedType}),ue}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Jr&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Xr(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Jr){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(se(a,{code:J.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Xr(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>es.mergeObjectSync(r,d)):es.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return le.errToObj,new Xe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:le.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Xe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Xe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:he.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new Xe({...this._def,catchall:t})}pick(t){const s={};for(const r of Se.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Xe({...this._def,shape:()=>s})}omit(t){const s={};for(const r of Se.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new Xe({...this._def,shape:()=>s})}deepPartial(){return Zn(this)}partial(t){const s={};for(const r of Se.objectKeys(this.shape)){const a=this.shape[r];t&&!t[r]?s[r]=a:s[r]=a.optional()}return new Xe({...this._def,shape:()=>s})}required(t){const s={};for(const r of Se.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Wr;)i=i._def.innerType;s[r]=i}return new Xe({...this._def,shape:()=>s})}keyof(){return cj(Se.objectKeys(this.shape))}}Xe.create=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strip",catchall:Jr.create(),typeName:he.ZodObject,...pe(t)});Xe.strictCreate=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strict",catchall:Jr.create(),typeName:he.ZodObject,...pe(t)});Xe.lazycreate=(e,t)=>new Xe({shape:e,unknownKeys:"strip",catchall:Jr.create(),typeName:he.ZodObject,...pe(t)});class vc extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new mr(l.ctx.common.issues));return se(s,{code:J.invalid_union,unionErrors:o}),ue}if(s.common.async)return Promise.all(r.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new mr(c));return se(s,{code:J.invalid_union,unionErrors:l}),ue}}get options(){return this._def.options}}vc.create=(e,t)=>new vc({options:e,typeName:he.ZodUnion,...pe(t)});function Ah(e,t){const s=Cr(e),r=Cr(t);if(e===t)return{valid:!0,data:e};if(s===oe.object&&r===oe.object){const a=Se.objectKeys(t),i=Se.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Ah(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===oe.array&&r===oe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Ah(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===oe.date&&r===oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class bc extends Ne{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(Bx(i)||Bx(o))return ue;const l=Ah(i.value,o.value);return l.valid?((Ux(i)||Ux(o))&&s.dirty(),{status:s.value,value:l.data}):(se(r,{code:J.invalid_intersection_types}),ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bc.create=(e,t,s)=>new bc({left:e,right:t,typeName:he.ZodIntersection,...pe(s)});class In extends Ne{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.array)return se(r,{code:J.invalid_type,expected:oe.array,received:r.parsedType}),ue;if(r.data.length<this._def.items.length)return se(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ue;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Xr(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>es.mergeArray(s,o)):es.mergeArray(s,i)}get items(){return this._def.items}rest(t){return new In({...this._def,rest:t})}}In.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new In({items:e,typeName:he.ZodTuple,rest:null,...pe(t)})};class Yx extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.map)return se(r,{code:J.invalid_type,expected:oe.map,received:r.parsedType}),ue;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:a._parse(new Xr(r,l,r.path,[d,"key"])),value:i._parse(new Xr(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ue;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ue;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}Yx.create=(e,t,s)=>new Yx({valueType:t,keyType:e,typeName:he.ZodMap,...pe(s)});class so extends Ne{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.set)return se(r,{code:J.invalid_type,expected:oe.set,received:r.parsedType}),ue;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(se(r,{code:J.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(se(r,{code:J.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ue;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new Xr(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new so({...this._def,minSize:{value:t,message:le.toString(s)}})}max(t,s){return new so({...this._def,maxSize:{value:t,message:le.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}so.create=(e,t)=>new so({valueType:e,minSize:null,maxSize:null,typeName:he.ZodSet,...pe(t)});class Xx extends Ne{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Xx.create=(e,t)=>new Xx({getter:e,typeName:he.ZodLazy,...pe(t)});class Jx extends Ne{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return se(s,{received:s.data,code:J.invalid_literal,expected:this._def.value}),ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}Jx.create=(e,t)=>new Jx({value:e,typeName:he.ZodLiteral,...pe(t)});function cj(e,t){return new Pa({values:e,typeName:he.ZodEnum,...pe(t)})}class Pa extends Ne{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return se(s,{expected:Se.joinValues(r),received:s.parsedType,code:J.invalid_type}),ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return se(s,{received:s.data,code:J.invalid_enum_value,options:r}),ue}return gs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Pa.create(t,{...this._def,...s})}exclude(t,s=this._def){return Pa.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}Pa.create=cj;class eg extends Ne{_parse(t){const s=Se.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const a=Se.objectValues(s);return se(r,{expected:Se.joinValues(a),received:r.parsedType,code:J.invalid_type}),ue}if(this._cache||(this._cache=new Set(Se.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Se.objectValues(s);return se(r,{received:r.data,code:J.invalid_enum_value,options:a}),ue}return gs(t.data)}get enum(){return this._def.values}}eg.create=(e,t)=>new eg({values:e,typeName:he.ZodNativeEnum,...pe(t)});class jc extends Ne{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==oe.promise&&s.common.async===!1)return se(s,{code:J.invalid_type,expected:oe.promise,received:s.parsedType}),ue;const r=s.parsedType===oe.promise?s.data:Promise.resolve(s.data);return gs(r.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}jc.create=(e,t)=>new jc({type:e,typeName:he.ZodPromise,...pe(t)});class Ra extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{se(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return ue;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ue:c.status==="dirty"||s.value==="dirty"?fi(c.value):c});{if(s.value==="aborted")return ue;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?ue:l.status==="dirty"||s.value==="dirty"?fi(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ue:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ue:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Aa(o))return ue;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Aa(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:s.value,value:l})):ue);Se.assertNever(a)}}Ra.create=(e,t,s)=>new Ra({schema:e,typeName:he.ZodEffects,effect:t,...pe(s)});Ra.createWithPreprocess=(e,t,s)=>new Ra({schema:t,effect:{type:"preprocess",transform:e},typeName:he.ZodEffects,...pe(s)});class Wr extends Ne{_parse(t){return this._getType(t)===oe.undefined?gs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wr.create=(e,t)=>new Wr({innerType:e,typeName:he.ZodOptional,...pe(t)});class La extends Ne{_parse(t){return this._getType(t)===oe.null?gs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}La.create=(e,t)=>new La({innerType:e,typeName:he.ZodNullable,...pe(t)});class Ph extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ph.create=(e,t)=>new Ph({innerType:e,typeName:he.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pe(t)});class Rh extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mr(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Rh.create=(e,t)=>new Rh({innerType:e,typeName:he.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pe(t)});class tg extends Ne{_parse(t){if(this._getType(t)!==oe.nan){const r=this._getOrReturnCtx(t);return se(r,{code:J.invalid_type,expected:oe.nan,received:r.parsedType}),ue}return{status:"valid",value:t.data}}}tg.create=e=>new tg({typeName:he.ZodNaN,...pe(e)});class AA extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class bm extends Ne{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ue:i.status==="dirty"?(s.dirty(),fi(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ue:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,s){return new bm({in:t,out:s,typeName:he.ZodPipeline})}}class Lh extends Ne{_parse(t){const s=this._def.innerType._parse(t),r=a=>(Aa(a)&&(a.value=Object.freeze(a.value)),a);return gc(s)?s.then(a=>r(a)):r(s)}unwrap(){return this._def.innerType}}Lh.create=(e,t)=>new Lh({innerType:e,typeName:he.ZodReadonly,...pe(t)});var he;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(he||(he={}));const Qt=Lr.create;Jr.create;Us.create;const Eo=Xe.create;vc.create;bc.create;In.create;Pa.create;jc.create;Wr.create;La.create;const dj=({onSuccess:e,onError:t,text:s="signin_with"})=>n.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"w-full flex justify-center",children:n.jsx(sC,{onSuccess:e,onError:t,text:s,shape:"rectangular",theme:"outline",size:"large",width:"100%",logo_alignment:"left"})}),PA=Eo({email:Qt().email("Please enter a valid email").max(255,"Email must be less than 255 characters"),password:Qt().min(1,"Password is required").max(100,"Password must be less than 100 characters")}),RA=()=>{const{login:e,googleSignIn:t}=Nt(),[s,r]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(!1),c=async g=>{l(!0);try{await t(g.credential)}finally{l(!1)}},d=()=>{console.error("Google sign-in failed")},{register:u,handleSubmit:h,formState:{errors:f}}=Co({resolver:So(PA)}),y=async g=>{i(!0);try{await e(g.email,g.password)}finally{i(!1)}};return n.jsxs("div",{children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome Back"}),n.jsx("p",{className:"text-dark-500",children:"Sign in to continue to your dashboard"})]}),n.jsxs("form",{onSubmit:h(y),className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{id:"email",type:"email",...u("email"),placeholder:"Enter your email",maxLength:255,className:`input pl-12 ${f.email?"input-error":""}`})]}),f.email&&n.jsx(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1",children:f.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{id:"password",type:s?"text":"password",...u("password"),placeholder:"Enter your password",maxLength:100,className:`input pl-12 pr-12 ${f.password?"input-error":""}`}),n.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 hover:text-dark-600",children:s?n.jsx(mc,{className:"w-5 h-5"}):n.jsx(Hs,{className:"w-5 h-5"})})]}),f.password&&n.jsx(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1",children:f.password.message})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-dark-300 text-primary-500 focus:ring-primary-500"}),n.jsx("span",{className:"text-sm text-dark-600 dark:text-dark-400",children:"Remember me"})]}),n.jsx(je,{to:"/forgot-password",className:"text-sm text-primary-500 hover:text-primary-600",children:"Forgot password?"})]}),n.jsx("button",{type:"submit",disabled:a||o,className:"btn btn-primary w-full py-3",children:a?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-dark-200 dark:border-dark-700"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white dark:bg-dark-800 text-dark-500",children:"Or continue with"})})]}),n.jsxs("div",{className:"relative",children:[o&&n.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-dark-800/50 flex items-center justify-center rounded-lg z-10",children:n.jsx(we,{className:"w-6 h-6 animate-spin text-primary-500"})}),n.jsx(dj,{onSuccess:c,onError:d,text:"signin_with"})]}),n.jsxs("p",{className:"text-center mt-8 text-dark-500",children:["Don't have an account?"," ",n.jsx(je,{to:"/signup",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Create Account"})]})]})},LA=Eo({name:Qt().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),email:Qt().email("Please enter a valid email").max(255,"Email must be less than 255 characters"),password:Qt().min(8,"Password must be at least 8 characters").max(100,"Password must be less than 100 characters").regex(/(?=.*[a-z])/,"Password must contain a lowercase letter").regex(/(?=.*[A-Z])/,"Password must contain an uppercase letter").regex(/(?=.*\d)/,"Password must contain a number"),confirmPassword:Qt()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),DA=()=>{const{signup:e,googleSignIn:t}=Nt(),[s,r]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),u=async w=>{d(!0);try{await t(w.credential)}finally{d(!1)}},h=()=>{console.error("Google sign-up failed")},{register:f,handleSubmit:y,formState:{errors:g}}=Co({resolver:So(LA)}),v=async w=>{l(!0);try{await e(w.name,w.email,w.password,w.confirmPassword)}finally{l(!1)}};return n.jsxs("div",{children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Account"}),n.jsx("p",{className:"text-dark-500",children:"Get started with your free account"})]}),n.jsxs("form",{onSubmit:y(v),className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"label",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(hr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{id:"name",type:"text",...f("name"),placeholder:"Enter your name",maxLength:100,className:`input pl-12 ${g.name?"input-error":""}`})]}),g.name&&n.jsx(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1",children:g.name.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{id:"email",type:"email",...f("email"),placeholder:"Enter your email",maxLength:255,className:`input pl-12 ${g.email?"input-error":""}`})]}),g.email&&n.jsx(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1",children:g.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{id:"password",type:s?"text":"password",...f("password"),placeholder:"Create a password",maxLength:100,className:`input pl-12 pr-12 ${g.password?"input-error":""}`}),n.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 hover:text-dark-600",children:s?n.jsx(mc,{className:"w-5 h-5"}):n.jsx(Hs,{className:"w-5 h-5"})})]}),g.password&&n.jsx(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1",children:g.password.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{id:"confirmPassword",type:a?"text":"password",...f("confirmPassword"),placeholder:"Confirm your password",maxLength:100,className:`input pl-12 pr-12 ${g.confirmPassword?"input-error":""}`}),n.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-dark-400 hover:text-dark-600",children:a?n.jsx(mc,{className:"w-5 h-5"}):n.jsx(Hs,{className:"w-5 h-5"})})]}),g.confirmPassword&&n.jsx(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1",children:g.confirmPassword.message})]}),n.jsx("button",{type:"submit",disabled:o||c,className:"btn btn-primary w-full py-3",children:o?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-5 h-5 animate-spin"}),"Creating account..."]}):"Create Account"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-dark-200 dark:border-dark-700"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white dark:bg-dark-800 text-dark-500",children:"Or continue with"})})]}),n.jsxs("div",{className:"relative",children:[c&&n.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-dark-800/50 flex items-center justify-center rounded-lg z-10",children:n.jsx(we,{className:"w-6 h-6 animate-spin text-primary-500"})}),n.jsx(dj,{onSuccess:u,onError:h,text:"signup_with"})]}),n.jsxs("p",{className:"text-center mt-8 text-dark-500",children:["Already have an account?"," ",n.jsx(je,{to:"/login",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign In"})]})]})},OA=Eo({email:Qt().email("Please enter a valid email")}),MA=()=>{const[e,t]=m.useState(!1),[s,r]=m.useState(!1),{register:a,handleSubmit:i,formState:{errors:o}}=Co({resolver:So(OA)}),l=async c=>{t(!0);try{await new Promise(d=>setTimeout(d,1500)),r(!0),M.success("If an account exists, you will receive a password reset email.")}catch{M.error("Something went wrong. Please try again.")}finally{t(!1)}};return s?n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(_s,{className:"w-8 h-8 text-green-500"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Check Your Email"}),n.jsx("p",{className:"text-dark-500 mb-8",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions."}),n.jsxs(je,{to:"/login",className:"btn btn-primary",children:[n.jsx(hc,{className:"w-5 h-5"}),"Back to Login"]})]}):n.jsxs("div",{children:[n.jsxs(je,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-dark-500 hover:text-dark-700 dark:hover:text-dark-300 mb-8",children:[n.jsx(hc,{className:"w-4 h-4"}),"Back to Login"]}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Forgot Password?"}),n.jsx("p",{className:"text-dark-500",children:"Enter your email and we'll send you a reset link"})]}),n.jsxs("form",{onSubmit:i(l),className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{id:"email",type:"email",...a("email"),placeholder:"Enter your email",className:`input pl-12 ${o.email?"input-error":""}`})]}),o.email&&n.jsx(R.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1",children:o.email.message})]}),n.jsx("button",{type:"submit",disabled:e,className:"btn btn-primary w-full py-3",children:e?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})]})},IA=Eo({name:Qt().min(2,"Company name must be at least 2 characters"),industry:Qt().optional(),size:Qt().optional()}),FA=()=>{var U;const{user:e,logout:t,companies:s}=Nt(),{switchCompany:r,createCompany:a,searchCompanies:i,joinCompany:o}=rs(),{theme:l,toggleTheme:c}=yo();xs();const[d,u]=m.useState(s.length>0?"select":"choose"),[h,f]=m.useState(""),[y,g]=m.useState([]),[v,w]=m.useState(!1),[b,p]=m.useState(!1),{register:x,handleSubmit:j,formState:{errors:k}}=Co({resolver:So(IA)}),N=async T=>{if(f(T),T.length<2){g([]);return}w(!0);try{const E=await i(T);g(E)}finally{w(!1)}},S=async T=>{p(!0);try{await a(T)}finally{p(!1)}},C=async T=>{p(!0);try{await o(T)}finally{p(!1)}},L=T=>{r(T.id,T.role)},V=T=>{switch(T){case"ADMIN":return"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400";case"STAFF":return"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400";case"CUSTOMER":return"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}};return n.jsxs("div",{className:"min-h-screen bg-dark-50 dark:bg-dark-950",children:[n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-dark-900/80 backdrop-blur-xl border-b border-dark-200 dark:border-dark-800",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:n.jsx(Yr,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold",children:"NexusCRM"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:c,className:"p-2.5 rounded-xl hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",children:l==="dark"?n.jsx(ko,{className:"w-5 h-5 text-amber-500"}):n.jsx(bo,{className:"w-5 h-5 text-primary-500"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"avatar avatar-md",children:((U=e==null?void 0:e.name)==null?void 0:U.charAt(0))||"U"}),n.jsx("span",{className:"text-sm font-medium hidden sm:block",children:e==null?void 0:e.name})]}),n.jsx("button",{onClick:t,className:"p-2.5 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 transition-colors",children:n.jsx(nd,{className:"w-5 h-5"})})]})]})})}),n.jsx("main",{className:"pt-24 pb-12 px-4",children:n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs(De,{mode:"wait",children:[d==="select"&&s.length>0&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Select Workspace"}),n.jsx("p",{className:"text-dark-500",children:"Choose a company to continue"})]}),n.jsx("div",{className:"card p-2 space-y-2 mb-6",children:s.map(T=>n.jsxs("button",{onClick:()=>L(T),className:"w-full flex items-center gap-4 p-4 rounded-xl hover:bg-dark-50 dark:hover:bg-dark-800 transition-colors text-left",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white font-bold text-lg",children:T.name.charAt(0)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold",children:T.name}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${V(T.role)}`,children:T.role})]}),n.jsx(Sn,{className:"w-5 h-5 text-dark-400"})]},`${T.id}-${T.role}`))}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsxs("button",{onClick:()=>u("create"),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Create Company"]}),n.jsxs("button",{onClick:()=>u("join"),className:"btn btn-secondary",children:[n.jsx(fr,{className:"w-5 h-5"}),"Join Company"]})]})]},"select"),d==="choose"&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome, ",e==null?void 0:e.name,"!"]}),n.jsx("p",{className:"text-dark-500",children:"How would you like to get started?"})]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>u("create"),className:"card p-6 text-left hover:shadow-lg hover:border-primary-500 transition-all group",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(Dn,{className:"w-7 h-7 text-white"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Create Company"}),n.jsx("p",{className:"text-dark-500 text-sm",children:"Start your own company and become the admin"})]}),n.jsxs("button",{onClick:()=>u("join"),className:"card p-6 text-left hover:shadow-lg hover:border-primary-500 transition-all group",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:n.jsx(fr,{className:"w-7 h-7 text-white"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Join as Customer"}),n.jsx("p",{className:"text-dark-500 text-sm",children:"Join an existing company as a customer"})]})]})]},"choose"),d==="create"&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[n.jsx("button",{onClick:()=>u(s.length>0?"select":"choose"),className:"text-sm text-dark-500 hover:text-dark-700 dark:hover:text-dark-300 mb-6 flex items-center gap-2",children:" Back"}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Your Company"}),n.jsx("p",{className:"text-dark-500",children:"Set up your workspace and become an admin"})]}),n.jsxs("form",{onSubmit:j(S),className:"card p-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Company Name *"}),n.jsx("input",{type:"text",...x("name"),placeholder:"Enter company name",className:`input ${k.name?"input-error":""}`}),k.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Industry"}),n.jsxs("select",{...x("industry"),className:"input",children:[n.jsx("option",{value:"",children:"Select industry"}),n.jsx("option",{value:"Technology",children:"Technology"}),n.jsx("option",{value:"Finance",children:"Finance"}),n.jsx("option",{value:"Healthcare",children:"Healthcare"}),n.jsx("option",{value:"Education",children:"Education"}),n.jsx("option",{value:"Retail",children:"Retail"}),n.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),n.jsx("option",{value:"Services",children:"Services"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Company Size"}),n.jsxs("select",{...x("size"),className:"input",children:[n.jsx("option",{value:"",children:"Select size"}),n.jsx("option",{value:"1-10",children:"1-10 employees"}),n.jsx("option",{value:"11-50",children:"11-50 employees"}),n.jsx("option",{value:"51-200",children:"51-200 employees"}),n.jsx("option",{value:"201-500",children:"201-500 employees"}),n.jsx("option",{value:"501-1000",children:"501-1000 employees"}),n.jsx("option",{value:"1000+",children:"1000+ employees"})]})]}),n.jsx("button",{type:"submit",disabled:b,className:"btn btn-primary w-full py-3",children:b?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:["Create Company",n.jsx(Sn,{className:"w-5 h-5"})]})})]})]},"create"),d==="join"&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[n.jsx("button",{onClick:()=>u(s.length>0?"select":"choose"),className:"text-sm text-dark-500 hover:text-dark-700 dark:hover:text-dark-300 mb-6 flex items-center gap-2",children:" Back"}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Join a Company"}),n.jsx("p",{className:"text-dark-500",children:"Search and join an existing company as a customer"})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",value:h,onChange:T=>N(T.target.value),placeholder:"Search companies...",className:"input pl-12"})]}),v&&n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(we,{className:"w-6 h-6 animate-spin text-primary-500"})}),!v&&y.length>0&&n.jsx("div",{className:"space-y-2",children:y.map(T=>n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-dark-50 dark:bg-dark-800",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white font-bold text-lg",children:T.name.charAt(0)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold",children:T.name}),T.industry&&n.jsx("p",{className:"text-sm text-dark-500",children:T.industry})]}),n.jsx("button",{onClick:()=>C(T.id),disabled:b,className:"btn btn-primary btn-sm",children:b?n.jsx(we,{className:"w-4 h-4 animate-spin"}):"Join"})]},T.id))}),!v&&h.length>=2&&y.length===0&&n.jsxs("div",{className:"text-center py-8 text-dark-500",children:['No companies found matching "',h,'"']}),!v&&h.length<2&&n.jsx("div",{className:"text-center py-8 text-dark-500",children:"Enter at least 2 characters to search"})]})]},"join")]})})})]})},Gs=Object.create(null);Gs.open="0";Gs.close="1";Gs.ping="2";Gs.pong="3";Gs.message="4";Gs.upgrade="5";Gs.noop="6";const Cl=Object.create(null);Object.keys(Gs).forEach(e=>{Cl[Gs[e]]=e});const Dh={type:"error",data:"parser error"},uj=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hj=typeof ArrayBuffer=="function",fj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,jm=({type:e,data:t},s,r)=>uj&&t instanceof Blob?s?r(t):sg(t,r):hj&&(t instanceof ArrayBuffer||fj(t))?s?r(t):sg(new Blob([t]),r):r(Gs[e]+(t||"")),sg=(e,t)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];t("b"+(r||""))},s.readAsDataURL(e)};function rg(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ru;function VA(e,t){if(uj&&e.data instanceof Blob)return e.data.arrayBuffer().then(rg).then(t);if(hj&&(e.data instanceof ArrayBuffer||fj(e.data)))return t(rg(e.data));jm(e,!1,s=>{ru||(ru=new TextEncoder),t(ru.encode(s))})}const ng="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<ng.length;e++)mi[ng.charCodeAt(e)]=e;const $A=e=>{let t=e.length*.75,s=e.length,r,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(r=0;r<s;r+=4)i=mi[e.charCodeAt(r)],o=mi[e.charCodeAt(r+1)],l=mi[e.charCodeAt(r+2)],c=mi[e.charCodeAt(r+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},BA=typeof ArrayBuffer=="function",wm=(e,t)=>{if(typeof e!="string")return{type:"message",data:mj(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:UA(e.substring(1),t)}:Cl[s]?e.length>1?{type:Cl[s],data:e.substring(1)}:{type:Cl[s]}:Dh},UA=(e,t)=>{if(BA){const s=$A(e);return mj(s,t)}else return{base64:!0,data:e}},mj=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},pj="",zA=(e,t)=>{const s=e.length,r=new Array(s);let a=0;e.forEach((i,o)=>{jm(i,!1,l=>{r[o]=l,++a===s&&t(r.join(pj))})})},HA=(e,t)=>{const s=e.split(pj),r=[];for(let a=0;a<s.length;a++){const i=wm(s[a],t);if(r.push(i),i.type==="error")break}return r};function WA(){return new TransformStream({transform(e,t){VA(e,s=>{const r=s.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(s)})}})}let nu;function tl(e){return e.reduce((t,s)=>t+s.length,0)}function sl(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)s[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),s}function qA(e,t){nu||(nu=new TextDecoder);const s=[];let r=0,a=-1,i=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(r===0){if(tl(s)<1)break;const c=sl(s,1);i=(c[0]&128)===128,a=c[0]&127,a<126?r=3:a===126?r=1:r=2}else if(r===1){if(tl(s)<2)break;const c=sl(s,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(tl(s)<8)break;const c=sl(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Dh);break}a=u*Math.pow(2,32)+d.getUint32(4),r=3}else{if(tl(s)<a)break;const c=sl(s,a);l.enqueue(wm(i?c:nu.decode(c),t)),r=0}if(a===0||a>e){l.enqueue(Dh);break}}}})}const xj=4;function et(e){if(e)return GA(e)}function GA(e){for(var t in et.prototype)e[t]=et.prototype[t];return e}et.prototype.on=et.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};et.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};et.prototype.off=et.prototype.removeListener=et.prototype.removeAllListeners=et.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,a=0;a<s.length;a++)if(r=s[a],r===t||r.fn===t){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+e],this};et.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,a=s.length;r<a;++r)s[r].apply(this,t)}return this};et.prototype.emitReserved=et.prototype.emit;et.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};et.prototype.hasListeners=function(e){return!!this.listeners(e).length};const id=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),ds=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ZA="arraybuffer";function gj(e,...t){return t.reduce((s,r)=>(e.hasOwnProperty(r)&&(s[r]=e[r]),s),{})}const KA=ds.setTimeout,QA=ds.clearTimeout;function od(e,t){t.useNativeTimers?(e.setTimeoutFn=KA.bind(ds),e.clearTimeoutFn=QA.bind(ds)):(e.setTimeoutFn=ds.setTimeout.bind(ds),e.clearTimeoutFn=ds.clearTimeout.bind(ds))}const YA=1.33;function XA(e){return typeof e=="string"?JA(e):Math.ceil((e.byteLength||e.size)*YA)}function JA(e){let t=0,s=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(r++,s+=4);return s}function yj(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function eP(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function tP(e){let t={},s=e.split("&");for(let r=0,a=s.length;r<a;r++){let i=s[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class sP extends Error{constructor(t,s,r){super(t),this.description=s,this.context=r,this.type="TransportError"}}class km extends et{constructor(t){super(),this.writable=!1,od(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,r){return super.emitReserved("error",new sP(t,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=wm(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=eP(t);return s.length?"?"+s:""}}class rP extends km{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};HA(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,zA(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=yj()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let vj=!1;try{vj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const nP=vj;function aP(){}class iP extends rP{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,s){const r=this.request({method:"POST",data:t});r.on("success",s),r.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=t}}class zs extends et{constructor(t,s,r){super(),this.createRequest=t,od(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const s=gj(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var a;r.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=zs.requestsCount++,zs.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=aP,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zs.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}zs.requestsCount=0;zs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ag);else if(typeof addEventListener=="function"){const e="onpagehide"in ds?"pagehide":"unload";addEventListener(e,ag,!1)}}function ag(){for(let e in zs.requests)zs.requests.hasOwnProperty(e)&&zs.requests[e].abort()}const oP=function(){const e=bj({xdomain:!1});return e&&e.responseType!==null}();class lP extends iP{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=oP&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new zs(bj,this.uri(),t)}}function bj(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||nP))return new XMLHttpRequest}catch{}if(!t)try{return new ds[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jj=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class cP extends km{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,r=jj?{}:gj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,r)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],a=s===t.length-1;jm(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}a&&id(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=yj()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const au=ds.WebSocket||ds.MozWebSocket;class dP extends cP{createSocket(t,s,r){return jj?new au(t,s,r):s?new au(t,s):new au(t)}doWrite(t,s){this.ws.send(s)}}class uP extends km{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=qA(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(s).getReader(),a=WA();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],a=s===t.length-1;this._writer.write(r).then(()=>{a&&id(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const hP={websocket:dP,webtransport:uP,polling:lP},fP=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Oh(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),r=e.indexOf("]");s!=-1&&r!=-1&&(e=e.substring(0,s)+e.substring(s,r).replace(/:/g,";")+e.substring(r,e.length));let a=fP.exec(e||""),i={},o=14;for(;o--;)i[mP[o]]=a[o]||"";return s!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=pP(i,i.path),i.queryKey=xP(i,i.query),i}function pP(e,t){const s=/\/{2,9}/g,r=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function xP(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,a,i){a&&(s[a]=i)}),s}const Mh=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sl=[];Mh&&addEventListener("offline",()=>{Sl.forEach(e=>e())},!1);class qr extends et{constructor(t,s){if(super(),this.binaryType=ZA,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const r=Oh(t);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=Oh(s.host).host);od(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const a=r.prototype.name;this.transports.push(a),this._transportsByName[a]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=tP(this.opts.query)),Mh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=xj,s.transport=t,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&qr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",qr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(s+=XA(a)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,id(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,r){return this._sendPacket("message",t,s,r),this}send(t,s,r){return this._sendPacket("message",t,s,r),this}_sendPacket(t,s,r,a){if(typeof s=="function"&&(a=s,s=void 0),typeof r=="function"&&(a=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:s,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(qr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Mh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Sl.indexOf(this._offlineEventListener);r!==-1&&Sl.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}qr.protocol=xj;class gP extends qr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),r=!1;qr.priorWebsocketSuccess=!1;const a=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;qr.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=s.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,u(),s.close(),s=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=s.name,i(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function d(h){s&&h.name!==s.name&&i()}const u=()=>{s.removeListener("open",a),s.removeListener("error",o),s.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};s.once("open",a),s.once("error",o),s.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&s.push(t[r]);return s}}let yP=class extends gP{constructor(t,s={}){const r=typeof t=="object"?t:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(a=>hP[a]).filter(a=>!!a)),super(t,r)}};function vP(e,t="",s){let r=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),r=Oh(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(s&&s.port===r.port?"":":"+r.port),r}const bP=typeof ArrayBuffer=="function",jP=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,wj=Object.prototype.toString,wP=typeof Blob=="function"||typeof Blob<"u"&&wj.call(Blob)==="[object BlobConstructor]",kP=typeof File=="function"||typeof File<"u"&&wj.call(File)==="[object FileConstructor]";function Nm(e){return bP&&(e instanceof ArrayBuffer||jP(e))||wP&&e instanceof Blob||kP&&e instanceof File}function El(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,r=e.length;s<r;s++)if(El(e[s]))return!0;return!1}if(Nm(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return El(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&El(e[s]))return!0;return!1}function NP(e){const t=[],s=e.data,r=e;return r.data=Ih(s,t),r.attachments=t.length,{packet:r,buffers:t}}function Ih(e,t){if(!e)return e;if(Nm(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=Ih(e[r],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=Ih(e[r],t));return s}return e}function CP(e,t){return e.data=Fh(e.data,t),delete e.attachments,e}function Fh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Fh(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Fh(e[s],t));return e}const SP=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],EP=5;var be;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(be||(be={}));class TP{constructor(t){this.replacer=t}encode(t){return(t.type===be.EVENT||t.type===be.ACK)&&El(t)?this.encodeAsBinary({type:t.type===be.EVENT?be.BINARY_EVENT:be.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===be.BINARY_EVENT||t.type===be.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=NP(t),r=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(r),a}}function ig(e){return Object.prototype.toString.call(e)==="[object Object]"}class Cm extends et{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const r=s.type===be.BINARY_EVENT;r||s.type===be.BINARY_ACK?(s.type=r?be.EVENT:be.ACK,this.reconstructor=new _P(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Nm(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const r={type:Number(t.charAt(0))};if(be[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===be.BINARY_EVENT||r.type===be.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(i,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););r.nsp=t.substring(i,s)}else r.nsp="/";const a=t.charAt(s+1);if(a!==""&&Number(a)==a){const i=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}r.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(Cm.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case be.CONNECT:return ig(s);case be.DISCONNECT:return s===void 0;case be.CONNECT_ERROR:return typeof s=="string"||ig(s);case be.EVENT:case be.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&SP.indexOf(s[0])===-1);case be.ACK:case be.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _P{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=CP(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const AP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Cm,Encoder:TP,get PacketType(){return be},protocol:EP},Symbol.toStringTag,{value:"Module"}));function ws(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const PP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kj extends et{constructor(t,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ws(t,"open",this.onopen.bind(this)),ws(t,"packet",this.onpacket.bind(this)),ws(t,"error",this.onerror.bind(this)),ws(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var r,a,i;if(PP.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:be.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const u=this.ids++,h=s.pop();this._registerAckCallback(u,h),o.id=u}const l=(a=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var r;const a=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(a===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);s.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(i),s.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((r,a)=>{const i=(o,l)=>o?a(o):r(l);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>r!==this._queue[0]?void 0:(a!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case be.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case be.EVENT:case be.BINARY_EVENT:this.onevent(t);break;case be.ACK:case be.BINARY_ACK:this.onack(t);break;case be.DISCONNECT:this.ondisconnect();break;case be.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let r=!1;return function(...a){r||(r=!0,s.packet({type:be.ACK,id:t,data:a}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,t.data)}}}function Ba(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ba.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};Ba.prototype.reset=function(){this.attempts=0};Ba.prototype.setMin=function(e){this.ms=e};Ba.prototype.setMax=function(e){this.max=e};Ba.prototype.setJitter=function(e){this.jitter=e};class Vh extends et{constructor(t,s){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,od(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ba({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const a=s.parser||AP;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new yP(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=ws(s,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=ws(s,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),s.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ws(t,"ping",this.onping.bind(this)),ws(t,"data",this.ondata.bind(this)),ws(t,"error",this.onerror.bind(this)),ws(t,"close",this.onclose.bind(this)),ws(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){id(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new kj(this,t,s),this.nsps[t]=r),r}_destroy(t){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let r=0;r<s.length;r++)this.engine.write(s[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ai={};function Tl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=vP(e,t.path||"/socket.io"),r=s.source,a=s.id,i=s.path,o=ai[a]&&i in ai[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Vh(r,t):(ai[a]||(ai[a]=new Vh(r,t)),c=ai[a]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(Tl,{Manager:Vh,Socket:kj,io:Tl,connect:Tl});const RP="http://localhost:5000/api".replace("/api","")||"http://localhost:5000";let ce=null;const LP=e=>(ce!=null&&ce.connected||(ce=Tl(RP,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),ce.on("connect",()=>{console.log(" Socket connected:",ce.id)}),ce.on("disconnect",t=>{console.log(" Socket disconnected:",t)}),ce.on("connect_error",t=>{console.error(" Socket connection error:",t.message)})),ce),Nj=()=>ce,DP=()=>{ce&&(ce.disconnect(),ce=null)},og=e=>{ce!=null&&ce.connected&&ce.emit("register",e)},OP=e=>{ce!=null&&ce.connected&&ce.emit("call-request",{companyId:e})},MP=e=>{ce!=null&&ce.connected&&ce.emit("call-accept",{callId:e})},IP=e=>{ce!=null&&ce.connected&&ce.emit("call-reject",{callId:e})},FP=e=>{ce!=null&&ce.connected&&ce.emit("call-cancel",{callId:e})},VP=e=>{ce!=null&&ce.connected&&ce.emit("call-end",{callId:e})},$P=(e,t,s)=>{ce!=null&&ce.connected&&ce.emit("webrtc-offer",{callId:e,offer:t,to:s})},BP=(e,t,s)=>{ce!=null&&ce.connected&&ce.emit("webrtc-answer",{callId:e,answer:t,to:s})},UP=(e,t,s)=>{ce!=null&&ce.connected&&ce.emit("webrtc-ice-candidate",{callId:e,candidate:t,to:s})},zP=(e,t)=>{ce!=null&&ce.connected&&ce.emit("call-customer",{customerId:e,companyId:t})},HP=e=>{ce!=null&&ce.connected&&ce.emit("customer-accept-call",{callId:e})},WP={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:stun.stunprotocol.org:3478"}],iceCandidatePoolSize:10},qP={audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3,channelCount:1},video:!1},GP=()=>new RTCPeerConnection(WP),lg=async()=>{try{return await navigator.mediaDevices.getUserMedia(qP)}catch(e){throw console.error("Error accessing microphone:",e),new Error("Could not access microphone. Please check permissions.")}},cg=(e,t)=>{t.getTracks().forEach(s=>{e.addTrack(s,t)})},ZP=async e=>{const t=await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!1});return await e.setLocalDescription(t),t},KP=async(e,t)=>{await e.setRemoteDescription(new RTCSessionDescription(t));const s=await e.createAnswer();return await e.setLocalDescription(s),s},QP=async(e,t)=>{await e.setRemoteDescription(new RTCSessionDescription(t))},iu=async(e,t)=>{try{e.remoteDescription&&await e.addIceCandidate(new RTCIceCandidate(t))}catch(s){console.error("Error adding ICE candidate:",s)}},dg=e=>{e&&e.getTracks().forEach(t=>{t.stop()})},YP=e=>{e&&e.close()},XP=e=>{console.log(" Setting up remote audio playback...");const t=window.__webrtc_remote_audio||document.getElementById("remote-audio");if(t)return console.log(" Using DOM audio element for remote stream"),t.srcObject=e,t.play().then(()=>console.log(" Remote audio playing successfully")).catch(s=>{console.warn(" Autoplay blocked. User interaction may be required:",s),console.warn(" TIP: Click anywhere on the page to enable audio")}),t;{console.warn(" DOM audio element not found, creating fallback");const s=new Audio;return s.srcObject=e,s.autoplay=!0,s.playsInline=!0,s.play().catch(r=>{console.error(" Audio play error:",r),console.error(" SOLUTION: Ensure microphone permissions are granted on BOTH devices")}),s}},JP=(e,t)=>{e&&e.getAudioTracks().forEach(s=>{s.enabled=!t})},e3=()=>{const[e,t]=m.useState("new"),[s,r]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState(0),u=m.useRef(null),h=m.useRef(null),f=m.useRef(null),y=m.useRef(null),g=m.useRef(null),v=m.useRef(null),w=m.useRef(null),b=m.useRef([]),p=m.useCallback(()=>{d(0),w.current=setInterval(()=>{d(U=>U+1)},1e3)},[]),x=m.useCallback(()=>{w.current&&(clearInterval(w.current),w.current=null)},[]);m.useEffect(()=>{const U=Nj();if(!U)return;const T=async({callId:X,offer:Y,from:$})=>{if(g.current===X){console.log(" Received WebRTC offer from:",$);try{v.current=$;const D=u.current;if(D){console.log(" Creating answer...");const Z=await KP(D,Y);if(BP(X,Z,$),console.log(" Answer sent successfully"),b.current.length>0){console.log(` Applying ${b.current.length} queued ICE candidates`);for(const P of b.current)await iu(D,P);b.current=[]}}}catch(D){console.error(" Error handling offer:",D),l("Failed to process call offer")}}},E=async({callId:X,answer:Y,from:$})=>{if(g.current===X){console.log(" Received WebRTC answer from:",$);try{const D=u.current;if(D&&(console.log(" Setting remote answer..."),await QP(D,Y),console.log(" Remote answer set successfully"),b.current.length>0)){console.log(` Applying ${b.current.length} queued ICE candidates`);for(const Z of b.current)await iu(D,Z);b.current=[]}}catch(D){console.error(" Error handling answer:",D),l("Failed to establish connection")}}},F=async({callId:X,candidate:Y,from:$})=>{if(g.current===X)try{const D=u.current;if(D){if(!D.remoteDescription){console.log("Queuing ICE candidate (remote description not set yet)"),b.current.push(Y);return}await iu(D,Y)}}catch(D){console.error("Error handling ICE candidate:",D)}};return U.on("webrtc-offer",T),U.on("webrtc-answer",E),U.on("webrtc-ice-candidate",F),()=>{U.off("webrtc-offer",T),U.off("webrtc-answer",E),U.off("webrtc-ice-candidate",F)}},[]);const j=m.useCallback((U,T)=>{g.current=U,v.current=T;const E=GP();return u.current=E,E.onicecandidate=F=>{F.candidate&&v.current&&UP(U,F.candidate,v.current)},E.onconnectionstatechange=()=>{t(E.connectionState),E.connectionState==="connected"?(i(!1),p()):(E.connectionState==="disconnected"||E.connectionState==="failed")&&(i(!1),x())},E.oniceconnectionstatechange=()=>{console.log("ICE Connection State:",E.iceConnectionState)},E.ontrack=F=>{console.log(" Remote track received!"),console.log("Track kind:",F.track.kind),console.log("Track enabled:",F.track.enabled),console.log("Track readyState:",F.track.readyState);const[X]=F.streams;console.log("Remote stream tracks:",X.getTracks().length),f.current=X,y.current=XP(X)},E},[p,x]),k=m.useCallback(async(U,T)=>{try{console.log(" Starting call...",{callId:U,remoteSocketId:T}),i(!0),l(null),console.log(" Requesting microphone access...");const E=await lg();console.log(" Microphone access granted"),console.log("Local stream tracks:",E.getTracks().length),h.current=E,console.log(" Initializing peer connection...");const F=j(U,T);console.log(" Adding local tracks to peer connection..."),cg(F,E),console.log(" Local tracks added"),console.log(" Creating offer...");const X=await ZP(F);$P(U,X,T),console.log(" Offer sent successfully")}catch(E){console.error(" Error starting call:",E),console.error("Error name:",E.name),console.error("Error message:",E.message),E.name==="NotAllowedError"?l("Microphone access denied. Please allow microphone permissions and reload."):E.name==="NotFoundError"?l("No microphone found. Please connect a microphone."):l(E.message||"Failed to start call"),i(!1),C()}},[j]),N=m.useCallback(async(U,T)=>{try{console.log(" Answering call...",{callId:U,remoteSocketId:T}),i(!0),l(null),console.log(" Requesting microphone access...");const E=await lg();console.log(" Microphone access granted"),console.log("Local stream tracks:",E.getTracks().length),h.current=E,console.log(" Initializing peer connection...");const F=j(U,T);console.log(" Adding local tracks to peer connection..."),cg(F,E),console.log(" Local tracks added"),console.log(" Waiting for offer from caller...")}catch(E){console.error(" Error answering call:",E),console.error("Error name:",E.name),console.error("Error message:",E.message),E.name==="NotAllowedError"?l("Microphone access denied. Please allow microphone permissions and reload."):E.name==="NotFoundError"?l("No microphone found. Please connect a microphone."):l(E.message||"Failed to answer call"),i(!1),C()}},[j]),S=m.useCallback(()=>{if(h.current){const U=!s;JP(h.current,U),r(U)}},[s]),C=m.useCallback(()=>{x(),h.current&&(dg(h.current),h.current=null),f.current&&(dg(f.current),f.current=null),y.current&&(y.current.pause(),y.current.srcObject=null,y.current=null),u.current&&(YP(u.current),u.current=null),g.current=null,v.current=null,b.current=[],t("new"),r(!1),i(!1),d(0)},[x]),L=m.useCallback(()=>{C()},[C]),V=m.useCallback(()=>{const U=Math.floor(c/60),T=c%60;return`${U.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`},[c]);return{connectionState:e,isMuted:s,isConnecting:a,error:o,callDuration:c,formattedDuration:V(),startCall:k,answerCall:N,toggleMute:S,endCall:L,cleanup:C}},Cj=m.createContext(null),Re={IDLE:"idle",REQUESTING:"requesting",RINGING:"ringing",INCOMING:"incoming",CONNECTING:"connecting",CONNECTED:"connected"},t3=({children:e})=>{const{user:t,accessToken:s}=Nt(),{currentCompany:r,currentRole:a}=rs(),[i,o]=m.useState(Re.IDLE),[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[y,g]=m.useState([]),[v,w]=m.useState(!1),b=e3(),p=m.useRef(null),x=m.useRef(null);m.useEffect(()=>{if(t&&s&&r){const $=LP(s);return $.on("connect",()=>{w(!0),og({userId:t.id,userName:t.name,role:a,companyId:r.id})}),$.on("disconnect",()=>{w(!1)}),j($),()=>{DP(),w(!1)}}},[t,s,r,a]),m.useEffect(()=>{v&&t&&r&&og({userId:t.id,userName:t.name,role:a,companyId:r.id})},[r,a,v,t]);const j=m.useCallback($=>{$.on("call-ringing",({callId:D})=>{c(D),p.current=D,o(Re.RINGING)}),$.on("call-accepted",({callId:D,adminId:Z,adminName:P,adminSocketId:z,recipientId:ie,recipientName:Ce,recipientSocketId:ve})=>{o(Re.CONNECTING),ve?(f({recipientId:ie,recipientName:Ce,recipientSocketId:ve}),p.current=D,x.current=ve,M.success(`${Ce} accepted your call`),b.startCall(D,ve)):(f({adminId:Z,adminName:P,adminSocketId:z}),p.current=D,x.current=z,M.success(`${P} accepted your call`),b.startCall(D,z))}),$.on("call-ended",({callId:D,reason:Z,duration:P})=>{(p.current===D||l===D)&&(Z==="no-answer"?M.error("No admin available to take your call"):Z==="disconnected"&&M.error("Call disconnected"),C(),b.cleanup())}),$.on("incoming-call",({callId:D,callerId:Z,callerName:P,companyId:z,isFromAdmin:ie})=>{u({callId:D,callerId:Z,callerName:P,companyId:z,isFromAdmin:ie||!1}),o(Re.INCOMING),N()}),$.on("call-taken",({callId:D,adminName:Z})=>{(d==null?void 0:d.callId)===D&&(M(`Call taken by ${Z}`,{icon:""}),u(null),o(Re.IDLE),S())}),$.on("call-cancelled",({callId:D})=>{(d==null?void 0:d.callId)===D&&(M.error("Caller cancelled the call"),u(null),o(Re.IDLE),S())}),$.on("call-connected",({callId:D,callerId:Z,callerName:P,callerSocketId:z})=>{c(D),p.current=D,x.current=z,f({callerId:Z,callerName:P}),o(Re.CONNECTING),u(null),S(),b.answerCall(D,z)}),$.on("online-admins",({admins:D})=>{g(D)}),$.on("user-online",({userId:D,userName:Z,role:P})=>{(P==="ADMIN"||P==="STAFF")&&g(z=>z.find(ie=>ie.userId===D)?z:[...z,{userId:D,userName:Z,role:P}])}),$.on("user-offline",({userId:D})=>{g(Z=>Z.filter(P=>P.userId!==D))}),$.on("call-error",({message:D})=>{M.error(D),C()})},[l,d,b]),k=m.useRef(null),N=()=>{try{const $=new(window.AudioContext||window.webkitAudioContext),D=$.createOscillator(),Z=$.createGain();D.connect(Z),Z.connect($.destination),D.frequency.value=440,D.type="sine",Z.gain.value=.3,k.current={oscillator:D,audioContext:$},D.start();const P=()=>{k.current&&(Z.gain.value=Z.gain.value>0?0:.3,setTimeout(P,500))};P()}catch($){console.log("Could not play ringtone:",$)}},S=()=>{if(k.current){try{k.current.oscillator.stop(),k.current.audioContext.close()}catch{}k.current=null}},C=m.useCallback(()=>{o(Re.IDLE),c(null),p.current=null,x.current=null,u(null),f(null),S()},[]),L=m.useCallback(()=>{if(!r){M.error("Please select a company first");return}if(i!==Re.IDLE){M.error("You already have an active call");return}o(Re.REQUESTING),OP(r.id),M("Calling support...",{icon:""})},[r,i]),V=m.useCallback(($,D)=>{if(!r){M.error("Please select a company first");return}if(i!==Re.IDLE){M.error("You already have an active call");return}if(!v){M.error("Not connected to server");return}o(Re.REQUESTING),zP($,r.id),M(`Calling ${D||"customer"}...`,{icon:""})},[r,i,v]),U=m.useCallback(()=>{l&&FP(l),C(),b.cleanup()},[l,C,b]),T=m.useCallback(async()=>{d&&(S(),d.isFromAdmin?HP(d.callId):MP(d.callId))},[d]),E=m.useCallback(()=>{d&&(IP(d.callId),u(null),o(Re.IDLE),S())},[d]),F=m.useCallback(()=>{l&&VP(l),C(),b.endCall()},[l,C,b]),X=m.useCallback(()=>{const $=Nj();$!=null&&$.connected&&r&&$.emit("get-online-admins",{companyId:r.id})},[r]),Y={callStatus:i,currentCallId:l,incomingCall:d,callInfo:h,onlineAdmins:y,isSocketConnected:v,connectionState:b.connectionState,isMuted:b.isMuted,isConnecting:b.isConnecting,callDuration:b.formattedDuration,webRTCError:b.error,callSupport:L,callCustomer:V,cancelOutgoingCall:U,acceptIncomingCall:T,rejectIncomingCall:E,endActiveCall:F,toggleMute:b.toggleMute,getOnlineAdminsCount:X};return n.jsx(Cj.Provider,{value:Y,children:e})},Ua=()=>{const e=m.useContext(Cj);return e||{callStatus:Re.IDLE,currentCallId:null,incomingCall:null,callInfo:null,onlineAdmins:[],isSocketConnected:!1,connectionState:"new",isMuted:!1,isConnecting:!1,callDuration:"00:00",webRTCError:null,callSupport:()=>{},callCustomer:()=>{},cancelOutgoingCall:()=>{},acceptIncomingCall:()=>{},rejectIncomingCall:()=>{},endActiveCall:()=>{},toggleMute:()=>{},getOnlineAdminsCount:()=>{}}},s3=({title:e,value:t,change:s,changeType:r,icon:a,color:i,delay:o})=>n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o},className:"stat-card",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${i} flex items-center justify-center`,children:n.jsx(a,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${r==="up"?"text-green-500":"text-red-500"}`,children:[r==="up"?n.jsx(V1,{className:"w-4 h-4"}):n.jsx(F1,{className:"w-4 h-4"}),s,"%"]})]}),n.jsx("h3",{className:"text-3xl font-bold mb-1",children:t}),n.jsx("p",{className:"text-dark-500 text-sm",children:e})]}),r3=()=>{var u,h,f,y,g,v,w,b,p,x,j,k;const{currentCompany:e}=rs(),{isSocketConnected:t,incomingCall:s,callStatus:r}=Ua(),[a,i]=m.useState(null),[o,l]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const S=await zf.getAdminStats();S.data.success&&i(S.data.data)}catch(S){console.error("Failed to fetch dashboard stats:",S)}finally{l(!1)}})()},[]);const c=[{title:"Total Customers",value:((u=a==null?void 0:a.stats)==null?void 0:u.customers)||0,change:12.5,changeType:"up",icon:fr,color:"from-blue-500 to-blue-600"},{title:"Active Leads",value:((h=a==null?void 0:a.stats)==null?void 0:h.leads)||0,change:8.2,changeType:"up",icon:dt,color:"from-purple-500 to-purple-600"},{title:"Open Issues",value:((f=a==null?void 0:a.stats)==null?void 0:f.openIssues)||0,change:5.2,changeType:"up",icon:Te,color:"from-red-500 to-red-600"},{title:"Revenue",value:`$${((((y=a==null?void 0:a.stats)==null?void 0:y.wonDealsValue)||0)/1e3).toFixed(1)}k`,change:15.3,changeType:"up",icon:zn,color:"from-green-500 to-green-600"}],d=N=>({NEW:"badge-info",CONTACTED:"badge-primary",QUALIFIED:"badge-warning",PROPOSAL:"badge-warning",NEGOTIATION:"badge-primary",WON:"badge-success",LOST:"badge-danger",ACTIVE:"badge-success",INACTIVE:"badge-danger",PENDING:"badge-warning"})[N]||"badge-info";return o?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(R.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl lg:text-3xl font-bold",children:"Welcome back! "}),n.jsxs(R.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-dark-500 mt-1",children:["Here's what's happening with ",e==null?void 0:e.name," today."]})]}),n.jsx(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex-shrink-0",children:n.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl border ${t?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t?"bg-emerald-100 dark:bg-emerald-900/40":"bg-slate-200 dark:bg-slate-700"}`,children:t?n.jsx(fm,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}):n.jsx(K1,{className:"w-5 h-5 text-slate-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:`font-medium text-sm ${t?"text-emerald-700 dark:text-emerald-300":"text-slate-600 dark:text-slate-400"}`,children:t?"Call Center Active":"Connecting..."}),n.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t?"Ready to receive calls":"Establishing connection"})]}),t&&n.jsx(R.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-3 h-3 rounded-full bg-emerald-500 ml-2"})]})})]}),n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((N,S)=>n.jsx(s3,{...N,delay:.1+S*.1},N.title))}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:col-span-2 card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Recent Leads"}),n.jsx(je,{to:"/leads",className:"text-sm text-primary-500 hover:text-primary-600",children:"View all"})]}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((v=(g=a==null?void 0:a.recent)==null?void 0:g.leads)==null?void 0:v.length)>0?a.recent.leads.map(N=>{var S;return n.jsxs(je,{to:`/leads/${N.id}`,className:"flex items-center gap-4 p-4 hover:bg-dark-50 dark:hover:bg-dark-800 transition-colors",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white font-semibold",children:N.title.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:N.title}),n.jsxs("p",{className:"text-sm text-dark-500",children:["$",((S=N.value)==null?void 0:S.toLocaleString())||0]})]}),n.jsx("span",{className:`badge ${d(N.status)}`,children:N.status})]},N.id)}):n.jsxs("div",{className:"p-8 text-center text-dark-500",children:[n.jsx(dt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No leads yet"}),n.jsx(je,{to:"/leads",className:"text-primary-500 text-sm",children:"Create your first lead"})]})})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsx(je,{to:"/activities",className:"text-sm text-primary-500 hover:text-primary-600",children:"View all"})]}),n.jsx("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:((b=(w=a==null?void 0:a.recent)==null?void 0:w.activities)==null?void 0:b.length)>0?a.recent.activities.map(N=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0",children:n.jsx(Pt,{className:"w-4 h-4 text-primary-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:N.title}),n.jsx("p",{className:"text-xs text-dark-500",children:new Date(N.createdAt).toLocaleDateString()})]})]},N.id)):n.jsxs("div",{className:"text-center text-dark-500 py-8",children:[n.jsx(Pt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No recent activity"})]})})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Recent Issues"}),n.jsx(je,{to:"/issues",className:"text-sm text-primary-500 hover:text-primary-600",children:"View all"})]}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((x=(p=a==null?void 0:a.recent)==null?void 0:p.issues)==null?void 0:x.length)>0?a.recent.issues.map(N=>{var S;return n.jsxs(je,{to:"/issues",className:"flex items-center gap-4 p-4 hover:bg-dark-50 dark:hover:bg-dark-800 transition-colors",children:[n.jsx(Te,{className:`w-5 h-5 ${N.status==="OPEN"?"text-blue-500":N.status==="IN_PROGRESS"?"text-amber-500":N.status==="RESOLVED"?"text-green-500":"text-gray-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:N.title}),n.jsxs("p",{className:"text-sm text-dark-500",children:[(S=N.customer)==null?void 0:S.name,"  ",new Date(N.createdAt).toLocaleDateString()]})]}),n.jsx("span",{className:`badge ${N.status==="OPEN"?"badge-info":N.status==="IN_PROGRESS"?"badge-warning":N.status==="RESOLVED"?"badge-success":"badge-danger"}`,children:N.status.replace("_"," ")})]},N.id)}):n.jsxs("div",{className:"p-8 text-center text-dark-500",children:[n.jsx(Te,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No issues yet"})]})})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Recent Customers"}),n.jsx(je,{to:"/customers",className:"text-sm text-primary-500 hover:text-primary-600",children:"View all"})]}),n.jsx("div",{className:"table-container border-0",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Joined"}),n.jsx("th",{})]})}),n.jsx("tbody",{children:((k=(j=a==null?void 0:a.recent)==null?void 0:j.customers)==null?void 0:k.length)>0?a.recent.customers.map(N=>{var S;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"avatar avatar-sm",children:((S=N.name)==null?void 0:S.charAt(0))||"C"}),n.jsx("span",{className:"font-medium",children:N.name})]})}),n.jsx("td",{className:"text-dark-500",children:N.email}),n.jsx("td",{className:"text-dark-500",children:new Date(N.joinedAt).toLocaleDateString()}),n.jsx("td",{children:n.jsx(je,{to:`/customers/${N.id}`,className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg inline-block",children:n.jsx(f_,{className:"w-5 h-5 text-dark-400"})})})]},N.id)}):n.jsx("tr",{children:n.jsxs("td",{colSpan:4,className:"text-center py-8 text-dark-500",children:[n.jsx(fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No customers yet"})]})})})]})})]})]})},n3=()=>{var c,d,u,h,f,y;const{user:e}=Nt(),[t,s]=m.useState(null),[r,a]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const v=await zf.getStaffDashboard();v.data.success&&s(v.data.data)}catch(v){console.error("Failed to fetch dashboard:",v)}finally{a(!1)}})()},[]);const i=g=>{const v={URGENT:"text-red-500 bg-red-100 dark:bg-red-900/30",HIGH:"text-orange-500 bg-orange-100 dark:bg-orange-900/30",MEDIUM:"text-amber-500 bg-amber-100 dark:bg-amber-900/30",LOW:"text-green-500 bg-green-100 dark:bg-green-900/30"};return v[g]||v.MEDIUM},o=g=>({TODO:"badge-info",IN_PROGRESS:"badge-warning",COMPLETED:"badge-success",CANCELLED:"badge-danger"})[g]||"badge-info",l=g=>({NEW:"badge-info",CONTACTED:"badge-primary",QUALIFIED:"badge-warning",PROPOSAL:"badge-warning",NEGOTIATION:"badge-primary",WON:"badge-success",LOST:"badge-danger"})[g]||"badge-info";return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs(R.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl lg:text-3xl font-bold",children:["Hi, ",e==null?void 0:e.name,"! "]}),n.jsx(R.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-dark-500 mt-1",children:"Here's your workload for today."})]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"stat-card",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:n.jsx(Hr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:((c=t==null?void 0:t.stats)==null?void 0:c.myTasks)||0}),n.jsx("p",{className:"text-dark-500 text-sm",children:"Total Tasks"})]})]})}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"stat-card",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center",children:n.jsx(ur,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:((d=t==null?void 0:t.stats)==null?void 0:d.openTasks)||0}),n.jsx("p",{className:"text-dark-500 text-sm",children:"Open Tasks"})]})]})}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"stat-card",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:n.jsx(dt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:((u=t==null?void 0:t.stats)==null?void 0:u.myLeads)||0}),n.jsx("p",{className:"text-dark-500 text-sm",children:"My Leads"})]})]})})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"My Tasks"}),n.jsxs(je,{to:"/tasks",className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1",children:["View all ",n.jsx(Sn,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((h=t==null?void 0:t.myOpenTasks)==null?void 0:h.length)>0?t.myOpenTasks.map(g=>n.jsx("div",{className:"p-4 hover:bg-dark-50 dark:hover:bg-dark-800 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${i(g.priority)}`,children:g.status==="COMPLETED"?n.jsx(_s,{className:"w-4 h-4"}):g.priority==="URGENT"||g.priority==="HIGH"?n.jsx(Te,{className:"w-4 h-4"}):n.jsx(Hr,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:g.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:`badge text-xs ${o(g.status)}`,children:g.status.replace("_"," ")}),g.dueDate&&n.jsxs("span",{className:"text-xs text-dark-500",children:["Due: ",new Date(g.dueDate).toLocaleDateString()]})]}),g.customer&&n.jsxs("p",{className:"text-xs text-dark-500 mt-1",children:["Customer: ",g.customer.name]})]})]})},g.id)):n.jsxs("div",{className:"p-8 text-center text-dark-500",children:[n.jsx(_s,{className:"w-12 h-12 mx-auto mb-3 text-green-500"}),n.jsx("p",{children:"All caught up! No pending tasks."})]})})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"My Leads"}),n.jsxs(je,{to:"/leads",className:"text-sm text-primary-500 hover:text-primary-600 flex items-center gap-1",children:["View all ",n.jsx(Sn,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((f=t==null?void 0:t.myLeads)==null?void 0:f.length)>0?t.myLeads.map(g=>{var v;return n.jsxs(je,{to:`/leads/${g.id}`,className:"flex items-center gap-4 p-4 hover:bg-dark-50 dark:hover:bg-dark-800 transition-colors",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-400 to-accent-400 flex items-center justify-center text-white font-semibold",children:g.title.charAt(0)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:g.title}),n.jsxs("p",{className:"text-sm text-dark-500",children:["$",((v=g.value)==null?void 0:v.toLocaleString())||0]})]}),n.jsx("span",{className:`badge ${l(g.status)}`,children:g.status})]},g.id)}):n.jsxs("div",{className:"p-8 text-center text-dark-500",children:[n.jsx(dt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No leads assigned to you"})]})})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsx(je,{to:"/activities",className:"text-sm text-primary-500 hover:text-primary-600",children:"View all"})]}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-6",children:((y=t==null?void 0:t.recentActivities)==null?void 0:y.length)>0?t.recentActivities.slice(0,8).map((g,v)=>{var w;return n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:n.jsx(Pt,{className:"w-5 h-5 text-primary-500"})}),v!==Math.min(t.recentActivities.length-1,7)&&n.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 w-0.5 h-full bg-dark-200 dark:bg-dark-700"})]}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsx("p",{className:"font-medium",children:g.title}),n.jsxs("p",{className:"text-sm text-dark-500",children:[(w=g.createdBy)==null?void 0:w.name,"  ",new Date(g.createdAt).toLocaleString()]})]})]},g.id)}):n.jsxs("div",{className:"text-center text-dark-500 py-8",children:[n.jsx(Pt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No recent activity"})]})})})]})]})},a3=()=>{const{callStatus:e,incomingCall:t,acceptIncomingCall:s,rejectIncomingCall:r}=Ua(),a=e===Re.INCOMING&&t;return n.jsx(De,{children:a&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(R.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-sm mx-4",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-emerald-500 to-cyan-500 blur-xl opacity-50 animate-pulse"}),n.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl p-8 shadow-2xl border border-slate-700/50",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs(R.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0},className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-500/20 animate-ping"}),n.jsx("div",{className:"absolute inset-2 rounded-full bg-emerald-500/30 animate-pulse"}),n.jsx("div",{className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center shadow-lg shadow-emerald-500/30",children:n.jsx(hr,{className:"w-12 h-12 text-white"})})]}),n.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:(t==null?void 0:t.callerName)||"Unknown Caller"}),n.jsx("p",{className:"text-slate-400 text-sm mb-2",children:t!=null&&t.isFromAdmin?"Support is calling you":"Customer Support Call"}),n.jsx(R.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-emerald-400 font-medium",children:"Incoming call..."})]}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mt-8",children:[n.jsxs(R.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:r,className:"group relative w-16 h-16 rounded-full bg-gradient-to-br from-red-500 to-red-600 shadow-lg shadow-red-500/30 flex items-center justify-center transition-all hover:shadow-red-500/50",children:[n.jsx(wo,{className:"w-7 h-7 text-white transform rotate-135"}),n.jsx("span",{className:"absolute -bottom-8 text-xs text-slate-400 font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Decline"})]}),n.jsxs(R.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:s,className:"group relative w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-lg shadow-emerald-500/30 flex items-center justify-center transition-all hover:shadow-emerald-500/50",children:[n.jsx(R.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:.5,repeat:1/0},children:n.jsx(wt,{className:"w-9 h-9 text-white"})}),n.jsx("span",{className:"absolute -bottom-8 text-xs text-slate-400 font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Accept"})]})]})]})]})})})},i3=({className:e=""})=>{const{callStatus:t,isSocketConnected:s,onlineAdmins:r,callSupport:a,cancelOutgoingCall:i,getOnlineAdminsCount:o}=Ua(),l=()=>{o()},c=t===Re.IDLE,d=t===Re.REQUESTING,u=t===Re.RINGING,h=c&&s;return n.jsx("div",{className:`${e}`,onMouseEnter:l,children:n.jsxs("div",{className:"relative",children:[(c||!s)&&n.jsxs(R.button,{whileHover:h?{scale:1.05}:{},whileTap:h?{scale:.95}:{},onClick:a,disabled:!h,className:`
              relative flex items-center gap-3 px-6 py-4 rounded-2xl font-semibold text-white
              transition-all duration-300 shadow-lg
              ${h?"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-emerald-500/40 hover:shadow-xl cursor-pointer":"bg-slate-600 cursor-not-allowed opacity-70"}
            `,children:[n.jsx("div",{className:"relative",children:s?n.jsxs(n.Fragment,{children:[n.jsx(wt,{className:"w-6 h-6"}),n.jsx(R.span,{animate:{scale:[1,1.5,1],opacity:[1,0,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-300 rounded-full"})]}):n.jsx(K1,{className:"w-6 h-6 text-slate-400"})}),n.jsx("span",{className:"text-lg",children:s?"Call Support":"Connecting..."})]}),(d||u)&&n.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center gap-4 px-6 py-4 rounded-2xl bg-gradient-to-r from-amber-500 to-orange-500 shadow-lg shadow-orange-500/30",children:[n.jsx(R.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-white font-semibold text-lg",children:d?"Requesting...":"Calling..."}),n.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:i,className:"ml-2 p-2 rounded-full bg-red-500 hover:bg-red-600 transition-colors",children:n.jsx(wo,{className:"w-5 h-5 text-white"})})]}),s&&c&&n.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 flex items-center justify-center gap-2 text-sm",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${r.length>0?"bg-emerald-500":"bg-slate-500"}`}),n.jsx("span",{className:r.length>0?"text-emerald-400":"text-slate-400",children:r.length>0?`${r.length} support agent${r.length>1?"s":""} online`:"No agents available"})]})]})})},o3=()=>{const{callStatus:e,callInfo:t,connectionState:s,isMuted:r,callDuration:a,endActiveCall:i,toggleMute:o}=Ua(),l=m.useRef(null),c=m.useRef(null);m.useEffect(()=>{typeof window<"u"&&(window.__webrtc_local_audio=l.current,window.__webrtc_remote_audio=c.current,console.log(" Audio elements registered:",{local:!!l.current,remote:!!c.current}))});const d=e===Re.CONNECTING||e===Re.CONNECTED,u=e===Re.CONNECTING||s==="connecting",h=s==="connected";return n.jsxs(n.Fragment,{children:[n.jsx("audio",{ref:l,id:"local-audio",autoPlay:!0,playsInline:!0,muted:!0,style:{display:"none"}}),n.jsx("audio",{ref:c,id:"remote-audio",autoPlay:!0,playsInline:!0,style:{display:"none"}}),d&&n.jsx(De,{children:n.jsx(R.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`absolute inset-0 rounded-3xl blur-xl opacity-40 ${h?"bg-emerald-500":"bg-amber-500"}`}),n.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl p-6 shadow-2xl border border-slate-700/50 min-w-[320px]",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(R.div,{animate:h?{scale:[1,1.05,1]}:{},transition:{duration:2,repeat:1/0},className:`w-14 h-14 rounded-full flex items-center justify-center ${h?"bg-gradient-to-br from-emerald-400 to-cyan-500":"bg-gradient-to-br from-amber-400 to-orange-500"}`,children:n.jsx(hr,{className:"w-7 h-7 text-white"})}),n.jsx(R.div,{animate:h?{}:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center ${h?"bg-emerald-500":"bg-amber-500"}`,children:u?n.jsx(we,{className:"w-3 h-3 text-white animate-spin"}):n.jsx(b_,{className:"w-3 h-3 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-white font-semibold text-lg",children:(t==null?void 0:t.adminName)||(t==null?void 0:t.callerName)||(t==null?void 0:t.recipientName)||"Support Call"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-sm ${h?"text-emerald-400":"text-amber-400"}`,children:u?"Connecting...":"Connected"}),h&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-500",children:""}),n.jsx("span",{className:"text-slate-400 font-mono text-sm",children:a})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:o,className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${r?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-slate-700 text-white hover:bg-slate-600"}`,children:r?n.jsx(q1,{className:"w-5 h-5"}):n.jsx(Nl,{className:"w-5 h-5"})}),n.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:i,className:"w-14 h-14 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center shadow-lg shadow-red-500/30 hover:shadow-red-500/50 transition-all",children:n.jsx(wo,{className:"w-6 h-6 text-white"})})]})]}),h&&n.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:n.jsx("div",{className:"flex items-center justify-center gap-1",children:[...Array(20)].map((f,y)=>n.jsx(R.div,{animate:{height:[4,Math.random()*20+4,4]},transition:{duration:.5,repeat:1/0,delay:y*.05,ease:"easeInOut"},className:"w-1 bg-gradient-to-t from-emerald-500 to-cyan-400 rounded-full",style:{minHeight:4}},y))})})]})]})})})]})},l3=()=>{const[e,t]=m.useState(!1),{currentRole:s}=rs(),{callStatus:r,isSocketConnected:a,onlineAdmins:i,callSupport:o,cancelOutgoingCall:l,getOnlineAdminsCount:c}=Ua();if(s!=="CUSTOMER")return null;const d=r===Re.IDLE,u=r===Re.REQUESTING,h=r===Re.RINGING,f=r===Re.CONNECTING||r===Re.CONNECTED,y=d&&a,g=()=>{d&&(t(!e),e||c())},v=()=>{o(),t(!1)},w=()=>{l()};return f?null:n.jsxs("div",{className:"fixed bottom-6 right-6 z-40",children:[n.jsx(De,{children:e&&d&&n.jsxs(R.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"absolute bottom-20 right-0 w-72 bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 overflow-hidden",children:[n.jsx("div",{className:"p-4 bg-gradient-to-r from-emerald-600 to-cyan-600",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:n.jsx(fm,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-bold",children:"Need Support?"}),n.jsx("p",{className:"text-emerald-100 text-sm",children:"Call us directly from here"})]})]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-emerald-500":"bg-red-500"}`}),n.jsx("span",{className:"text-sm text-slate-400",children:a?"Connected to support":"Connecting..."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${i.length>0?"bg-emerald-500 animate-pulse":"bg-slate-500"}`}),n.jsx("span",{className:"text-sm text-slate-400",children:i.length>0?`${i.length} agent${i.length>1?"s":""} available`:"No agents online"})]}),n.jsxs(R.button,{whileHover:y?{scale:1.02}:{},whileTap:y?{scale:.98}:{},onClick:v,disabled:!y,className:`w-full py-3 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all ${y?"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white hover:shadow-lg hover:shadow-emerald-500/30":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:[n.jsx(wt,{className:"w-5 h-5"}),a?"Start Voice Call":"Connecting..."]}),n.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Free browser-based call  No phone needed"})]})]})}),d&&n.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:g,className:`w-16 h-16 rounded-full shadow-lg flex items-center justify-center transition-all ${e?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-emerald-500 to-cyan-500 hover:shadow-emerald-500/40 hover:shadow-xl"}`,children:e?n.jsx(ht,{className:"w-6 h-6 text-white"}):n.jsxs("div",{className:"relative",children:[n.jsx(wt,{className:"w-7 h-7 text-white"}),a&&i.length>0&&n.jsx(R.span,{animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0},className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-300 rounded-full border-2 border-emerald-500"})]})}),(u||h)&&n.jsxs(R.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center gap-3 px-5 py-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full shadow-lg",children:[n.jsx(R.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:n.jsx(we,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-white font-semibold",children:u?"Connecting...":"Calling..."}),n.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:w,className:"p-2 rounded-full bg-red-500 hover:bg-red-600",children:n.jsx(wo,{className:"w-5 h-5 text-white"})})]})]})},c3=({customerId:e,customerName:t,className:s="",size:r="sm"})=>{const{currentRole:a}=rs(),{callStatus:i,isSocketConnected:o,callCustomer:l}=Ua();if(a!=="ADMIN"&&a!=="STAFF")return null;const d=i===Re.IDLE&&o,u=()=>{d&&e&&l(e,t)},h={sm:"p-2",md:"p-3",lg:"p-4"},f={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return n.jsx(R.button,{whileHover:d?{scale:1.1}:{},whileTap:d?{scale:.95}:{},onClick:u,disabled:!d,title:d?`Call ${t||"customer"}`:"Cannot call right now",className:`
        ${h[r]} rounded-lg transition-all
        ${d?"hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-emerald-500 hover:text-emerald-600":"text-dark-400 cursor-not-allowed opacity-50"}
        ${s}
      `,children:o?n.jsx(wt,{className:f[r]}):n.jsx(we,{className:`${f[r]} animate-spin`})})},d3=()=>{var c,d;const{user:e}=Nt(),{currentCompany:t}=rs(),[s,r]=m.useState(null),[a,i]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const h=await zf.getCustomerDashboard();h.data.success&&r(h.data.data)}catch(h){console.error("Failed to fetch dashboard:",h)}finally{i(!1)}})()},[]);const o=u=>{const h={URGENT:"text-red-500 bg-red-100 dark:bg-red-900/30",HIGH:"text-orange-500 bg-orange-100 dark:bg-orange-900/30",MEDIUM:"text-amber-500 bg-amber-100 dark:bg-amber-900/30",LOW:"text-green-500 bg-green-100 dark:bg-green-900/30"};return h[u]||h.MEDIUM};if(a)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});const l=s==null?void 0:s.company;return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[n.jsxs("div",{children:[n.jsxs(R.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl lg:text-3xl font-bold",children:["Welcome, ",e==null?void 0:e.name,"! "]}),n.jsxs(R.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-dark-500 mt-1",children:["Here's your customer portal for ",t==null?void 0:t.name,"."]})]}),n.jsx(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(i3,{}),l&&n.jsx(mm,{targetUserId:l.ownerId,targetUserName:l.ownerName||l.name,label:"Message company"})]})})]}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"card overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border-slate-700",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center shadow-lg shadow-emerald-500/30",children:n.jsx(fm,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Need Help?"}),n.jsx("p",{className:"text-slate-400",children:"Connect with our support team instantly via voice call"})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),n.jsx("span",{children:"Free voice calls"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),n.jsx("span",{children:"No phone required"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),n.jsx("span",{children:"Direct browser calling"})]})]})]})}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"card overflow-hidden",children:[n.jsx("div",{className:"relative h-32 bg-gradient-to-br from-primary-500 via-accent-500 to-primary-600",children:n.jsx("div",{className:"absolute inset-0 bg-black/10"})}),n.jsxs("div",{className:"px-6 pb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4 -mt-12",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white dark:bg-dark-800 border-4 border-white dark:border-dark-800 flex items-center justify-center shadow-lg",children:l!=null&&l.logo?n.jsx("img",{src:l.logo,alt:l.name,className:"w-full h-full rounded-xl object-cover"}):n.jsx(Dn,{className:"w-12 h-12 text-primary-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold",children:l==null?void 0:l.name}),n.jsx("span",{className:"badge badge-success mt-1",children:"Customer"})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mt-6 pt-6 border-t border-dark-200 dark:border-dark-800",children:[(l==null?void 0:l.website)&&n.jsxs("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-dark-500 hover:text-primary-500 transition-colors",children:[n.jsx(H1,{className:"w-5 h-5"}),n.jsx("span",{className:"truncate",children:l.website.replace(/^https?:\/\//,"")}),n.jsx(hm,{className:"w-4 h-4"})]}),(l==null?void 0:l.email)&&n.jsxs("a",{href:`mailto:${l.email}`,className:"flex items-center gap-3 text-dark-500 hover:text-primary-500 transition-colors",children:[n.jsx(Rt,{className:"w-5 h-5"}),n.jsx("span",{className:"truncate",children:l.email})]}),(l==null?void 0:l.phone)&&n.jsxs("a",{href:`tel:${l.phone}`,className:"flex items-center gap-3 text-dark-500 hover:text-primary-500 transition-colors",children:[n.jsx(wt,{className:"w-5 h-5"}),n.jsx("span",{children:l.phone})]})]})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"My Tasks"}),n.jsx(je,{to:"/tasks",className:"text-sm text-primary-500 hover:text-primary-600",children:"View all"})]}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((c=s==null?void 0:s.myTasks)==null?void 0:c.length)>0?s.myTasks.map(u=>n.jsx("div",{className:"p-4 hover:bg-dark-50 dark:hover:bg-dark-800 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${o(u.priority)}`,children:n.jsx(Hr,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:u.title}),u.description&&n.jsx("p",{className:"text-sm text-dark-500 mt-1 line-clamp-2",children:u.description}),u.dueDate&&n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-dark-500",children:[n.jsx(ur,{className:"w-3 h-3"}),"Due: ",new Date(u.dueDate).toLocaleDateString()]})]})]})},u.id)):n.jsxs("div",{className:"p-8 text-center text-dark-500",children:[n.jsx(Hr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No tasks assigned to you"})]})})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsx(je,{to:"/activities",className:"text-sm text-primary-500 hover:text-primary-600",children:"View all"})]}),n.jsx("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:((d=s==null?void 0:s.recentActivities)==null?void 0:d.length)>0?s.recentActivities.map(u=>{var h;return n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0",children:n.jsx(Pt,{className:"w-4 h-4 text-primary-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm",children:u.title}),n.jsxs("p",{className:"text-xs text-dark-500",children:[(h=u.createdBy)==null?void 0:h.name,"  ",new Date(u.createdAt).toLocaleDateString()]})]})]},u.id)}):n.jsxs("div",{className:"text-center text-dark-500 py-8",children:[n.jsx(Pt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No recent activity"})]})})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(je,{to:"/issues",className:"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-br from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 transition-colors",children:[n.jsx(Dt,{className:"w-6 h-6"}),n.jsx("span",{className:"font-medium",children:"Create Issue"})]}),n.jsxs(je,{to:"/issues",className:"flex items-center gap-3 p-4 rounded-xl bg-dark-50 dark:bg-dark-800 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[n.jsx(Te,{className:"w-6 h-6 text-amber-500"}),n.jsx("span",{className:"font-medium",children:"My Issues"})]}),n.jsxs(je,{to:"/tasks",className:"flex items-center gap-3 p-4 rounded-xl bg-dark-50 dark:bg-dark-800 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[n.jsx(Hr,{className:"w-6 h-6 text-primary-500"}),n.jsx("span",{className:"font-medium",children:"My Tasks"})]}),n.jsxs(je,{to:"/activities",className:"flex items-center gap-3 p-4 rounded-xl bg-dark-50 dark:bg-dark-800 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[n.jsx(Pt,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Activity Feed"})]})]})]})]})},u3=()=>{const e=xs(),[t,s]=m.useState([]),[r,a]=m.useState(!0),[i,o]=m.useState(""),[l,c]=m.useState({page:1,limit:10,total:0,totalPages:0});m.useEffect(()=>{d()},[l.page,i]);const d=async()=>{try{const h=await rc.getAll({page:l.page,limit:l.limit,search:i});h.data.success&&(s(h.data.data.customers),c(f=>({...f,...h.data.data.pagination})))}catch{M.error("Failed to fetch customers")}finally{a(!1)}},u=async h=>{var f,y;if(window.confirm("Are you sure you want to remove this customer from your company?"))try{await rc.delete(h),M.success("Customer removed successfully"),d()}catch(g){M.error(((y=(f=g.response)==null?void 0:f.data)==null?void 0:y.message)||"Failed to remove customer")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Customers"}),n.jsx("p",{className:"text-dark-500",children:"Users who have joined your company as customers"})]})}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 flex items-start gap-3",children:[n.jsx(Te,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),n.jsx("div",{children:n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:'Customers are users who have joined your company. They can create support issues and view their assigned tasks. New customers can join by searching for your company and clicking "Join".'})})]}),n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),placeholder:"Search customers by name or email...",className:"input pl-12"})]})}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):t.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"table-container border-0",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Customer"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Phone"}),n.jsx("th",{children:"Joined"}),n.jsx("th",{})]})}),n.jsx("tbody",{children:t.map(h=>{var f;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"avatar avatar-sm",children:((f=h.name)==null?void 0:f.charAt(0))||"C"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:h.name}),h.bio&&n.jsx("p",{className:"text-xs text-dark-500 line-clamp-1",children:h.bio})]})]})}),n.jsx("td",{children:n.jsxs("a",{href:`mailto:${h.email}`,className:"text-dark-500 hover:text-primary-500 flex items-center gap-1",children:[n.jsx(Rt,{className:"w-4 h-4"}),h.email]})}),n.jsx("td",{children:h.phone?n.jsxs("a",{href:`tel:${h.phone}`,className:"text-dark-500 hover:text-primary-500 flex items-center gap-1",children:[n.jsx(wt,{className:"w-4 h-4"}),h.phone]}):n.jsx("span",{className:"text-dark-400",children:"-"})}),n.jsx("td",{children:n.jsxs("span",{className:"text-dark-500 flex items-center gap-1",children:[n.jsx(On,{className:"w-4 h-4"}),new Date(h.joinedAt).toLocaleDateString()]})}),n.jsx("td",{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(c3,{customerId:h.id,customerName:h.name}),n.jsx(mm,{targetUserId:h.userId,targetUserName:h.name,label:"Message customer"}),n.jsx("button",{onClick:()=>e(`/customers/${h.id}`),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",title:"View",children:n.jsx(Hs,{className:"w-4 h-4 text-dark-400"})}),n.jsx("button",{onClick:()=>u(h.userCompanyRoleId),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Remove from company",children:n.jsx(ps,{className:"w-4 h-4 text-red-500"})})]})})]},h.id)})})]})}),l.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-dark-200 dark:border-dark-800",children:[n.jsxs("p",{className:"text-sm text-dark-500",children:["Showing ",(l.page-1)*l.limit+1," to"," ",Math.min(l.page*l.limit,l.total)," of"," ",l.total," customers"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>c(h=>({...h,page:h.page-1})),disabled:l.page===1,className:"btn btn-secondary",children:"Previous"}),n.jsx("button",{onClick:()=>c(h=>({...h,page:h.page+1})),disabled:l.page===l.totalPages,className:"btn btn-secondary",children:"Next"})]})]})]}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(fr,{className:"w-16 h-16 mx-auto mb-4 text-dark-300"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No customers yet"}),n.jsx("p",{className:"text-dark-500 max-w-md mx-auto",children:"Customers will appear here when users join your company. Share your company name so users can search and join."})]})})]})},h3=()=>{var u,h,f;const{id:e}=_v(),t=xs(),[s,r]=m.useState(null),[a,i]=m.useState(!0);m.useEffect(()=>{o()},[e]);const o=async()=>{try{const y=await rc.getOne(e);y.data.success&&r(y.data.data.customer)}catch{M.error("Failed to fetch customer"),t("/customers")}finally{i(!1)}},l=async()=>{var y,g;if(window.confirm("Are you sure you want to remove this customer from your company?"))try{await rc.delete(e),M.success("Customer removed successfully"),t("/customers")}catch(v){M.error(((g=(y=v.response)==null?void 0:y.data)==null?void 0:g.message)||"Failed to remove customer")}},c=y=>{const g={OPEN:"bg-blue-100 dark:bg-blue-900/30 text-blue-600",IN_PROGRESS:"bg-amber-100 dark:bg-amber-900/30 text-amber-600",RESOLVED:"bg-green-100 dark:bg-green-900/30 text-green-600",CLOSED:"bg-gray-100 dark:bg-gray-900/30 text-gray-600"};return g[y]||g.OPEN},d=y=>{switch(y){case"RESOLVED":return n.jsx(_s,{className:"w-4 h-4 text-green-500"});case"CLOSED":return n.jsx(Ji,{className:"w-4 h-4 text-gray-500"});case"IN_PROGRESS":return n.jsx(ur,{className:"w-4 h-4 text-amber-500"});default:return n.jsx(Te,{className:"w-4 h-4 text-blue-500"})}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("button",{onClick:()=>t("/customers"),className:"flex items-center gap-2 text-dark-500 hover:text-dark-700 dark:hover:text-dark-300",children:[n.jsx(hc,{className:"w-5 h-5"}),"Back to Customers"]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card overflow-hidden",children:[n.jsx("div",{className:"relative h-32 bg-gradient-to-br from-primary-500 via-accent-500 to-primary-600"}),n.jsxs("div",{className:"px-6 pb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4 -mt-12",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white dark:bg-dark-800 border-4 border-white dark:border-dark-800 flex items-center justify-center text-3xl font-bold shadow-lg",children:s.avatar?n.jsx("img",{src:s.avatar,alt:s.name,className:"w-full h-full rounded-xl object-cover"}):n.jsx("span",{className:"text-primary-500",children:(u=s.name)==null?void 0:u.charAt(0)})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("h1",{className:"text-2xl font-bold",children:s.name}),n.jsx("span",{className:"badge badge-success",children:"Customer"})]}),s.bio&&n.jsx("p",{className:"text-dark-500",children:s.bio})]}),n.jsxs("button",{onClick:l,className:"btn btn-danger",children:[n.jsx(ps,{className:"w-4 h-4"}),"Remove"]})]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mt-6 pt-6 border-t border-dark-200 dark:border-dark-800",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:n.jsx(Rt,{className:"w-5 h-5 text-primary-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-dark-500",children:"Email"}),n.jsx("a",{href:`mailto:${s.email}`,className:"font-medium hover:text-primary-500",children:s.email})]})]}),s.phone&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(wt,{className:"w-5 h-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-dark-500",children:"Phone"}),n.jsx("a",{href:`tel:${s.phone}`,className:"font-medium hover:text-primary-500",children:s.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:n.jsx(On,{className:"w-5 h-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-dark-500",children:"Joined"}),n.jsx("p",{className:"font-medium",children:new Date(s.joinedAt).toLocaleDateString()})]})]})]})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Te,{className:"w-5 h-5 text-primary-500"}),"Issues (",((h=s.issues)==null?void 0:h.length)||0,")"]}),n.jsx(je,{to:"/issues",className:"text-sm text-primary-500 hover:text-primary-600",children:"View All Issues"})]}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((f=s.issues)==null?void 0:f.length)>0?s.issues.map(y=>{var g;return n.jsxs(je,{to:"/issues",className:"flex items-center gap-4 p-4 hover:bg-dark-50 dark:hover:bg-dark-800",children:[d(y.status),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:y.title}),n.jsxs("p",{className:"text-sm text-dark-500",children:[new Date(y.createdAt).toLocaleDateString(),"  ",((g=y._count)==null?void 0:g.calls)||0," calls"]})]}),n.jsx("span",{className:`badge text-xs ${c(y.status)}`,children:y.status.replace("_"," ")})]},y.id)}):n.jsxs("div",{className:"p-8 text-center text-dark-500",children:[n.jsx(Te,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No issues from this customer"})]})})]})]}):null},f3={title:{min:3,max:100,required:!0,label:"Title"},name:{min:2,max:100,required:!0,label:"Name"},firstName:{min:2,max:50,required:!0,label:"First Name"},lastName:{min:2,max:50,required:!0,label:"Last Name"},description:{min:0,max:1e3,required:!1,label:"Description"},content:{min:1,max:5e3,required:!0,label:"Content"},email:{min:5,max:255,required:!0,pattern:"email",label:"Email"},phone:{min:10,max:20,required:!1,pattern:"phone",label:"Phone"},company:{min:2,max:100,required:!1,label:"Company"},jobTitle:{min:2,max:100,required:!1,label:"Job Title"},department:{min:2,max:100,required:!1,label:"Department"},address:{min:5,max:255,required:!1,label:"Address"},value:{min:0,max:999999999,required:!1,label:"Value"},priority:{min:1,max:5,required:!1,label:"Priority"},password:{min:6,max:100,required:!0,label:"Password"}},m3=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,p3=/^[\d\s\-\+\(\)]{10,20}$/,x3=(e,t,s={})=>{var i;const r={...f3[e],...s},a=((i=t==null?void 0:t.toString())==null?void 0:i.trim())||"";if(r.required&&!a)return{valid:!1,error:`${r.label||e} is required`};if(!r.required&&!a)return{valid:!0,error:null};if(r.min!==void 0&&a.length<r.min)return{valid:!1,error:`${r.label||e} must be at least ${r.min} characters`};if(r.max!==void 0&&a.length>r.max)return{valid:!1,error:`${r.label||e} must be less than ${r.max} characters`};if(r.pattern==="email"&&!m3.test(a))return{valid:!1,error:"Please enter a valid email address"};if(r.pattern==="phone"&&a&&!p3.test(a))return{valid:!1,error:"Please enter a valid phone number"};if(typeof t=="number"){if(r.min!==void 0&&t<r.min)return{valid:!1,error:`${r.label||e} must be at least ${r.min}`};if(r.max!==void 0&&t>r.max)return{valid:!1,error:`${r.label||e} must be less than ${r.max}`}}return{valid:!0,error:null}},Sj=(e,t=!0)=>{if(!e)return{valid:!0,error:null};const s=new Date(e);s.setHours(0,0,0,0);const r=new Date;if(r.setHours(0,0,0,0),t){if(s<r)return{valid:!1,error:"Date cannot be in the past"}}else if(s<=r)return{valid:!1,error:"Date must be in the future"};return{valid:!0,error:null}},Sm=()=>new Date().toISOString().split("T")[0],To=(e,t)=>{const s={};let r=!0;for(const[a,i]of Object.entries(t)){const o=e[a],l=x3(a,o,i);if(l.valid||(s[a]=l.error,r=!1),i.futureDate&&o){const c=Sj(o,i.allowToday!==!1);c.valid||(s[a]=c.error,r=!1)}}return{isValid:r,errors:s}},g3=()=>{const e=xs(),[t,s]=m.useState([]),[r,a]=m.useState(!0),[i,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState({page:1,limit:10,total:0,totalPages:0}),[h,f]=m.useState(!1),[y,g]=m.useState(null),[v,w]=m.useState({title:"",description:"",value:"",status:"NEW",source:"OTHER",priority:3,expectedCloseDate:""}),[b,p]=m.useState(!1),[x,j]=m.useState({}),k={title:{required:!0,min:3,max:100,label:"Title"},description:{required:!1,max:1e3,label:"Description"},value:{required:!1,min:0,max:999999999,label:"Value"},expectedCloseDate:{required:!1,futureDate:!0,allowToday:!0,label:"Expected Close Date"}};m.useEffect(()=>{N()},[d.page,i,l]);const N=async()=>{try{const T=await oa.getAll({page:d.page,limit:d.limit,search:i,status:l});T.data.success&&(s(T.data.data.leads),u(E=>({...E,...T.data.data.pagination})))}catch{M.error("Failed to fetch leads")}finally{a(!1)}},S=async T=>{var X,Y;T.preventDefault();const{isValid:E,errors:F}=To(v,k);if(j(F),!E){M.error("Please fix the validation errors");return}p(!0);try{const $={...v,value:parseFloat(v.value)||0,priority:parseInt(v.priority),expectedCloseDate:v.expectedCloseDate||null};y?(await oa.update(y.id,$),M.success("Lead updated successfully")):(await oa.create($),M.success("Lead created successfully")),f(!1),g(null),w({title:"",description:"",value:"",status:"NEW",source:"OTHER",priority:3,expectedCloseDate:""}),j({}),N()}catch($){M.error(((Y=(X=$.response)==null?void 0:X.data)==null?void 0:Y.message)||"Failed to save lead")}finally{p(!1)}},C=T=>{var E;g(T),w({title:T.title,description:T.description||"",value:((E=T.value)==null?void 0:E.toString())||"",status:T.status,source:T.source,priority:T.priority,expectedCloseDate:T.expectedCloseDate?T.expectedCloseDate.split("T")[0]:""}),j({}),f(!0)},L=async T=>{var E,F;if(window.confirm("Are you sure you want to delete this lead?"))try{await oa.delete(T),M.success("Lead deleted successfully"),N()}catch(X){M.error(((F=(E=X.response)==null?void 0:E.data)==null?void 0:F.message)||"Failed to delete lead")}},V=T=>{const E={NEW:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",CONTACTED:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",QUALIFIED:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",PROPOSAL:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",NEGOTIATION:"bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",WON:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",LOST:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"};return E[T]||E.NEW},U=T=>({1:"Very Low",2:"Low",3:"Medium",4:"High",5:"Very High"})[T]||"Medium";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Leads"}),n.jsx("p",{className:"text-dark-500",children:"Track and manage your sales pipeline"})]}),n.jsxs("button",{onClick:()=>{g(null),w({title:"",description:"",value:"",status:"NEW",source:"OTHER",priority:3,expectedCloseDate:""}),j({}),f(!0)},className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Lead"]})]}),n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",value:i,onChange:T=>o(T.target.value),placeholder:"Search leads...",className:"input pl-12"})]}),n.jsxs("select",{value:l,onChange:T=>c(T.target.value),className:"input w-full sm:w-48",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"QUALIFIED",children:"Qualified"}),n.jsx("option",{value:"PROPOSAL",children:"Proposal"}),n.jsx("option",{value:"NEGOTIATION",children:"Negotiation"}),n.jsx("option",{value:"WON",children:"Won"}),n.jsx("option",{value:"LOST",children:"Lost"})]})]})}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):t.length>0?n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(T=>{var E;return n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card p-5 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white font-bold text-lg",children:T.title.charAt(0)}),n.jsx("span",{className:`badge ${V(T.status)}`,children:T.status})]}),n.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1",children:T.title}),T.description&&n.jsx("p",{className:"text-dark-500 text-sm mb-4 line-clamp-2",children:T.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-dark-500 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(zn,{className:"w-4 h-4"}),"$",((E=T.value)==null?void 0:E.toLocaleString())||0]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(dt,{className:"w-4 h-4"}),T.source]})]}),T.customer&&n.jsxs("div",{className:"text-sm text-dark-500 mb-4",children:["Customer: ",T.customer.name]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-dark-100 dark:border-dark-800",children:[n.jsxs("span",{className:"text-xs text-dark-500",children:["Priority: ",U(T.priority)]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>e(`/leads/${T.id}`),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(Hs,{className:"w-4 h-4 text-dark-400"})}),n.jsx("button",{onClick:()=>C(T),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(jo,{className:"w-4 h-4 text-dark-400"})}),n.jsx("button",{onClick:()=>L(T.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:n.jsx(ps,{className:"w-4 h-4 text-red-500"})})]})]})]},T.id)})}):n.jsxs("div",{className:"card text-center py-16",children:[n.jsx(dt,{className:"w-16 h-16 mx-auto mb-4 text-dark-300"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No leads found"}),n.jsx("p",{className:"text-dark-500 mb-6",children:"Start building your pipeline by adding leads"}),n.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Lead"]})]}),d.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("p",{className:"text-sm text-dark-500",children:["Showing ",(d.page-1)*d.limit+1," to"," ",Math.min(d.page*d.limit,d.total)," of"," ",d.total," results"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>u(T=>({...T,page:T.page-1})),disabled:d.page===1,className:"btn btn-secondary",children:"Previous"}),n.jsx("button",{onClick:()=>u(T=>({...T,page:T.page+1})),disabled:d.page===d.totalPages,className:"btn btn-secondary",children:"Next"})]})]})]}),n.jsx(De,{children:h&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>f(!1),children:n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:T=>T.stopPropagation(),className:"w-full max-w-lg bg-white dark:bg-dark-900 rounded-2xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-xl font-semibold",children:y?"Edit Lead":"Add Lead"}),n.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${v.title.length>90?"text-amber-500":"text-dark-400"}`,children:[v.title.length,"/100"]})]}),n.jsx("input",{type:"text",value:v.title,onChange:T=>{T.target.value.length<=100&&(w(E=>({...E,title:T.target.value})),j(E=>({...E,title:null})))},required:!0,minLength:3,maxLength:100,className:`input ${x.title?"border-red-500 focus:ring-red-500":""}`,placeholder:"Lead title (min 3 characters)"}),x.title&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),x.title]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"label",children:"Description"}),n.jsxs("span",{className:`text-xs ${v.description.length>900?"text-amber-500":"text-dark-400"}`,children:[v.description.length,"/1000"]})]}),n.jsx("textarea",{value:v.description,onChange:T=>{T.target.value.length<=1e3&&w(E=>({...E,description:T.target.value}))},maxLength:1e3,className:`input min-h-[100px] ${x.description?"border-red-500":""}`,placeholder:"Lead description"}),x.description&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),x.description]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Value ($)"}),n.jsx("input",{type:"number",value:v.value,onChange:T=>w(E=>({...E,value:T.target.value})),className:"input",placeholder:"0",min:"0",max:"999999999"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Priority"}),n.jsxs("select",{value:v.priority,onChange:T=>w(E=>({...E,priority:T.target.value})),className:"input",children:[n.jsx("option",{value:"1",children:"Very Low"}),n.jsx("option",{value:"2",children:"Low"}),n.jsx("option",{value:"3",children:"Medium"}),n.jsx("option",{value:"4",children:"High"}),n.jsx("option",{value:"5",children:"Very High"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Status"}),n.jsxs("select",{value:v.status,onChange:T=>w(E=>({...E,status:T.target.value})),className:"input",children:[n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"QUALIFIED",children:"Qualified"}),n.jsx("option",{value:"PROPOSAL",children:"Proposal"}),n.jsx("option",{value:"NEGOTIATION",children:"Negotiation"}),n.jsx("option",{value:"WON",children:"Won"}),n.jsx("option",{value:"LOST",children:"Lost"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Source"}),n.jsxs("select",{value:v.source,onChange:T=>w(E=>({...E,source:T.target.value})),className:"input",children:[n.jsx("option",{value:"WEBSITE",children:"Website"}),n.jsx("option",{value:"REFERRAL",children:"Referral"}),n.jsx("option",{value:"SOCIAL_MEDIA",children:"Social Media"}),n.jsx("option",{value:"EMAIL_CAMPAIGN",children:"Email Campaign"}),n.jsx("option",{value:"COLD_CALL",children:"Cold Call"}),n.jsx("option",{value:"TRADE_SHOW",children:"Trade Show"}),n.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Expected Close Date"}),n.jsx("input",{type:"date",value:v.expectedCloseDate,onChange:T=>{w(E=>({...E,expectedCloseDate:T.target.value})),j(E=>({...E,expectedCloseDate:null}))},min:Sm(),className:`input ${x.expectedCloseDate?"border-red-500 focus:ring-red-500":""}`}),x.expectedCloseDate&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),x.expectedCloseDate]}),n.jsx("p",{className:"text-xs text-dark-400 mt-1",children:"Cannot select a past date"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{f(!1),j({})},className:"btn btn-secondary flex-1",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:b,className:"btn btn-primary flex-1",children:b?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):y?"Update Lead":"Add Lead"})]})]})]})})})]})},y3=()=>{var d,u,h,f,y,g;const{id:e}=_v(),t=xs(),[s,r]=m.useState(null),[a,i]=m.useState(!0);m.useEffect(()=>{o()},[e]);const o=async()=>{try{const v=await oa.getOne(e);v.data.success&&r(v.data.data.lead)}catch{M.error("Failed to fetch lead"),t("/leads")}finally{i(!1)}},l=async()=>{var v,w;if(window.confirm("Are you sure you want to delete this lead?"))try{await oa.delete(e),M.success("Lead deleted successfully"),t("/leads")}catch(b){M.error(((w=(v=b.response)==null?void 0:v.data)==null?void 0:w.message)||"Failed to delete lead")}},c=v=>{const w={NEW:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",CONTACTED:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",QUALIFIED:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",PROPOSAL:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",NEGOTIATION:"bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",WON:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",LOST:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"};return w[v]||w.NEW};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("button",{onClick:()=>t("/leads"),className:"flex items-center gap-2 text-dark-500 hover:text-dark-700 dark:hover:text-dark-300",children:[n.jsx(hc,{className:"w-5 h-5"}),"Back to Leads"]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white font-bold text-2xl",children:s.title.charAt(0)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h1",{className:"text-2xl font-bold",children:s.title}),n.jsx("span",{className:`badge ${c(s.status)}`,children:s.status})]}),s.description&&n.jsx("p",{className:"text-dark-500 mb-4",children:s.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-dark-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zn,{className:"w-4 h-4"}),"$",((d=s.value)==null?void 0:d.toLocaleString())||0]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dt,{className:"w-4 h-4"}),s.source]}),s.expectedCloseDate&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(On,{className:"w-4 h-4"}),"Expected: ",new Date(s.expectedCloseDate).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"btn btn-secondary",children:[n.jsx(jo,{className:"w-4 h-4"}),"Edit"]}),n.jsxs("button",{onClick:l,className:"btn btn-danger",children:[n.jsx(ps,{className:"w-4 h-4"}),"Delete"]})]})]}),n.jsxs("div",{className:"grid sm:grid-cols-4 gap-4 mt-6 pt-6 border-t border-dark-200 dark:border-dark-800",children:[s.customer&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:n.jsx(hr,{className:"w-5 h-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-dark-500",children:"Customer"}),n.jsx("p",{className:"font-medium",children:s.customer.name})]})]}),s.assignedTo&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(hr,{className:"w-5 h-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-dark-500",children:"Assigned To"}),n.jsx("p",{className:"font-medium",children:s.assignedTo.name})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:n.jsx(dt,{className:"w-5 h-5 text-amber-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-dark-500",children:"Priority"}),n.jsxs("p",{className:"font-medium",children:[s.priority,"/5"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:n.jsx(On,{className:"w-5 h-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-dark-500",children:"Created"}),n.jsx("p",{className:"font-medium",children:new Date(s.createdAt).toLocaleDateString()})]})]})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:[n.jsx("div",{className:"p-6 border-b border-dark-200 dark:border-dark-800",children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Hr,{className:"w-5 h-5 text-amber-500"}),"Tasks (",((u=s.tasks)==null?void 0:u.length)||0,")"]})}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((h=s.tasks)==null?void 0:h.length)>0?s.tasks.map(v=>n.jsxs("div",{className:"p-4",children:[n.jsx("p",{className:"font-medium",children:v.title}),n.jsxs("p",{className:"text-sm text-dark-500",children:["Status: ",v.status,"  Priority: ",v.priority]})]},v.id)):n.jsx("div",{className:"p-8 text-center text-dark-500",children:"No tasks for this lead"})})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[n.jsx("div",{className:"p-6 border-b border-dark-200 dark:border-dark-800",children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Ws,{className:"w-5 h-5 text-blue-500"}),"Notes (",((f=s.notes)==null?void 0:f.length)||0,")"]})}),n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:((y=s.notes)==null?void 0:y.length)>0?s.notes.map(v=>n.jsxs("div",{className:"p-4",children:[n.jsx("p",{className:"text-dark-700 dark:text-dark-300",children:v.content}),n.jsx("p",{className:"text-xs text-dark-500 mt-2",children:new Date(v.createdAt).toLocaleString()})]},v.id)):n.jsx("div",{className:"p-8 text-center text-dark-500",children:"No notes for this lead"})})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:[n.jsx("div",{className:"p-6 border-b border-dark-200 dark:border-dark-800",children:n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Pt,{className:"w-5 h-5 text-primary-500"}),"Activity Timeline"]})}),n.jsx("div",{className:"p-6",children:((g=s.activities)==null?void 0:g.length)>0?n.jsx("div",{className:"space-y-6",children:s.activities.map((v,w)=>{var b;return n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:n.jsx(Pt,{className:"w-5 h-5 text-primary-500"})}),w!==s.activities.length-1&&n.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 w-0.5 h-full bg-dark-200 dark:bg-dark-700"})]}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsx("p",{className:"font-medium",children:v.title}),n.jsxs("p",{className:"text-sm text-dark-500",children:[(b=v.createdBy)==null?void 0:b.name,"  ",new Date(v.createdAt).toLocaleString()]})]})]},v.id)})}):n.jsx("div",{className:"text-center text-dark-500 py-8",children:"No activity recorded"})})]})]}):null},v3=()=>{const[e,t]=m.useState([]),[s,r]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState({page:1,limit:12,total:0,totalPages:0}),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,y]=m.useState({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",department:"",isPrimary:!1}),[g,v]=m.useState(!1),[w,b]=m.useState({}),p={firstName:{required:!0,min:2,max:50,label:"First Name"},lastName:{required:!0,min:2,max:50,label:"Last Name"},email:{required:!0,min:5,max:255,pattern:"email",label:"Email"},phone:{required:!1,min:10,max:20,pattern:"phone",label:"Phone"},jobTitle:{required:!1,min:2,max:100,label:"Job Title"},department:{required:!1,min:2,max:100,label:"Department"}};m.useEffect(()=>{x()},[o.page,a]);const x=async()=>{try{const C=await Ko.getAll({page:o.page,limit:o.limit,search:a});C.data.success&&(t(C.data.data.contacts),l(L=>({...L,...C.data.data.pagination})))}catch{M.error("Failed to fetch contacts")}finally{r(!1)}},j=async C=>{var U,T;C.preventDefault();const{isValid:L,errors:V}=To(f,p);if(b(V),!L){M.error("Please fix the validation errors");return}v(!0);try{u?(await Ko.update(u.id,f),M.success("Contact updated successfully")):(await Ko.create(f),M.success("Contact created successfully")),d(!1),h(null),k(),x()}catch(E){M.error(((T=(U=E.response)==null?void 0:U.data)==null?void 0:T.message)||"Failed to save contact")}finally{v(!1)}},k=()=>{y({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",department:"",isPrimary:!1}),b({})},N=C=>{h(C),y({firstName:C.firstName,lastName:C.lastName,email:C.email,phone:C.phone||"",jobTitle:C.jobTitle||"",department:C.department||"",isPrimary:C.isPrimary}),b({}),d(!0)},S=async C=>{var L,V;if(window.confirm("Are you sure you want to delete this contact?"))try{await Ko.delete(C),M.success("Contact deleted successfully"),x()}catch(U){M.error(((V=(L=U.response)==null?void 0:L.data)==null?void 0:V.message)||"Failed to delete contact")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Contacts"}),n.jsx("p",{className:"text-dark-500",children:"Manage your contact directory"})]}),n.jsxs("button",{onClick:()=>{h(null),k(),d(!0)},className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Contact"]})]}),n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",value:a,onChange:C=>i(C.target.value),placeholder:"Search contacts...",className:"input pl-12"})]})}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):e.length>0?n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(C=>n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"card p-5 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"avatar avatar-lg",children:[C.firstName.charAt(0),C.lastName.charAt(0)]}),C.isPrimary&&n.jsx("span",{className:"badge badge-primary",children:"Primary"})]}),n.jsxs("h3",{className:"font-semibold text-lg mb-1",children:[C.firstName," ",C.lastName]}),C.jobTitle&&n.jsxs("p",{className:"text-dark-500 text-sm flex items-center gap-1 mb-3",children:[n.jsx(vo,{className:"w-4 h-4"}),C.jobTitle]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("a",{href:`mailto:${C.email}`,className:"flex items-center gap-2 text-dark-500 hover:text-primary-500",children:[n.jsx(Rt,{className:"w-4 h-4"}),n.jsx("span",{className:"truncate",children:C.email})]}),C.phone&&n.jsxs("a",{href:`tel:${C.phone}`,className:"flex items-center gap-2 text-dark-500 hover:text-primary-500",children:[n.jsx(wt,{className:"w-4 h-4"}),C.phone]})]}),C.customer&&n.jsx("div",{className:"mt-4 pt-4 border-t border-dark-100 dark:border-dark-800",children:n.jsxs("p",{className:"text-xs text-dark-500",children:["Company: ",C.customer.name]})}),n.jsxs("div",{className:"flex justify-end gap-1 mt-4",children:[n.jsx("button",{onClick:()=>N(C),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(jo,{className:"w-4 h-4 text-dark-400"})}),n.jsx("button",{onClick:()=>S(C.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:n.jsx(ps,{className:"w-4 h-4 text-red-500"})})]})]},C.id))}):n.jsxs("div",{className:"card text-center py-16",children:[n.jsx(U1,{className:"w-16 h-16 mx-auto mb-4 text-dark-300"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No contacts found"}),n.jsx("p",{className:"text-dark-500 mb-6",children:"Start by adding your first contact"}),n.jsxs("button",{onClick:()=>d(!0),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Contact"]})]}),o.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("p",{className:"text-sm text-dark-500",children:["Page ",o.page," of ",o.totalPages]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>l(C=>({...C,page:C.page-1})),disabled:o.page===1,className:"btn btn-secondary",children:"Previous"}),n.jsx("button",{onClick:()=>l(C=>({...C,page:C.page+1})),disabled:o.page===o.totalPages,className:"btn btn-secondary",children:"Next"})]})]})]}),n.jsx(De,{children:c&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:C=>C.stopPropagation(),className:"w-full max-w-lg bg-white dark:bg-dark-900 rounded-2xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-xl font-semibold",children:u?"Edit Contact":"Add Contact"}),n.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["First Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${f.firstName.length>45?"text-amber-500":"text-dark-400"}`,children:[f.firstName.length,"/50"]})]}),n.jsx("input",{type:"text",value:f.firstName,onChange:C=>{C.target.value.length<=50&&(y(L=>({...L,firstName:C.target.value})),b(L=>({...L,firstName:null})))},required:!0,minLength:2,maxLength:50,className:`input ${w.firstName?"border-red-500 focus:ring-red-500":""}`,placeholder:"Min 2 characters"}),w.firstName&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),w.firstName]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["Last Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${f.lastName.length>45?"text-amber-500":"text-dark-400"}`,children:[f.lastName.length,"/50"]})]}),n.jsx("input",{type:"text",value:f.lastName,onChange:C=>{C.target.value.length<=50&&(y(L=>({...L,lastName:C.target.value})),b(L=>({...L,lastName:null})))},required:!0,minLength:2,maxLength:50,className:`input ${w.lastName?"border-red-500 focus:ring-red-500":""}`,placeholder:"Min 2 characters"}),w.lastName&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),w.lastName]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${f.email.length>230?"text-amber-500":"text-dark-400"}`,children:[f.email.length,"/255"]})]}),n.jsx("input",{type:"email",value:f.email,onChange:C=>{C.target.value.length<=255&&(y(L=>({...L,email:C.target.value})),b(L=>({...L,email:null})))},required:!0,maxLength:255,className:`input ${w.email?"border-red-500 focus:ring-red-500":""}`,placeholder:"email@example.com"}),w.email&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),w.email]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"label",children:"Phone"}),n.jsxs("span",{className:`text-xs ${f.phone.length>18?"text-amber-500":"text-dark-400"}`,children:[f.phone.length,"/20"]})]}),n.jsx("input",{type:"tel",value:f.phone,onChange:C=>{C.target.value.length<=20&&(y(L=>({...L,phone:C.target.value})),b(L=>({...L,phone:null})))},maxLength:20,className:`input ${w.phone?"border-red-500 focus:ring-red-500":""}`,placeholder:"+1 (555) 000-0000"}),w.phone&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),w.phone]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"label",children:"Job Title"}),n.jsxs("span",{className:`text-xs ${f.jobTitle.length>90?"text-amber-500":"text-dark-400"}`,children:[f.jobTitle.length,"/100"]})]}),n.jsx("input",{type:"text",value:f.jobTitle,onChange:C=>{C.target.value.length<=100&&y(L=>({...L,jobTitle:C.target.value}))},maxLength:100,className:"input"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"label",children:"Department"}),n.jsxs("span",{className:`text-xs ${f.department.length>90?"text-amber-500":"text-dark-400"}`,children:[f.department.length,"/100"]})]}),n.jsx("input",{type:"text",value:f.department,onChange:C=>{C.target.value.length<=100&&y(L=>({...L,department:C.target.value}))},maxLength:100,className:"input"})]})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.isPrimary,onChange:C=>y(L=>({...L,isPrimary:C.target.checked})),className:"w-4 h-4 rounded"}),n.jsx("span",{className:"text-sm",children:"Mark as primary contact"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{d(!1),b({})},className:"btn btn-secondary flex-1",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:g,className:"btn btn-primary flex-1",children:g?n.jsx(we,{className:"w-5 h-5 animate-spin"}):u?"Update":"Add"})]})]})]})})})]})},b3=()=>{const[e,t]=m.useState([]),[s,r]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState(""),[c,d]=m.useState({page:1,limit:10,total:0,totalPages:0}),[u,h]=m.useState(!1),[f,y]=m.useState(null),[g,v]=m.useState({title:"",description:"",status:"TODO",priority:"MEDIUM",dueDate:""}),[w,b]=m.useState(!1),[p,x]=m.useState({}),j={title:{required:!0,min:3,max:100,label:"Title"},description:{required:!1,max:500,label:"Description"},dueDate:{required:!1,futureDate:!0,allowToday:!0,label:"Due Date"}};m.useEffect(()=>{k()},[c.page,a,o]);const k=async()=>{try{const E=await ei.getAll({page:c.page,limit:c.limit,search:a,status:o});E.data.success&&(t(E.data.data.tasks),d(F=>({...F,...E.data.data.pagination})))}catch{M.error("Failed to fetch tasks")}finally{r(!1)}},N=async E=>{var Y,$;E.preventDefault();const{isValid:F,errors:X}=To(g,j);if(x(X),!F){M.error("Please fix the validation errors");return}b(!0);try{f?(await ei.update(f.id,g),M.success("Task updated successfully")):(await ei.create(g),M.success("Task created successfully")),h(!1),y(null),S(),k()}catch(D){M.error((($=(Y=D.response)==null?void 0:Y.data)==null?void 0:$.message)||"Failed to save task")}finally{b(!1)}},S=()=>{v({title:"",description:"",status:"TODO",priority:"MEDIUM",dueDate:""}),x({})},C=E=>{y(E),v({title:E.title,description:E.description||"",status:E.status,priority:E.priority,dueDate:E.dueDate?E.dueDate.split("T")[0]:""}),x({}),h(!0)},L=async E=>{var F,X;if(window.confirm("Are you sure you want to delete this task?"))try{await ei.delete(E),M.success("Task deleted successfully"),k()}catch(Y){M.error(((X=(F=Y.response)==null?void 0:F.data)==null?void 0:X.message)||"Failed to delete task")}},V=async(E,F)=>{try{await ei.update(E.id,{status:F}),M.success("Task status updated"),k()}catch{M.error("Failed to update status")}},U=E=>{switch(E){case"COMPLETED":return n.jsx(_s,{className:"w-5 h-5 text-green-500"});case"IN_PROGRESS":return n.jsx(ur,{className:"w-5 h-5 text-amber-500"});case"CANCELLED":return n.jsx(ht,{className:"w-5 h-5 text-red-500"});default:return n.jsx(n_,{className:"w-5 h-5 text-dark-400"})}},T=E=>{const F={URGENT:"bg-red-100 dark:bg-red-900/30 text-red-600",HIGH:"bg-orange-100 dark:bg-orange-900/30 text-orange-600",MEDIUM:"bg-amber-100 dark:bg-amber-900/30 text-amber-600",LOW:"bg-green-100 dark:bg-green-900/30 text-green-600"};return F[E]||F.MEDIUM};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Tasks"}),n.jsx("p",{className:"text-dark-500",children:"Manage your tasks and to-dos"})]}),n.jsxs("button",{onClick:()=>{y(null),S(),h(!0)},className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Task"]})]}),n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",value:a,onChange:E=>i(E.target.value),placeholder:"Search tasks...",className:"input pl-12"})]}),n.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"input w-full sm:w-48",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"TODO",children:"To Do"}),n.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),n.jsx("option",{value:"COMPLETED",children:"Completed"}),n.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):e.length>0?n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:e.map(E=>n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-start gap-4 p-4 hover:bg-dark-50 dark:hover:bg-dark-800/50",children:[n.jsx("button",{onClick:()=>V(E,E.status==="COMPLETED"?"TODO":"COMPLETED"),className:"mt-1",children:U(E.status)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:`font-medium ${E.status==="COMPLETED"?"line-through text-dark-400":""}`,children:E.title}),n.jsx("span",{className:`badge text-xs ${T(E.priority)}`,children:E.priority})]}),E.description&&n.jsx("p",{className:"text-sm text-dark-500 line-clamp-1",children:E.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-xs text-dark-500",children:[E.dueDate&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ur,{className:"w-3 h-3"}),new Date(E.dueDate).toLocaleDateString()]}),E.assignedTo&&n.jsxs("span",{children:["Assigned to: ",E.assignedTo.name]}),E.customer&&n.jsxs("span",{children:["Customer: ",E.customer.name]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>C(E),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg",children:n.jsx(jo,{className:"w-4 h-4 text-dark-400"})}),n.jsx("button",{onClick:()=>L(E.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:n.jsx(ps,{className:"w-4 h-4 text-red-500"})})]})]},E.id))}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Hr,{className:"w-16 h-16 mx-auto mb-4 text-dark-300"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No tasks found"}),n.jsx("p",{className:"text-dark-500 mb-6",children:"Create your first task to get started"}),n.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Task"]})]}),c.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-dark-200 dark:border-dark-800",children:[n.jsxs("p",{className:"text-sm text-dark-500",children:["Page ",c.page," of ",c.totalPages]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>d(E=>({...E,page:E.page-1})),disabled:c.page===1,className:"btn btn-secondary",children:"Previous"}),n.jsx("button",{onClick:()=>d(E=>({...E,page:E.page+1})),disabled:c.page===c.totalPages,className:"btn btn-secondary",children:"Next"})]})]})]}),n.jsx(De,{children:u&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>h(!1),children:n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:E=>E.stopPropagation(),className:"w-full max-w-lg bg-white dark:bg-dark-900 rounded-2xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-xl font-semibold",children:f?"Edit Task":"Add Task"}),n.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${g.title.length>90?"text-amber-500":"text-dark-400"}`,children:[g.title.length,"/100"]})]}),n.jsx("input",{type:"text",value:g.title,onChange:E=>{E.target.value.length<=100&&(v(F=>({...F,title:E.target.value})),x(F=>({...F,title:null})))},required:!0,minLength:3,maxLength:100,className:`input ${p.title?"border-red-500 focus:ring-red-500":""}`,placeholder:"Task title (min 3 characters)"}),p.title&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),p.title]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"label",children:"Description"}),n.jsxs("span",{className:`text-xs ${g.description.length>450?"text-amber-500":"text-dark-400"}`,children:[g.description.length,"/500"]})]}),n.jsx("textarea",{value:g.description,onChange:E=>{E.target.value.length<=500&&v(F=>({...F,description:E.target.value}))},maxLength:500,className:`input min-h-[100px] ${p.description?"border-red-500":""}`,placeholder:"Task description"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Status"}),n.jsxs("select",{value:g.status,onChange:E=>v(F=>({...F,status:E.target.value})),className:"input",children:[n.jsx("option",{value:"TODO",children:"To Do"}),n.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),n.jsx("option",{value:"COMPLETED",children:"Completed"}),n.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Priority"}),n.jsxs("select",{value:g.priority,onChange:E=>v(F=>({...F,priority:E.target.value})),className:"input",children:[n.jsx("option",{value:"LOW",children:"Low"}),n.jsx("option",{value:"MEDIUM",children:"Medium"}),n.jsx("option",{value:"HIGH",children:"High"}),n.jsx("option",{value:"URGENT",children:"Urgent"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Due Date"}),n.jsx("input",{type:"date",value:g.dueDate,onChange:E=>{v(F=>({...F,dueDate:E.target.value})),x(F=>({...F,dueDate:null}))},min:Sm(),className:`input ${p.dueDate?"border-red-500 focus:ring-red-500":""}`}),p.dueDate&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),p.dueDate]}),n.jsx("p",{className:"text-xs text-dark-400 mt-1",children:"Cannot select a past date"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{h(!1),x({})},className:"btn btn-secondary flex-1",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:w,className:"btn btn-primary flex-1",children:w?n.jsx(we,{className:"w-5 h-5 animate-spin"}):f?"Update Task":"Add Task"})]})]})]})})})]})},j3=()=>{const[e,t]=m.useState([]),[s,r]=m.useState(!0),[a,i]=m.useState({page:1,limit:12,total:0,totalPages:0}),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState({content:"",isPinned:!1}),[f,y]=m.useState(!1),[g,v]=m.useState({}),w={content:{required:!0,min:1,max:5e3,label:"Content"}};m.useEffect(()=>{b()},[a.page]);const b=async()=>{try{const N=await ti.getAll({page:a.page,limit:a.limit});N.data.success&&(t(N.data.data.notes),i(S=>({...S,...N.data.data.pagination})))}catch{M.error("Failed to fetch notes")}finally{r(!1)}},p=async N=>{var L,V;N.preventDefault();const{isValid:S,errors:C}=To(u,w);if(v(C),!S){M.error("Please fix the validation errors");return}y(!0);try{c?(await ti.update(c.id,u),M.success("Note updated successfully")):(await ti.create(u),M.success("Note created successfully")),l(!1),d(null),h({content:"",isPinned:!1}),v({}),b()}catch(U){M.error(((V=(L=U.response)==null?void 0:L.data)==null?void 0:V.message)||"Failed to save note")}finally{y(!1)}},x=N=>{d(N),h({content:N.content,isPinned:N.isPinned}),v({}),l(!0)},j=async N=>{var S,C;if(window.confirm("Are you sure you want to delete this note?"))try{await ti.delete(N),M.success("Note deleted successfully"),b()}catch(L){M.error(((C=(S=L.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to delete note")}},k=async N=>{try{await ti.update(N.id,{isPinned:!N.isPinned}),b()}catch{M.error("Failed to update note")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Notes"}),n.jsx("p",{className:"text-dark-500",children:"Keep track of important information"})]}),n.jsxs("button",{onClick:()=>{d(null),h({content:"",isPinned:!1}),v({}),l(!0)},className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Note"]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):e.length>0?n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(N=>n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`card p-5 hover:shadow-lg transition-shadow ${N.isPinned?"border-2 border-amber-400":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[N.isPinned&&n.jsx(bx,{className:"w-4 h-4 text-amber-500 fill-amber-500"}),n.jsx("span",{className:"text-xs text-dark-500",children:new Date(N.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>k(N),className:`p-1.5 rounded-lg ${N.isPinned?"bg-amber-100 dark:bg-amber-900/30":"hover:bg-dark-100 dark:hover:bg-dark-800"}`,children:n.jsx(bx,{className:`w-4 h-4 ${N.isPinned?"text-amber-500":"text-dark-400"}`})}),n.jsx("button",{onClick:()=>x(N),className:"p-1.5 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(jo,{className:"w-4 h-4 text-dark-400"})}),n.jsx("button",{onClick:()=>j(N.id),className:"p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:n.jsx(ps,{className:"w-4 h-4 text-red-500"})})]})]}),n.jsx("p",{className:"text-dark-700 dark:text-dark-300 whitespace-pre-wrap line-clamp-6",children:N.content}),(N.customer||N.lead)&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-100 dark:border-dark-800 text-xs text-dark-500",children:[N.customer&&n.jsxs("p",{children:["Customer: ",N.customer.name]}),N.lead&&n.jsxs("p",{children:["Lead: ",N.lead.title]})]})]},N.id))}):n.jsxs("div",{className:"card text-center py-16",children:[n.jsx(Ws,{className:"w-16 h-16 mx-auto mb-4 text-dark-300"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No notes yet"}),n.jsx("p",{className:"text-dark-500 mb-6",children:"Start taking notes to keep track of important information"}),n.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),"Add Note"]})]}),a.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("p",{className:"text-sm text-dark-500",children:["Page ",a.page," of ",a.totalPages]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>i(N=>({...N,page:N.page-1})),disabled:a.page===1,className:"btn btn-secondary",children:"Previous"}),n.jsx("button",{onClick:()=>i(N=>({...N,page:N.page+1})),disabled:a.page===a.totalPages,className:"btn btn-secondary",children:"Next"})]})]})]}),n.jsx(De,{children:o&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>l(!1),children:n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:N=>N.stopPropagation(),className:"w-full max-w-lg bg-white dark:bg-dark-900 rounded-2xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-xl font-semibold",children:c?"Edit Note":"Add Note"}),n.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["Content ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${u.content.length>4500?"text-amber-500":"text-dark-400"}`,children:[u.content.length,"/5000"]})]}),n.jsx("textarea",{value:u.content,onChange:N=>{N.target.value.length<=5e3&&(h(S=>({...S,content:N.target.value})),v(S=>({...S,content:null})))},required:!0,maxLength:5e3,className:`input min-h-[200px] ${g.content?"border-red-500 focus:ring-red-500":""}`,placeholder:"Write your note here..."}),g.content&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),g.content]})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:u.isPinned,onChange:N=>h(S=>({...S,isPinned:N.target.checked})),className:"w-4 h-4 rounded"}),n.jsx("span",{className:"text-sm",children:"Pin this note"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{l(!1),v({})},className:"btn btn-secondary flex-1",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:f,className:"btn btn-primary flex-1",children:f?n.jsx(we,{className:"w-5 h-5 animate-spin"}):c?"Update":"Save"})]})]})]})})})]})},w3=()=>{const[e,t]=m.useState([]),[s,r]=m.useState(!0),[a,i]=m.useState({page:1,limit:20,total:0,totalPages:0}),[o,l]=m.useState("");m.useEffect(()=>{c()},[a.page,o]);const c=async()=>{try{const f=await RS.getAll({page:a.page,limit:a.limit,type:o});f.data.success&&(t(f.data.data.activities),i(y=>({...y,...f.data.data.pagination})))}catch{M.error("Failed to fetch activities")}finally{r(!1)}},d=f=>({CALL:wt,EMAIL:Rt,MEETING:On,TASK_COMPLETED:_s,NOTE_ADDED:Ws,LEAD_CREATED:dt,LEAD_STATUS_CHANGED:Pt,CUSTOMER_CREATED:Ch,DEAL_WON:j_,DEAL_LOST:Ji,OTHER:Pt})[f]||Pt,u=f=>{const y={CALL:"bg-blue-100 dark:bg-blue-900/30 text-blue-500",EMAIL:"bg-purple-100 dark:bg-purple-900/30 text-purple-500",MEETING:"bg-amber-100 dark:bg-amber-900/30 text-amber-500",TASK_COMPLETED:"bg-green-100 dark:bg-green-900/30 text-green-500",NOTE_ADDED:"bg-gray-100 dark:bg-gray-900/30 text-gray-500",LEAD_CREATED:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-500",LEAD_STATUS_CHANGED:"bg-pink-100 dark:bg-pink-900/30 text-pink-500",CUSTOMER_CREATED:"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-500",DEAL_WON:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-500",DEAL_LOST:"bg-red-100 dark:bg-red-900/30 text-red-500",OTHER:"bg-gray-100 dark:bg-gray-900/30 text-gray-500"};return y[f]||y.OTHER},h=f=>f.replace(/_/g," ");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Activity Feed"}),n.jsx("p",{className:"text-dark-500",children:"Track all activities across your CRM"})]}),n.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"input w-full sm:w-48",children:[n.jsx("option",{value:"",children:"All Activities"}),n.jsx("option",{value:"CALL",children:"Calls"}),n.jsx("option",{value:"EMAIL",children:"Emails"}),n.jsx("option",{value:"MEETING",children:"Meetings"}),n.jsx("option",{value:"TASK_COMPLETED",children:"Tasks Completed"}),n.jsx("option",{value:"NOTE_ADDED",children:"Notes Added"}),n.jsx("option",{value:"LEAD_CREATED",children:"Leads Created"}),n.jsx("option",{value:"CUSTOMER_CREATED",children:"Customers Created"}),n.jsx("option",{value:"DEAL_WON",children:"Deals Won"}),n.jsx("option",{value:"DEAL_LOST",children:"Deals Lost"})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):e.length>0?n.jsx("div",{className:"space-y-6",children:e.map((f,y)=>{var v;const g=d(f.type);return n.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05},className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u(f.type)}`,children:n.jsx(g,{className:"w-5 h-5"})}),y!==e.length-1&&n.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 w-0.5 h-full bg-dark-200 dark:bg-dark-700"})]}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium",children:f.title}),n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-dark-100 dark:bg-dark-800",children:h(f.type)})]}),f.description&&n.jsx("p",{className:"text-sm text-dark-500 mb-2",children:f.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-dark-500",children:[n.jsx("span",{children:(v=f.createdBy)==null?void 0:v.name}),n.jsx("span",{children:""}),n.jsx("span",{children:new Date(f.createdAt).toLocaleString()}),f.customer&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{children:["Customer: ",f.customer.name]})]}),f.lead&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{children:["Lead: ",f.lead.title]})]})]})]})]},f.id)})}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Pt,{className:"w-16 h-16 mx-auto mb-4 text-dark-300"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No activities yet"}),n.jsx("p",{className:"text-dark-500",children:"Activities will appear here as you use the CRM"})]}),a.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-dark-200 dark:border-dark-800 mt-6",children:[n.jsxs("p",{className:"text-sm text-dark-500",children:["Page ",a.page," of ",a.totalPages]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>i(f=>({...f,page:f.page-1})),disabled:a.page===1,className:"btn btn-secondary",children:"Previous"}),n.jsx("button",{onClick:()=>i(f=>({...f,page:f.page+1})),disabled:a.page===a.totalPages,className:"btn btn-secondary",children:"Next"})]})]})]})]})},k3=()=>{var qe,Ve,st,ee,me;const{currentRole:e}=rs(),t=e==="ADMIN",s=e==="CUSTOMER",[r,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState({page:1,limit:10,total:0,totalPages:0}),[h,f]=m.useState(!1),[y,g]=m.useState(!1),[v,w]=m.useState(!1),[b,p]=m.useState(null),[x,j]=m.useState({title:"",description:"",priority:"MEDIUM",category:"GENERAL"}),[k,N]=m.useState({callType:"OUTBOUND",duration:0,status:"COMPLETED",notes:""}),[S,C]=m.useState(""),[L,V]=m.useState(!1),[U,T]=m.useState({}),E={title:{required:!0,min:5,max:150,label:"Title"},description:{required:!0,min:10,max:2e3,label:"Description"}};m.useEffect(()=>{F()},[d.page,l]);const F=async()=>{try{const H=await cn.getAll({page:d.page,limit:d.limit,status:l});H.data.success&&(a(H.data.data.issues),u(ne=>({...ne,...H.data.data.pagination})))}catch{M.error("Failed to fetch issues")}finally{o(!1)}},X=async H=>{var Ct,an;H.preventDefault();const{isValid:ne,errors:rt}=To(x,E);if(T(rt),!ne){M.error("Please fix the validation errors");return}V(!0);try{await cn.create(x),M.success("Issue created successfully"),f(!1),j({title:"",description:"",priority:"MEDIUM",category:"GENERAL"}),T({}),F()}catch(yr){M.error(((an=(Ct=yr.response)==null?void 0:Ct.data)==null?void 0:an.message)||"Failed to create issue")}finally{V(!1)}},Y=async H=>{var ne,rt;if(b){V(!0);try{await cn.update(b.id,{status:H,resolution:S}),M.success(`Issue ${H.toLowerCase()} successfully`),g(!1),p(null),C(""),F()}catch(Ct){M.error(((rt=(ne=Ct.response)==null?void 0:ne.data)==null?void 0:rt.message)||"Failed to update issue")}finally{V(!1)}}},$=async H=>{var ne,rt;if(window.confirm("Are you sure you want to delete this issue?"))try{await cn.delete(H),M.success("Issue deleted successfully"),F()}catch(Ct){M.error(((rt=(ne=Ct.response)==null?void 0:ne.data)==null?void 0:rt.message)||"Failed to delete issue")}},D=async H=>{var ne,rt;if(H.preventDefault(),!!b){V(!0);try{await cn.addCall(b.id,k),M.success("Call logged successfully"),w(!1),N({callType:"OUTBOUND",duration:0,status:"COMPLETED",notes:""});const Ct=await cn.getOne(b.id);Ct.data.success&&p(Ct.data.data.issue)}catch(Ct){M.error(((rt=(ne=Ct.response)==null?void 0:ne.data)==null?void 0:rt.message)||"Failed to log call")}finally{V(!1)}}},Z=async H=>{try{const ne=await cn.getOne(H.id);ne.data.success&&(p(ne.data.data.issue),C(ne.data.data.issue.resolution||""),g(!0))}catch{M.error("Failed to load issue details")}},P=H=>{const ne={OPEN:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",IN_PROGRESS:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",RESOLVED:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",CLOSED:"bg-gray-100 dark:bg-gray-900/30 text-gray-600 dark:text-gray-400"};return ne[H]||ne.OPEN},z=H=>{const ne={LOW:"bg-green-100 dark:bg-green-900/30 text-green-600",MEDIUM:"bg-amber-100 dark:bg-amber-900/30 text-amber-600",HIGH:"bg-orange-100 dark:bg-orange-900/30 text-orange-600",CRITICAL:"bg-red-100 dark:bg-red-900/30 text-red-600"};return ne[H]||ne.MEDIUM},ie=H=>{switch(H){case"RESOLVED":return n.jsx(_s,{className:"w-5 h-5 text-green-500"});case"CLOSED":return n.jsx(Ji,{className:"w-5 h-5 text-gray-500"});case"IN_PROGRESS":return n.jsx(ur,{className:"w-5 h-5 text-amber-500"});default:return n.jsx(Te,{className:"w-5 h-5 text-blue-500"})}},Ce=H=>{switch(H){case"COMPLETED":return n.jsx(Jd,{className:"w-4 h-4 text-green-500"});case"MISSED":return n.jsx(g_,{className:"w-4 h-4 text-red-500"});case"NO_ANSWER":return n.jsx(wo,{className:"w-4 h-4 text-amber-500"});default:return n.jsx(wt,{className:"w-4 h-4 text-gray-500"})}},ve=H=>{const ne=Math.floor(H/60),rt=H%60;return`${ne}:${rt.toString().padStart(2,"0")}`};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Issues"}),n.jsx("p",{className:"text-dark-500",children:s?"Submit and track your support issues":"Manage and resolve customer support issues"})]}),n.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),t?"Create Issue":"Report Issue"]})]}),n.jsx("div",{className:"card p-4",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsxs("select",{value:l,onChange:H=>c(H.target.value),className:"input w-full sm:w-48",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"OPEN",children:"Open"}),n.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),n.jsx("option",{value:"RESOLVED",children:"Resolved"}),n.jsx("option",{value:"CLOSED",children:"Closed"})]})})}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.length>0?n.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-800",children:r.map(H=>{var ne;return n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 hover:bg-dark-50 dark:hover:bg-dark-800/50",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"mt-1",children:ie(H.status)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold truncate",children:H.title}),n.jsx("span",{className:`badge text-xs ${P(H.status)}`,children:H.status.replace("_"," ")}),n.jsx("span",{className:`badge text-xs ${z(H.priority)}`,children:H.priority})]}),n.jsx("p",{className:"text-sm text-dark-500 line-clamp-2 mb-2",children:H.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-dark-500",children:[t&&H.customer&&n.jsxs("span",{children:["Customer: ",H.customer.name," (",H.customer.email,")"]}),n.jsxs("span",{children:["Created: ",new Date(H.createdAt).toLocaleString()]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(wt,{className:"w-3 h-3"}),((ne=H._count)==null?void 0:ne.calls)||0," calls"]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>Z(H),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-700 rounded-lg",title:"View Details",children:n.jsx(Hs,{className:"w-4 h-4 text-dark-400"})}),t&&n.jsx("button",{onClick:()=>$(H.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete",children:n.jsx(ps,{className:"w-4 h-4 text-red-500"})})]})]})},H.id)})}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Te,{className:"w-16 h-16 mx-auto mb-4 text-dark-300"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No issues found"}),n.jsx("p",{className:"text-dark-500 mb-6",children:s?"Create your first support issue":"No issues to review yet"}),n.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-5 h-5"}),t?"Create Issue":"Report Issue"]})]}),d.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-dark-200 dark:border-dark-800",children:[n.jsxs("p",{className:"text-sm text-dark-500",children:["Page ",d.page," of ",d.totalPages]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>u(H=>({...H,page:H.page-1})),disabled:d.page===1,className:"btn btn-secondary",children:"Previous"}),n.jsx("button",{onClick:()=>u(H=>({...H,page:H.page+1})),disabled:d.page===d.totalPages,className:"btn btn-secondary",children:"Next"})]})]})]}),n.jsx(De,{children:h&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>f(!1),children:n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:H=>H.stopPropagation(),className:"w-full max-w-lg bg-white dark:bg-dark-900 rounded-2xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Create New Issue"}),n.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:X,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${x.title.length>135?"text-amber-500":"text-dark-400"}`,children:[x.title.length,"/150"]})]}),n.jsx("input",{type:"text",value:x.title,onChange:H=>{H.target.value.length<=150&&(j(ne=>({...ne,title:H.target.value})),T(ne=>({...ne,title:null})))},required:!0,minLength:5,maxLength:150,className:`input ${U.title?"border-red-500 focus:ring-red-500":""}`,placeholder:"Brief description of your issue (min 5 characters)"}),U.title&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),U.title]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"label",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("span",{className:`text-xs ${x.description.length>1800?"text-amber-500":"text-dark-400"}`,children:[x.description.length,"/2000"]})]}),n.jsx("textarea",{value:x.description,onChange:H=>{H.target.value.length<=2e3&&(j(ne=>({...ne,description:H.target.value})),T(ne=>({...ne,description:null})))},required:!0,minLength:10,maxLength:2e3,className:`input min-h-[120px] ${U.description?"border-red-500 focus:ring-red-500":""}`,placeholder:"Please provide detailed information about your issue (min 10 characters)..."}),U.description&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),U.description]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Priority"}),n.jsxs("select",{value:x.priority,onChange:H=>j(ne=>({...ne,priority:H.target.value})),className:"input",children:[n.jsx("option",{value:"LOW",children:"Low"}),n.jsx("option",{value:"MEDIUM",children:"Medium"}),n.jsx("option",{value:"HIGH",children:"High"}),n.jsx("option",{value:"CRITICAL",children:"Critical"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Category"}),n.jsxs("select",{value:x.category,onChange:H=>j(ne=>({...ne,category:H.target.value})),className:"input",children:[n.jsx("option",{value:"GENERAL",children:"General"}),n.jsx("option",{value:"BILLING",children:"Billing"}),n.jsx("option",{value:"TECHNICAL",children:"Technical"}),n.jsx("option",{value:"FEATURE_REQUEST",children:"Feature Request"}),n.jsx("option",{value:"BUG_REPORT",children:"Bug Report"}),n.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{f(!1),T({})},className:"btn btn-secondary flex-1",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:L,className:"btn btn-primary flex-1",children:L?n.jsx(we,{className:"w-5 h-5 animate-spin"}):"Submit Issue"})]})]})]})})}),n.jsx(De,{children:y&&b&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:()=>g(!1),children:n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:H=>H.stopPropagation(),className:"w-full max-w-2xl bg-white dark:bg-dark-900 rounded-2xl shadow-xl my-8",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:b.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:`badge text-xs ${P(b.status)}`,children:b.status.replace("_"," ")}),n.jsx("span",{className:`badge text-xs ${z(b.priority)}`,children:b.priority}),n.jsx("span",{className:"badge text-xs badge-info",children:(qe=b.category)==null?void 0:qe.replace("_"," ")})]})]}),n.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 space-y-6 max-h-[60vh] overflow-y-auto",children:[t&&b.customer&&n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-dark-50 dark:bg-dark-800",children:[n.jsx("div",{className:"avatar avatar-lg",children:(Ve=b.customer.name)==null?void 0:Ve.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:b.customer.name}),n.jsx("p",{className:"text-sm text-dark-500",children:b.customer.email}),b.customer.phone&&n.jsxs("p",{className:"text-sm text-dark-500 flex items-center gap-1",children:[n.jsx(wt,{className:"w-3 h-3"}),b.customer.phone]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-dark-600 dark:text-dark-400 whitespace-pre-wrap",children:b.description})]}),t&&b.linearUrl&&n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800",children:[n.jsxs("span",{className:"text-sm text-primary-700 dark:text-primary-300",children:["Issue ID: ",b.identifier||((st=b.linearIssueId)==null?void 0:st.slice(0,8))]}),n.jsx("a",{href:b.linearUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-700 underline ml-auto",children:"View in Linear "})]}),b.resolution&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Resolution"}),n.jsx("p",{className:"text-dark-600 dark:text-dark-400 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:b.resolution}),b.resolvedBy&&n.jsxs("p",{className:"text-xs text-dark-500 mt-2",children:["Resolved by ",b.resolvedBy.name," on ",new Date(b.resolvedAt).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[n.jsx(wt,{className:"w-5 h-5"}),"Call History (",((ee=b.calls)==null?void 0:ee.length)||0,")"]}),t&&b.status!=="RESOLVED"&&b.status!=="CLOSED"&&n.jsxs("button",{onClick:()=>w(!0),className:"btn btn-secondary btn-sm",children:[n.jsx(Jd,{className:"w-4 h-4"}),"Log Call"]})]}),((me=b.calls)==null?void 0:me.length)>0?n.jsx("div",{className:"space-y-3",children:b.calls.map(H=>{var ne;return n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-dark-50 dark:bg-dark-800",children:[Ce(H.status),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsxs("span",{className:"font-medium text-sm",children:[H.callType," Call"]}),n.jsxs("span",{className:"text-xs text-dark-500",children:[" ",ve(H.duration)]}),n.jsxs("span",{className:"text-xs text-dark-500",children:[" ",H.status]})]}),H.notes&&n.jsx("p",{className:"text-sm text-dark-500",children:H.notes}),n.jsxs("p",{className:"text-xs text-dark-500 mt-1",children:[(ne=H.caller)==null?void 0:ne.name,"  ",new Date(H.createdAt).toLocaleString()]})]})]},H.id)})}):n.jsx("p",{className:"text-dark-500 text-sm",children:"No calls recorded for this issue"})]}),t&&b.status!=="RESOLVED"&&b.status!=="CLOSED"&&n.jsxs("div",{className:"border-t border-dark-200 dark:border-dark-800 pt-6",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Resolve Issue"}),n.jsx("textarea",{value:S,onChange:H=>C(H.target.value),className:"input min-h-[100px] mb-4",placeholder:"Enter resolution details..."}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Y("IN_PROGRESS"),disabled:L,className:"btn btn-secondary",children:"Mark In Progress"}),n.jsx("button",{onClick:()=>Y("RESOLVED"),disabled:L||!S,className:"btn btn-primary",children:L?n.jsx(we,{className:"w-5 h-5 animate-spin"}):"Resolve Issue"})]})]})]})]})})}),n.jsx(De,{children:v&&b&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:()=>w(!1),children:n.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:H=>H.stopPropagation(),className:"w-full max-w-md bg-white dark:bg-dark-900 rounded-2xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-dark-200 dark:border-dark-800",children:[n.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[n.jsx(Jd,{className:"w-5 h-5 text-primary-500"}),"Log Call"]}),n.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-dark-100 dark:hover:bg-dark-800 rounded-lg",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Call Type"}),n.jsxs("select",{value:k.callType,onChange:H=>N(ne=>({...ne,callType:H.target.value})),className:"input",children:[n.jsx("option",{value:"OUTBOUND",children:"Outbound"}),n.jsx("option",{value:"INBOUND",children:"Inbound"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Status"}),n.jsxs("select",{value:k.status,onChange:H=>N(ne=>({...ne,status:H.target.value})),className:"input",children:[n.jsx("option",{value:"COMPLETED",children:"Completed"}),n.jsx("option",{value:"MISSED",children:"Missed"}),n.jsx("option",{value:"NO_ANSWER",children:"No Answer"}),n.jsx("option",{value:"BUSY",children:"Busy"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Duration (seconds)"}),n.jsx("input",{type:"number",value:k.duration,onChange:H=>N(ne=>({...ne,duration:parseInt(H.target.value)||0})),min:"0",className:"input",placeholder:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Notes"}),n.jsx("textarea",{value:k.notes,onChange:H=>N(ne=>({...ne,notes:H.target.value})),className:"input min-h-[80px]",placeholder:"Call notes..."})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>w(!1),className:"btn btn-secondary flex-1",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:L,className:"btn btn-primary flex-1",children:L?n.jsx(we,{className:"w-5 h-5 animate-spin"}):"Log Call"})]})]})]})})})]})},wc=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e||0),N3=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-",C3=({item:e,type:t,onDragStart:s,onDragEnd:r,onConvert:a,onEdit:i})=>{var c,d,u,h;const[o,l]=m.useState(!1);return n.jsxs(R.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},draggable:!0,onDragStart:f=>{l(!0),s(f,e)},onDragEnd:()=>{l(!1),r()},className:`bg-white dark:bg-dark-800 rounded-xl p-4 shadow-sm border border-dark-100 dark:border-dark-700 cursor-grab active:cursor-grabbing hover:shadow-md transition-all group ${o?"opacity-50 scale-95 shadow-lg":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-sm truncate",children:e.title}),e.customer&&n.jsxs("p",{className:"text-xs text-dark-500 truncate flex items-center gap-1 mt-0.5",children:[n.jsx(hr,{className:"w-3 h-3"}),e.customer.name]})]}),n.jsx("button",{onClick:f=>{f.stopPropagation(),i(e)},className:"p-1 hover:bg-dark-100 dark:hover:bg-dark-700 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(x_,{className:"w-3.5 h-3.5 text-dark-400"})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:wc(e.value)}),e.probability!==void 0&&n.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400",children:[e.probability,"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-dark-100 dark:border-dark-700",children:[(e.assignedTo||e.owner)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-xs text-white font-medium",children:(((c=e.assignedTo)==null?void 0:c.name)||((d=e.owner)==null?void 0:d.name)||"?").charAt(0).toUpperCase()}),n.jsx("span",{className:"text-xs text-dark-500 truncate max-w-[80px]",children:((u=e.assignedTo)==null?void 0:u.name)||((h=e.owner)==null?void 0:h.name)})]}),e.expectedCloseDate&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-dark-400",children:[n.jsx(On,{className:"w-3 h-3"}),N3(e.expectedCloseDate)]})]}),t==="leads"&&n.jsxs("button",{onClick:f=>{f.stopPropagation(),a(e)},className:"w-full mt-3 py-2 px-3 rounded-lg bg-gradient-to-r from-emerald-500 to-teal-500 text-white text-xs font-medium flex items-center justify-center gap-2 hover:opacity-90 transition-opacity",children:[n.jsx(vo,{className:"w-3.5 h-3.5"}),"Convert to Deal"]})]})},S3=({stage:e,items:t,type:s,onDragOver:r,onDrop:a,onConvert:i,onEdit:o,draggedItem:l})=>{const[c,d]=m.useState(!1),u=t.reduce((h,f)=>h+(f.value||0),0);return n.jsxs("div",{className:`flex flex-col w-80 flex-shrink-0 rounded-xl transition-all ${c?"ring-2 ring-violet-500 ring-offset-2 dark:ring-offset-dark-900":""}`,onDragOver:h=>{h.preventDefault(),d(!0),r(h,e)},onDragLeave:()=>d(!1),onDrop:h=>{d(!1),a(h,e)},children:[n.jsxs("div",{className:"px-4 py-3 rounded-t-xl",style:{backgroundColor:`${e.color}15`},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),n.jsx("h3",{className:"font-semibold text-sm",children:e.name}),n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white dark:bg-dark-800 text-dark-600 dark:text-dark-300",children:t.length})]}),e.probability>0&&n.jsxs("span",{className:"text-xs text-dark-500",children:[e.probability,"% win"]})]}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[n.jsx(zn,{className:"w-4 h-4 text-dark-400"}),n.jsx("span",{className:"font-medium",children:wc(u)})]})]}),n.jsxs("div",{className:"flex-1 p-2 space-y-2 bg-dark-50 dark:bg-dark-800/50 rounded-b-xl min-h-[200px] max-h-[calc(100vh-320px)] overflow-auto",children:[n.jsx(De,{mode:"popLayout",children:t.map(h=>n.jsx(C3,{item:h,type:s,onDragStart:(f,y)=>{f.dataTransfer.setData("item",JSON.stringify(y)),f.dataTransfer.setData("sourceStageId",e.id)},onDragEnd:()=>{},onConvert:i,onEdit:o},h.id))}),t.length===0&&n.jsx("div",{className:"h-32 flex items-center justify-center text-dark-400 text-sm border-2 border-dashed border-dark-200 dark:border-dark-700 rounded-lg",children:"Drop items here"})]})]})},E3=({lead:e,onClose:t,onConvert:s})=>{const[r,a]=m.useState((e==null?void 0:e.value)||0),[i,o]=m.useState(""),[l,c]=m.useState(!1),[d,u]=m.useState({}),h=async f=>{if(f.preventDefault(),i){const y=Sj(i,!0);if(!y.valid){u({expectedCloseDate:y.error}),M.error("Please fix the validation errors");return}}c(!0);try{await s(e.id,{value:r,expectedCloseDate:i||null}),t()}catch(y){console.error("Convert error:",y)}finally{c(!1)}};return e?n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:n.jsxs(R.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:f=>f.stopPropagation(),className:"bg-white dark:bg-dark-900 rounded-2xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center",children:n.jsx(vo,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",children:"Convert to Deal"}),n.jsx("p",{className:"text-sm text-dark-500",children:e.title})]})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deal Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"number",value:r,onChange:f=>a(parseFloat(f.target.value)||0),min:"0",max:"999999999",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-dark-200 dark:border-dark-700 bg-dark-50 dark:bg-dark-800 focus:ring-2 focus:ring-emerald-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Expected Close Date"}),n.jsx("input",{type:"date",value:i,onChange:f=>{o(f.target.value),u(y=>({...y,expectedCloseDate:null}))},min:Sm(),className:`w-full px-4 py-3 rounded-xl border ${d.expectedCloseDate?"border-red-500":"border-dark-200 dark:border-dark-700"} bg-dark-50 dark:bg-dark-800 focus:ring-2 focus:ring-emerald-500`}),d.expectedCloseDate&&n.jsxs("p",{className:"flex items-center gap-1 text-sm text-red-500 mt-1",children:[n.jsx(Te,{className:"w-4 h-4"}),d.expectedCloseDate]}),n.jsx("p",{className:"text-xs text-dark-400 mt-1",children:"Cannot select a past date"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 rounded-xl border border-dark-200 dark:border-dark-700 hover:bg-dark-50 dark:hover:bg-dark-800",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-3 rounded-xl bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-medium hover:opacity-90 disabled:opacity-50",children:l?"Converting...":"Convert to Deal"})]})]})]})}):null},T3=()=>{const{currentRole:e}=rs(),[t,s]=m.useState("leads"),[r,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[y,g]=m.useState(!1),v=m.useCallback(async()=>{o(!0);try{const[j,k]=await Promise.all([Qo.getKanbanView(t),Qo.getAnalytics(30)]);j.data.success&&a(j.data.data.stages),k.data.success&&f(k.data.data)}catch(j){console.error("Fetch pipeline error:",j),M.error("Failed to load pipeline")}finally{o(!1)}},[t]);m.useEffect(()=>{v()},[v]);const w=(j,k)=>{j.preventDefault()},b=async(j,k)=>{j.preventDefault();try{const N=j.dataTransfer.getData("item"),S=j.dataTransfer.getData("sourceStageId");if(!N)return;const C=JSON.parse(N);if(S===k.id)return;a(L=>L.map(V=>V.id===S?{...V,[t]:(V[t]||[]).filter(U=>U.id!==C.id)}:V.id===k.id?{...V,[t]:[...V[t]||[],{...C,stageId:k.id}]}:V)),await Qo.moveToStage({entityId:C.id,entityType:t==="leads"?"lead":"deal",stageId:k.id}),k.isWon?M.success(" Deal Won!"):k.isClosed?M.success("Deal marked as lost"):M.success(`Moved to ${k.name}`)}catch(N){console.error("Move error:",N),M.error("Failed to move item"),v()}},p=async(j,k)=>{try{(await Qo.convertToDeal(j,k)).data.success&&(M.success("Lead converted to deal!"),u(null),v())}catch(N){throw console.error("Convert error:",N),M.error("Failed to convert lead"),N}},x=j=>{console.log("Edit:",j)};return i?n.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-violet-500 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-dark-500",children:"Loading pipeline..."})]})}):n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Sales Pipeline"}),n.jsxs("p",{className:"text-dark-500",children:["Drag and drop to move ",t," between stages"]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center bg-dark-100 dark:bg-dark-800 rounded-xl p-1",children:[n.jsxs("button",{onClick:()=>s("leads"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t==="leads"?"bg-white dark:bg-dark-700 shadow-sm":"text-dark-500 hover:text-dark-700"}`,children:[n.jsx(dt,{className:"w-4 h-4 inline-block mr-2"}),"Leads"]}),n.jsxs("button",{onClick:()=>s("deals"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t==="deals"?"bg-white dark:bg-dark-700 shadow-sm":"text-dark-500 hover:text-dark-700"}`,children:[n.jsx(vo,{className:"w-4 h-4 inline-block mr-2"}),"Deals"]})]}),n.jsx("button",{onClick:()=>g(!y),className:`p-3 rounded-xl transition-colors ${y?"bg-violet-100 dark:bg-violet-900/30 text-violet-600":"bg-dark-100 dark:bg-dark-800 hover:bg-dark-200"}`,children:n.jsx(rd,{className:"w-5 h-5"})}),n.jsx("button",{onClick:v,className:"p-3 rounded-xl bg-dark-100 dark:bg-dark-800 hover:bg-dark-200 dark:hover:bg-dark-700",children:n.jsx(En,{className:"w-5 h-5"})})]})]}),n.jsx(De,{children:y&&h&&n.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl p-4 border border-dark-100 dark:border-dark-700",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center",children:n.jsx(dt,{className:"w-5 h-5 text-violet-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:h.summary.totalLeads}),n.jsx("p",{className:"text-xs text-dark-500",children:"Total Leads"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl p-4 border border-dark-100 dark:border-dark-700",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:n.jsx(_s,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:[h.summary.leadConversionRate,"%"]}),n.jsx("p",{className:"text-xs text-dark-500",children:"Win Rate"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl p-4 border border-dark-100 dark:border-dark-700",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:n.jsx(zn,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:wc(h.summary.pipelineValue)}),n.jsx("p",{className:"text-xs text-dark-500",children:"Pipeline Value"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-xl p-4 border border-dark-100 dark:border-dark-700",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:n.jsx(Z1,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:wc(h.summary.wonRevenue)}),n.jsx("p",{className:"text-xs text-dark-500",children:"Won Revenue (30d)"})]})]})})]})})}),n.jsx("div",{className:"flex-1 overflow-x-auto pb-4",children:r.length===0?n.jsx("div",{className:"flex items-center justify-center h-64 text-dark-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(W1,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pipeline stages found"}),n.jsx("p",{className:"text-sm",children:"Stages will be created automatically"})]})}):n.jsx("div",{className:"flex gap-4 min-w-max",children:r.map(j=>{const k=t==="leads"?j.leads||[]:j.deals||[];return n.jsx(S3,{stage:j,items:k,type:t,onDragOver:w,onDrop:b,onConvert:N=>u(N),onEdit:x,draggedItem:l},j.id)})})}),n.jsx(De,{children:d&&n.jsx(E3,{lead:d,onClose:()=>u(null),onConvert:p})})]})},_3=({isOpen:e,onClose:t,defaultTo:s="",defaultSubject:r="",contactId:a=null,leadId:i=null,customerId:o=null,onSent:l=()=>{}})=>{const[c,d]=m.useState(s),[u,h]=m.useState(""),[f,y]=m.useState(""),[g,v]=m.useState(r),[w,b]=m.useState(""),[p,x]=m.useState(!1),[j,k]=m.useState(!1),[N,S]=m.useState([]),[C,L]=m.useState(!1),[V,U]=m.useState(null);m.useEffect(()=>{e&&(d(s),v(r),T())},[e,s,r]);const T=async()=>{try{const $=await Et.getTemplates();$.data.success&&S($.data.data.templates)}catch($){console.error("Failed to fetch templates:",$)}},E=$=>{U($),v($.subject),b($.bodyHtml||$.bodyText||""),L(!1)},F=async()=>{var $,D;if(!c.trim()){M.error("Please enter a recipient email");return}if(!g.trim()){M.error("Please enter a subject");return}if(!w.trim()){M.error("Please enter a message");return}k(!0);try{const Z=u.split(",").map(ie=>ie.trim()).filter(Boolean),P=f.split(",").map(ie=>ie.trim()).filter(Boolean),z=await Et.sendEmail({to:c.trim(),subject:g,bodyHtml:w.replace(/\n/g,"<br>"),bodyText:w.replace(/<[^>]*>/g,""),cc:Z.length>0?Z:void 0,bcc:P.length>0?P:void 0,contactId:a,leadId:i,customerId:o,templateId:V==null?void 0:V.id});z.data.success&&(M.success("Email sent successfully!"),l(z.data.data.email),X())}catch(Z){const P=((D=($=Z.response)==null?void 0:$.data)==null?void 0:D.message)||"Failed to send email";M.error(P)}finally{k(!1)}},X=()=>{d(""),h(""),y(""),v(""),b(""),x(!1),U(null),t()},Y=$=>{document.execCommand($,!1,null)};return e?n.jsx(De,{children:n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-4",onClick:X,children:n.jsxs(R.div,{initial:{opacity:0,y:100,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.95},transition:{type:"spring",damping:25,stiffness:300},onClick:$=>$.stopPropagation(),className:"bg-white dark:bg-dark-900 rounded-t-2xl sm:rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-200 dark:border-dark-700",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"New Message"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>L(!C),className:"flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",children:[n.jsx(Ws,{className:"w-4 h-4"}),"Templates",n.jsx(Nh,{className:"w-4 h-4"})]}),C&&N.length>0&&n.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-dark-800 rounded-xl shadow-xl border border-dark-200 dark:border-dark-700 z-50 py-2 max-h-64 overflow-auto",children:N.map($=>n.jsxs("button",{onClick:()=>E($),className:"w-full px-4 py-2 text-left hover:bg-dark-50 dark:hover:bg-dark-700 transition-colors",children:[n.jsx("p",{className:"font-medium text-sm",children:$.name}),n.jsx("p",{className:"text-xs text-dark-500 truncate",children:$.subject})]},$.id))})]}),n.jsx("button",{onClick:X,className:"p-2 rounded-lg hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",children:n.jsx(ht,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-auto",children:[n.jsxs("div",{className:"flex items-center border-b border-dark-200 dark:border-dark-700 px-6",children:[n.jsx("label",{className:"text-sm text-dark-500 w-12",children:"To"}),n.jsx("input",{type:"email",value:c,onChange:$=>d($.target.value),placeholder:"recipient@example.com",className:"flex-1 py-3 bg-transparent border-none outline-none text-sm"}),n.jsx("button",{onClick:()=>x(!p),className:"text-sm text-primary-500 hover:text-primary-600",children:"Cc/Bcc"})]}),n.jsx(De,{children:p&&n.jsxs(R.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[n.jsxs("div",{className:"flex items-center border-b border-dark-200 dark:border-dark-700 px-6",children:[n.jsx("label",{className:"text-sm text-dark-500 w-12",children:"Cc"}),n.jsx("input",{type:"text",value:u,onChange:$=>h($.target.value),placeholder:"cc@example.com, cc2@example.com",className:"flex-1 py-3 bg-transparent border-none outline-none text-sm"})]}),n.jsxs("div",{className:"flex items-center border-b border-dark-200 dark:border-dark-700 px-6",children:[n.jsx("label",{className:"text-sm text-dark-500 w-12",children:"Bcc"}),n.jsx("input",{type:"text",value:f,onChange:$=>y($.target.value),placeholder:"bcc@example.com",className:"flex-1 py-3 bg-transparent border-none outline-none text-sm"})]})]})}),n.jsxs("div",{className:"flex items-center border-b border-dark-200 dark:border-dark-700 px-6",children:[n.jsx("label",{className:"text-sm text-dark-500 w-12",children:"Subject"}),n.jsx("input",{type:"text",value:g,onChange:$=>v($.target.value),placeholder:"Email subject",className:"flex-1 py-3 bg-transparent border-none outline-none text-sm"})]}),n.jsxs("div",{className:"flex items-center gap-1 px-6 py-2 border-b border-dark-200 dark:border-dark-700",children:[n.jsx("button",{onClick:()=>Y("bold"),className:"p-2 rounded hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",title:"Bold",children:n.jsx(t_,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Y("italic"),className:"p-2 rounded hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",title:"Italic",children:n.jsx(o_,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Y("insertUnorderedList"),className:"p-2 rounded hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",title:"List",children:n.jsx(u_,{className:"w-4 h-4"})}),n.jsx("div",{className:"w-px h-5 bg-dark-200 dark:bg-dark-700 mx-2"}),n.jsx("button",{className:"p-2 rounded hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",title:"Attach file",children:n.jsx(p_,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 rounded hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",title:"Insert image",children:n.jsx(a_,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 rounded hover:bg-dark-100 dark:hover:bg-dark-800 transition-colors",title:"Insert link",children:n.jsx(d_,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"p-6",children:n.jsx("textarea",{value:w,onChange:$=>b($.target.value),placeholder:"Write your message...",rows:12,className:"w-full bg-transparent border-none outline-none text-sm resize-none"})})]}),n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-dark-200 dark:border-dark-700 bg-dark-50 dark:bg-dark-800/50",children:[n.jsx("div",{className:"text-xs text-dark-500",children:V&&n.jsxs("span",{children:["Using template: ",n.jsx("span",{className:"font-medium",children:V.name})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:X,className:"px-4 py-2 text-sm font-medium rounded-lg hover:bg-dark-200 dark:hover:bg-dark-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:F,disabled:j,className:"flex items-center gap-2 px-5 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:j?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Mn,{className:"w-4 h-4"}),"Send"]})})]})]})]})})}):null},A3=[{id:"inbox",name:"Inbox",icon:i_},{id:"sent",name:"Sent",icon:Mn},{id:"crm",name:"CRM Emails",icon:rd},{id:"templates",name:"Templates",icon:Ws}],P3=()=>{var D,Z;const{user:e}=Nt(),[t,s]=m.useState("inbox"),[r,a]=m.useState(!1),[i,o]=m.useState({isConnected:!1,email:null}),[l,c]=m.useState(!0),[d,u]=m.useState([]),[h,f]=m.useState([]),[y,g]=m.useState(null),[v,w]=m.useState(null),[b,p]=m.useState(""),[x,j]=m.useState(!1),[k,N]=m.useState(null),[S,C]=m.useState({name:"",subject:"",bodyHtml:"",category:""});m.useEffect(()=>{L()},[]),m.useEffect(()=>{i.isConnected&&V()},[t,i.isConnected]);const L=async()=>{try{const P=await Et.getGmailStatus();P.data.success&&o(P.data.data)}catch(P){console.error("Failed to check Gmail status:",P)}finally{c(!1)}},V=async()=>{c(!0);try{switch(t){case"inbox":const P=await Et.getInbox({maxResults:50,query:b||void 0});P.data.success&&u(P.data.data.emails);break;case"sent":const z=await Et.getSent({maxResults:50});z.data.success&&u(z.data.data.emails);break;case"crm":const[ie,Ce]=await Promise.all([Et.getCrmEmails({limit:50}),Et.getEmailStats()]);ie.data.success&&u(ie.data.data.emails),Ce.data.success&&g(Ce.data.data);break;case"templates":const ve=await Et.getTemplates();ve.data.success&&f(ve.data.data.templates);break}}catch(P){console.error("Failed to fetch data:",P),M.error("Failed to fetch emails")}finally{c(!1)}},U=async()=>{try{const P=await Et.getGmailAuthUrl();if(P.data.success){const z=new URL(P.data.data.authUrl);z.searchParams.set("state",e.id),window.location.href=z.toString()}}catch{M.error("Failed to start Gmail connection")}},T=async()=>{try{await Et.disconnectGmail(),o({isConnected:!1,email:null}),M.success("Gmail disconnected")}catch{M.error("Failed to disconnect Gmail")}},E=async P=>{try{await Et.deleteEmail(P),u(d.filter(z=>z.id!==P)),M.success("Email deleted")}catch{M.error("Failed to delete email")}},F=async P=>{try{const z=await Et.getEmail(P.id);z.data.success&&w(z.data.data.email)}catch{M.error("Failed to load email")}},X=async()=>{try{k?(await Et.updateTemplate(k.id,S),M.success("Template updated")):(await Et.createTemplate(S),M.success("Template created")),j(!1),N(null),C({name:"",subject:"",bodyHtml:"",category:""}),V()}catch{M.error("Failed to save template")}},Y=async P=>{try{await Et.deleteTemplate(P),M.success("Template deleted"),V()}catch{M.error("Failed to delete template")}},$=P=>{const z=new Date(P),ie=new Date;return ie-z<864e5&&z.getDate()===ie.getDate()?z.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):z.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return m.useEffect(()=>{const P=new URLSearchParams(window.location.search);P.get("connected")==="true"?(M.success("Gmail connected successfully!"),L(),window.history.replaceState({},"","/email")):P.get("error")&&(M.error("Failed to connect Gmail. Please try again."),window.history.replaceState({},"","/email"))},[]),l&&!i.isConnected?n.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:n.jsx(we,{className:"w-8 h-8 animate-spin text-primary-500"})}):i.isConnected?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Email"}),n.jsxs("p",{className:"text-dark-500",children:["Connected as ",n.jsx("span",{className:"font-medium text-primary-500",children:i.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>V(),className:"btn btn-secondary",children:[n.jsx(En,{className:"w-4 h-4"}),"Refresh"]}),n.jsxs("button",{onClick:()=>a(!0),className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-4 h-4"}),"Compose"]})]})]}),t==="crm"&&y&&n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:n.jsx(Mn,{className:"w-5 h-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:y.sent}),n.jsx("p",{className:"text-sm text-dark-500",children:"Sent"})]})]})}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30",children:n.jsx(Hs,{className:"w-5 h-5 text-green-500"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:[y.openRate,"%"]}),n.jsx("p",{className:"text-sm text-dark-500",children:"Open Rate"})]})]})}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:n.jsx(vx,{className:"w-5 h-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:[y.clickRate,"%"]}),n.jsx("p",{className:"text-sm text-dark-500",children:"Click Rate"})]})]})}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30",children:n.jsx(e_,{className:"w-5 h-5 text-red-500"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:[y.bounceRate,"%"]}),n.jsx("p",{className:"text-sm text-dark-500",children:"Bounce Rate"})]})]})})]}),n.jsxs("div",{className:"card overflow-hidden",children:[n.jsxs("div",{className:"flex items-center border-b border-dark-200 dark:border-dark-700",children:[A3.map(P=>n.jsxs("button",{onClick:()=>s(P.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${t===P.id?"border-primary-500 text-primary-500":"border-transparent text-dark-500 hover:text-dark-700 dark:hover:text-dark-300"}`,children:[n.jsx(P.icon,{className:"w-4 h-4"}),P.name]},P.id)),n.jsx("div",{className:"ml-auto px-4",children:n.jsx("button",{onClick:T,className:"text-sm text-dark-500 hover:text-red-500 transition-colors",children:"Disconnect Gmail"})})]}),(t==="inbox"||t==="sent")&&n.jsx("div",{className:"p-4 border-b border-dark-200 dark:border-dark-700",children:n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",placeholder:"Search emails...",value:b,onChange:P=>p(P.target.value),onKeyDown:P=>P.key==="Enter"&&V(),className:"input pl-10"})]})}),l?n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsx(we,{className:"w-8 h-8 animate-spin text-primary-500"})}):n.jsxs(n.Fragment,{children:[(t==="inbox"||t==="sent")&&n.jsx("div",{className:"divide-y divide-dark-200 dark:divide-dark-700",children:d.length===0?n.jsxs("div",{className:"text-center py-12 text-dark-500",children:[n.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No emails found"})]}):d.map(P=>n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:`flex items-center gap-4 p-4 hover:bg-dark-50 dark:hover:bg-dark-800 cursor-pointer transition-colors ${P.isRead?"":"bg-primary-50/50 dark:bg-primary-900/10"}`,onClick:()=>F(P),children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:`font-medium truncate ${P.isRead?"":"font-semibold"}`,children:t==="inbox"?P.from:P.to}),!P.isRead&&n.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500"})]}),n.jsx("p",{className:`text-sm truncate ${P.isRead?"text-dark-500":"text-dark-700 dark:text-dark-300"}`,children:P.subject}),n.jsx("p",{className:"text-xs text-dark-400 truncate",children:P.snippet})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-dark-500 whitespace-nowrap",children:$(P.date)}),n.jsx("button",{onClick:z=>{z.stopPropagation(),E(P.id)},className:"p-1 rounded hover:bg-dark-200 dark:hover:bg-dark-700 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(ps,{className:"w-4 h-4 text-dark-400 hover:text-red-500"})})]})]},P.id))}),t==="crm"&&n.jsx("div",{className:"divide-y divide-dark-200 dark:divide-dark-700",children:d.length===0?n.jsxs("div",{className:"text-center py-12 text-dark-500",children:[n.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No CRM emails sent yet"})]}):d.map(P=>n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-4 p-4 hover:bg-dark-50 dark:hover:bg-dark-800",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium truncate",children:P.toEmail}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${P.status==="OPENED"?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":P.status==="CLICKED"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":P.status==="BOUNCED"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"}`,children:P.status})]}),n.jsx("p",{className:"text-sm text-dark-600 dark:text-dark-400 truncate",children:P.subject}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-dark-500",children:[P.openCount>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Hs,{className:"w-3 h-3"})," ",P.openCount," opens"]}),P.clickCount>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vx,{className:"w-3 h-3"})," ",P.clickCount," clicks"]}),P.contact&&n.jsxs("span",{children:["Contact: ",P.contact.firstName," ",P.contact.lastName]}),P.lead&&n.jsxs("span",{children:["Lead: ",P.lead.title]})]})]}),n.jsx("span",{className:"text-xs text-dark-500 whitespace-nowrap",children:$(P.createdAt)})]},P.id))}),t==="templates"&&n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"flex justify-end mb-4",children:n.jsxs("button",{onClick:()=>{N(null),C({name:"",subject:"",bodyHtml:"",category:""}),j(!0)},className:"btn btn-primary",children:[n.jsx(Dt,{className:"w-4 h-4"}),"New Template"]})}),x&&n.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"card p-6 mb-6",children:[n.jsx("h3",{className:"font-semibold mb-4",children:k?"Edit Template":"New Template"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Template Name"}),n.jsx("input",{type:"text",value:S.name,onChange:P=>C({...S,name:P.target.value}),className:"input",placeholder:"e.g., Welcome Email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Category"}),n.jsx("input",{type:"text",value:S.category,onChange:P=>C({...S,category:P.target.value}),className:"input",placeholder:"e.g., Onboarding"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Subject Line"}),n.jsx("input",{type:"text",value:S.subject,onChange:P=>C({...S,subject:P.target.value}),className:"input",placeholder:"Email subject"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Body (HTML supported)"}),n.jsx("textarea",{value:S.bodyHtml,onChange:P=>C({...S,bodyHtml:P.target.value}),className:"input min-h-[200px]",placeholder:"Write your email template... Use {{variableName}} for dynamic content"})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>{j(!1),N(null)},className:"btn btn-secondary",children:"Cancel"}),n.jsxs("button",{onClick:X,className:"btn btn-primary",children:[k?"Update":"Create"," Template"]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:h.length===0&&!x?n.jsxs("div",{className:"col-span-2 text-center py-12 text-dark-500",children:[n.jsx(Ws,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No templates yet. Create your first template!"})]}):h.map(P=>{var z;return n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"card p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",children:P.name}),P.category&&n.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-dark-100 dark:bg-dark-700 text-dark-600 dark:text-dark-400",children:P.category})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>{N(P),C({name:P.name,subject:P.subject,bodyHtml:P.bodyHtml,category:P.category||""}),j(!0)},className:"p-1.5 rounded hover:bg-dark-100 dark:hover:bg-dark-700",children:n.jsx(Ws,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Y(P.id),className:"p-1.5 rounded hover:bg-dark-100 dark:hover:bg-dark-700 text-red-500",children:n.jsx(ps,{className:"w-4 h-4"})})]})]}),n.jsxs("p",{className:"text-sm text-dark-500 mt-2 truncate",children:["Subject: ",P.subject]}),n.jsxs("p",{className:"text-xs text-dark-400 mt-1",children:["Created by ",(z=P.createdBy)==null?void 0:z.name]})]},P.id)})})]})]})]}),v&&n.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>w(null),children:n.jsxs(R.div,{initial:{scale:.95},animate:{scale:1},onClick:P=>P.stopPropagation(),className:"bg-white dark:bg-dark-900 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[80vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-200 dark:border-dark-700",children:[n.jsx("h3",{className:"font-semibold truncate",children:v.subject}),n.jsx("button",{onClick:()=>w(null),className:"p-2 rounded-lg hover:bg-dark-100 dark:hover:bg-dark-800",children:n.jsx(ht,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"p-6 border-b border-dark-200 dark:border-dark-700",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white font-semibold",children:((Z=(D=v.from)==null?void 0:D.charAt(0))==null?void 0:Z.toUpperCase())||"E"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:v.from}),n.jsxs("p",{className:"text-sm text-dark-500",children:["To: ",v.to]}),v.cc&&n.jsxs("p",{className:"text-sm text-dark-500",children:["Cc: ",v.cc]})]}),n.jsx("span",{className:"ml-auto text-sm text-dark-500",children:new Date(v.date).toLocaleString()})]})}),n.jsx("div",{className:"flex-1 overflow-auto p-6",children:v.bodyHtml?n.jsx("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:v.bodyHtml}}):n.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:v.bodyText})}),n.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-dark-200 dark:border-dark-700 bg-dark-50 dark:bg-dark-800/50",children:n.jsxs("button",{onClick:()=>{w(null),a(!0)},className:"btn btn-primary",children:[n.jsx(Mn,{className:"w-4 h-4"}),"Reply"]})})]})}),n.jsx(_3,{isOpen:r,onClose:()=>a(!1),onSent:()=>{t==="crm"&&V()}})]}):n.jsx("div",{className:"max-w-lg mx-auto mt-20",children:n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-8 text-center",children:[n.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center",children:n.jsx(Rt,{className:"w-10 h-10 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Connect Your Gmail"}),n.jsx("p",{className:"text-dark-500 mb-6",children:"Connect your Gmail account to send and receive emails directly from your CRM. Track opens, clicks, and manage all your customer communications in one place."}),n.jsxs("button",{onClick:U,className:"btn btn-primary px-8 py-3",children:[n.jsx(Rt,{className:"w-5 h-5"}),"Connect Gmail"]}),n.jsx("p",{className:"text-xs text-dark-400 mt-4",children:"We only request permission to send and read emails. Your data is secure."})]})})},R3=()=>{const[e,t]=m.useState(null),[s,r]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(""),[u,h]=m.useState(!1),f="nexuscrm_bot";m.useEffect(()=>{y()},[]);const y=async()=>{try{const p=await Ms.getStatus();p.data.success&&(t(p.data.data),p.data.data.phone&&d(p.data.data.phone))}catch(p){console.error("Failed to fetch Telegram status:",p)}finally{r(!1)}},g=async p=>{var x,j;if(p.preventDefault(),!c.trim()){M.error("Please enter a phone number");return}i(!0);try{(await Ms.updatePhone(c)).data.success&&(M.success("Phone number saved! Now open the Telegram bot and share your contact."),y())}catch(k){M.error(((j=(x=k.response)==null?void 0:x.data)==null?void 0:j.message)||"Failed to save phone number")}finally{i(!1)}};m.useEffect(()=>{if(e&&!e.isTelegramLinked){const p=setInterval(()=>{y()},5e3);return()=>clearInterval(p)}},[e==null?void 0:e.isTelegramLinked]);const v=async()=>{var p,x;l(!0);try{(await Ms.testNotification()).data.success&&M.success("Test notification sent! Check your Telegram.")}catch(j){M.error(((x=(p=j.response)==null?void 0:p.data)==null?void 0:x.message)||"Failed to send test notification")}finally{l(!1)}},w=async()=>{if(window.confirm("Are you sure you want to unlink your Telegram account?"))try{(await Ms.unlink()).data.success&&(M.success("Telegram account unlinked"),y())}catch{M.error("Failed to unlink Telegram")}},b=()=>{navigator.clipboard.writeText(`https://t.me/${f}`),h(!0),M.success("Bot link copied!"),setTimeout(()=>h(!1),2e3)};return s?n.jsx("div",{className:"card p-6",children:n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsx(we,{className:"w-8 h-8 animate-spin text-primary-500"})})}):n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card overflow-hidden",children:[n.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-500 to-cyan-500",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center",children:n.jsx(qs,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Telegram Integration"}),n.jsx("p",{className:"text-blue-100",children:"Manage your CRM from Telegram"})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-dark-50 dark:bg-dark-800",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.isTelegramLinked?n.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:n.jsx(kh,{className:"w-5 h-5 text-green-600"})}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:n.jsx(ht,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:e!=null&&e.isTelegramLinked?"Connected":"Not Connected"}),(e==null?void 0:e.isTelegramLinked)&&(e==null?void 0:e.telegramUsername)&&n.jsxs("p",{className:"text-sm text-dark-500",children:["@",e.telegramUsername]}),!(e!=null&&e.isTelegramLinked)&&(e==null?void 0:e.hasPhone)&&n.jsxs("p",{className:"text-xs text-amber-600 flex items-center gap-1",children:[n.jsx(En,{className:"w-3 h-3 animate-spin"}),"Waiting for Telegram link..."]})]})]}),e!=null&&e.isTelegramLinked?n.jsx("button",{onClick:w,className:"text-sm text-red-500 hover:text-red-600",children:"Unlink"}):n.jsxs("button",{onClick:y,className:"btn btn-secondary btn-sm",children:[n.jsx(En,{className:"w-4 h-4"}),"Refresh"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Phone Number"}),n.jsx("p",{className:"text-sm text-dark-500 mb-2",children:"Enter your phone number to link with Telegram bot"}),n.jsxs("form",{onSubmit:g,className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"tel",value:c,onChange:p=>d(p.target.value),placeholder:"+1 234 567 8900",className:"input pl-11"})]}),n.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?n.jsx(we,{className:"w-5 h-5 animate-spin"}):"Save"})]}),(e==null?void 0:e.isPhoneVerified)&&n.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center gap-1",children:[n.jsx(_s,{className:"w-4 h-4"}),"Phone verified via Telegram"]})]}),!(e!=null&&e.isTelegramLinked)&&n.jsxs("div",{className:"p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[n.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"How to Link Your Telegram"}),n.jsxs("ol",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"w-5 h-5 rounded-full bg-blue-200 dark:bg-blue-800 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"1"}),n.jsx("span",{children:"Save your phone number above"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"w-5 h-5 rounded-full bg-blue-200 dark:bg-blue-800 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"2"}),n.jsx("span",{children:"Open the NexusCRM bot in Telegram"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"w-5 h-5 rounded-full bg-blue-200 dark:bg-blue-800 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"3"}),n.jsx("span",{children:'Click "Share Phone Number" to link your account'})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs("a",{href:`https://t.me/${f}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary btn-sm",children:[n.jsx(qs,{className:"w-4 h-4"}),"Open Bot",n.jsx(hm,{className:"w-3 h-3"})]}),n.jsxs("button",{onClick:b,className:"btn btn-secondary btn-sm",children:[u?n.jsx(kh,{className:"w-4 h-4"}):n.jsx(z1,{className:"w-4 h-4"}),u?"Copied!":"Copy Link"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"What You Can Do via Telegram"}),n.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:[{icon:"",text:"View dashboard stats"},{icon:"",text:"Manage leads & customers"},{icon:"",text:"Track & complete tasks"},{icon:"",text:"Handle support issues"},{icon:"",text:"Receive notifications"},{icon:"",text:"Quick status updates"}].map((p,x)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-dark-50 dark:bg-dark-800",children:[n.jsx("span",{className:"text-xl",children:p.icon}),n.jsx("span",{className:"text-sm",children:p.text})]},x))})]}),(e==null?void 0:e.isTelegramLinked)&&n.jsx("div",{className:"pt-4 border-t border-dark-200 dark:border-dark-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Test Notification"}),n.jsx("p",{className:"text-sm text-dark-500",children:"Send a test message to verify connection"})]}),n.jsx("button",{onClick:v,disabled:o,className:"btn btn-secondary",children:o?n.jsx(we,{className:"w-5 h-5 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(fc,{className:"w-5 h-5"}),"Send Test"]})})]})}),n.jsxs("button",{onClick:y,className:"flex items-center gap-2 text-sm text-primary-500 hover:text-primary-600",children:[n.jsx(En,{className:"w-4 h-4"}),"Refresh Status"]})]})]})},L3=()=>{const{theme:e,toggleTheme:t}=yo(),{currentCompany:s,currentRole:r,leaveCompany:a}=rs(),[i,o]=m.useState({email:!0,push:!1,marketing:!1}),[l,c]=m.useState("general"),d=async()=>{if(!window.confirm(`Are you sure you want to leave ${s==null?void 0:s.name}?`))return;const h=await a(s==null?void 0:s.id);h.success||M.error(h.error)},u=[{id:"general",label:"General",icon:G1},{id:"telegram",label:"Telegram",icon:qs},{id:"security",label:"Security",icon:_a}];return n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-dark-500",children:"Manage your account and preferences"})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:u.map(h=>n.jsxs("button",{onClick:()=>c(h.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-colors ${l===h.id?"bg-primary-500 text-white":"bg-dark-100 dark:bg-dark-800 hover:bg-dark-200 dark:hover:bg-dark-700"}`,children:[n.jsx(h.icon,{className:"w-4 h-4"}),h.label]},h.id))}),l==="general"&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e==="dark"?n.jsx(bo,{className:"w-5 h-5"}):n.jsx(ko,{className:"w-5 h-5"}),"Appearance"]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Dark Mode"}),n.jsx("p",{className:"text-sm text-dark-500",children:"Toggle between light and dark themes"})]}),n.jsx("button",{onClick:t,className:`relative w-14 h-8 rounded-full transition-colors ${e==="dark"?"bg-primary-500":"bg-dark-300"}`,children:n.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition-transform ${e==="dark"?"left-7":"left-1"}`})})]})]}),n.jsxs("div",{className:"card p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(fc,{className:"w-5 h-5"}),"Notifications"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-dark-500",children:"Receive updates via email"})]}),n.jsx("button",{onClick:()=>o(h=>({...h,email:!h.email})),className:`relative w-14 h-8 rounded-full transition-colors ${i.email?"bg-primary-500":"bg-dark-300"}`,children:n.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition-transform ${i.email?"left-7":"left-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-dark-500",children:"Receive push notifications"})]}),n.jsx("button",{onClick:()=>o(h=>({...h,push:!h.push})),className:`relative w-14 h-8 rounded-full transition-colors ${i.push?"bg-primary-500":"bg-dark-300"}`,children:n.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition-transform ${i.push?"left-7":"left-1"}`})})]})]})]}),s&&n.jsxs("div",{className:"card p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Dn,{className:"w-5 h-5"}),"Company: ",s.name]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-dark-50 dark:bg-dark-800",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Your Role"}),n.jsx("p",{className:"text-sm text-dark-500",children:r})]}),n.jsx("span",{className:`badge ${r==="ADMIN"?"badge-danger":r==="STAFF"?"badge-primary":"badge-success"}`,children:r})]}),r!=="ADMIN"&&n.jsxs("button",{onClick:d,className:"btn btn-danger w-full",children:[n.jsx(nd,{className:"w-5 h-5"}),"Leave Company"]})]})]})]}),l==="telegram"&&n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:n.jsx(R3,{})}),l==="security"&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[n.jsxs("div",{className:"card p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(_a,{className:"w-5 h-5"}),"Security"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{className:"w-full text-left p-4 rounded-xl bg-dark-50 dark:bg-dark-800 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[n.jsx("p",{className:"font-medium",children:"Change Password"}),n.jsx("p",{className:"text-sm text-dark-500",children:"Update your password regularly"})]}),n.jsxs("button",{className:"w-full text-left p-4 rounded-xl bg-dark-50 dark:bg-dark-800 hover:bg-dark-100 dark:hover:bg-dark-700 transition-colors",children:[n.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-dark-500",children:"Add an extra layer of security"})]})]})]}),n.jsxs("div",{className:"card p-6 border-red-200 dark:border-red-900",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-red-500",children:[n.jsx(ps,{className:"w-5 h-5"}),"Danger Zone"]}),n.jsx("p",{className:"text-sm text-dark-500 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsx("button",{className:"btn btn-danger",children:"Delete Account"})]})]})]})},D3=Eo({name:Qt().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),phone:Qt().max(20,"Phone must be less than 20 characters").optional(),bio:Qt().max(500,"Bio must be less than 500 characters").optional()}),O3=()=>{var c,d;const{user:e,updateProfile:t}=Nt(),[s,r]=m.useState(!1),{register:a,handleSubmit:i,formState:{errors:o}}=Co({resolver:So(D3),defaultValues:{name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",bio:(e==null?void 0:e.bio)||""}}),l=async u=>{r(!0);try{await t(u)}finally{r(!1)}};return n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Profile"}),n.jsx("p",{className:"text-dark-500",children:"Manage your personal information"})]}),n.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary-400 to-accent-400 flex items-center justify-center text-white text-3xl font-bold",children:e!=null&&e.avatar?n.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-2xl object-cover"}):((c=e==null?void 0:e.name)==null?void 0:c.charAt(0))||"U"}),n.jsx("button",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center text-white shadow-lg hover:bg-primary-600 transition-colors",children:n.jsx(s_,{className:"w-4 h-4"})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",children:e==null?void 0:e.name}),n.jsx("p",{className:"text-dark-500",children:e==null?void 0:e.email}),n.jsxs("p",{className:"text-xs text-dark-500 mt-1",children:["Member since ",new Date(e==null?void 0:e.createdAt).toLocaleDateString()]})]})]})}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Personal Information"}),n.jsxs("form",{onSubmit:i(l),className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(hr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"text",...a("name"),maxLength:100,className:`input pl-12 ${o.name?"input-error":""}`})]}),o.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"input pl-12 bg-dark-50 dark:bg-dark-800 cursor-not-allowed"})]}),n.jsx("p",{className:"text-xs text-dark-500 mt-1",children:"Email cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),n.jsx("input",{type:"tel",...a("phone"),placeholder:"+1 (555) 000-0000",maxLength:20,className:`input pl-12 ${o.phone?"input-error":""}`})]}),o.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.phone.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"Bio"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ws,{className:"absolute left-4 top-4 w-5 h-5 text-dark-400"}),n.jsx("textarea",{...a("bio"),placeholder:"Tell us about yourself...",maxLength:500,className:`input pl-12 min-h-[120px] ${o.bio?"input-error":""}`})]}),o.bio&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.bio.message})]}),n.jsx("button",{type:"submit",disabled:s,className:"btn btn-primary w-full",children:s?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save Changes"})]})]}),n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Account Details"}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-dark-50 dark:bg-dark-800",children:[n.jsx("p",{className:"text-sm text-dark-500",children:"Account ID"}),n.jsxs("p",{className:"font-mono text-sm mt-1",children:[(d=e==null?void 0:e.id)==null?void 0:d.slice(0,8),"..."]})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-dark-50 dark:bg-dark-800",children:[n.jsx("p",{className:"text-sm text-dark-500",children:"Email Verified"}),n.jsx("p",{className:"font-medium mt-1",children:e!=null&&e.isEmailVerified?n.jsx("span",{className:"text-green-500",children:"Verified"}):n.jsx("span",{className:"text-amber-500",children:"Pending"})})]})]})]})]})},M3=()=>{const e=xs(),[t,s]=m.useState({email:"",password:""}),[r,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(""),d=async u=>{var h,f;u.preventDefault(),c(""),o(!0);try{const y=await di.login(t);y.data.success&&(localStorage.setItem("superAdminToken",y.data.data.token),M.success("Welcome, Super Admin!"),e("/admin/dashboard"))}catch(y){const g=((f=(h=y.response)==null?void 0:h.data)==null?void 0:f.message)||"Login failed. Please check your credentials.";c(g),M.error(g)}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950"}),n.jsx("div",{className:"absolute inset-0 opacity-20",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(rgba(99, 102, 241, 0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(99, 102, 241, 0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}})}),n.jsx(R.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0},className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-600/30 rounded-full blur-[100px]"}),n.jsx(R.div,{animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0},className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-violet-600/30 rounded-full blur-[100px]"}),n.jsxs(R.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5},className:"relative z-10 w-full max-w-md mx-4",children:[n.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-violet-600 mb-4 shadow-lg shadow-indigo-500/30",children:n.jsx(_a,{className:"w-8 h-8 text-white"})}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Super Admin Portal"}),n.jsx("p",{className:"text-slate-400 text-sm",children:"NexusCRM Platform Administration"})]}),l&&n.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3",children:[n.jsx(Te,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),n.jsx("p",{className:"text-red-400 text-sm",children:l})]}),n.jsxs("form",{onSubmit:d,className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Admin Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Rt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),n.jsx("input",{type:"email",value:t.email,onChange:u=>s({...t,email:u.target.value}),className:"w-full pl-12 pr-4 py-3.5 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all",placeholder:"superadmin@nexuscrm.com",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),n.jsx("input",{type:r?"text":"password",value:t.password,onChange:u=>s({...t,password:u.target.value}),className:"w-full pl-12 pr-12 py-3.5 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 transition-all",placeholder:"",required:!0}),n.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300 transition-colors",children:r?n.jsx(mc,{className:"w-5 h-5"}):n.jsx(Hs,{className:"w-5 h-5"})})]})]}),n.jsx("button",{type:"submit",disabled:i,className:"w-full py-3.5 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 text-white font-semibold rounded-xl shadow-lg shadow-indigo-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-5 h-5 animate-spin"}),"Authenticating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(_a,{className:"w-5 h-5"}),"Access Admin Portal"]})})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700/50",children:n.jsx("p",{className:"text-center text-slate-500 text-xs",children:"This is a restricted area. Unauthorized access is prohibited."})})]}),n.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 flex items-center justify-center gap-2 text-slate-500 text-sm",children:[n.jsx(Xi,{className:"w-4 h-4"}),n.jsx("span",{children:"Secured with 256-bit encryption"})]})]})]})},br=({title:e,value:t,icon:s,trend:r,trendValue:a,color:i,delay:o})=>{const l={indigo:"from-indigo-500 to-indigo-600 shadow-indigo-500/30",violet:"from-violet-500 to-violet-600 shadow-violet-500/30",emerald:"from-emerald-500 to-emerald-600 shadow-emerald-500/30",amber:"from-amber-500 to-amber-600 shadow-amber-500/30",rose:"from-rose-500 to-rose-600 shadow-rose-500/30",cyan:"from-cyan-500 to-cyan-600 shadow-cyan-500/30",fuchsia:"from-fuchsia-500 to-fuchsia-600 shadow-fuchsia-500/30",sky:"from-sky-500 to-sky-600 shadow-sky-500/30"};return n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o},className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-2xl p-6 hover:border-slate-600/50 transition-all group",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${l[i]} shadow-lg`,children:n.jsx(s,{className:"w-6 h-6 text-white"})}),r&&n.jsxs("div",{className:`flex items-center gap-1 text-sm ${r==="up"?"text-emerald-400":"text-rose-400"}`,children:[r==="up"?n.jsx(V1,{className:"w-4 h-4"}):n.jsx(F1,{className:"w-4 h-4"}),n.jsx("span",{children:a})]})]}),n.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:t}),n.jsx("p",{className:"text-slate-400 text-sm",children:e})]})},I3=({company:e,onToggleStatus:t,onViewDetails:s})=>{var i,o,l,c,d,u,h;const[r,a]=m.useState(!1);return n.jsxs(R.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-500 flex items-center justify-center text-white font-bold",children:e.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:e.name}),n.jsx("p",{className:"text-sm text-slate-500",children:e.slug})]})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("p",{className:"text-slate-300",children:((i=e.owner)==null?void 0:i.name)||"N/A"}),n.jsx("p",{className:"text-sm text-slate-500",children:((o=e.owner)==null?void 0:o.email)||""})]}),n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsx("span",{className:"text-slate-300",children:((l=e.stats)==null?void 0:l.totalMembers)||0})}),n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsx("span",{className:"text-slate-300",children:((c=e.stats)==null?void 0:c.totalCustomers)||0})}),n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsx("span",{className:"text-slate-300",children:((d=e.stats)==null?void 0:d.totalLeads)||0})}),n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsx("span",{className:"text-slate-300",children:((u=e.stats)==null?void 0:u.totalDeals)||0})}),n.jsx("td",{className:"py-4 px-4 text-right",children:n.jsxs("span",{className:"text-emerald-400 font-medium",children:["$",(((h=e.stats)==null?void 0:h.totalRevenue)||0).toLocaleString()]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e.isActive?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`,children:e.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("p",{className:"text-slate-400 text-sm",children:new Date(e.createdAt).toLocaleDateString()})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"relative flex items-center gap-1",children:[n.jsx(mm,{targetCompanyId:e.id,targetCompanyName:e.name,isSuperAdmin:!0,label:"Message company"}),n.jsx("button",{onClick:()=>a(!r),className:"p-2 hover:bg-slate-700/50 rounded-lg transition-colors",children:n.jsx(m_,{className:"w-4 h-4 text-slate-400"})}),r&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl z-10",children:[n.jsxs("button",{onClick:()=>{s(e.id),a(!1)},className:"w-full px-4 py-2.5 text-left text-sm text-slate-300 hover:bg-slate-700/50 flex items-center gap-2",children:[n.jsx(Hs,{className:"w-4 h-4"}),"View Details"]}),n.jsxs("button",{onClick:()=>{t(e.id),a(!1)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-slate-700/50 flex items-center gap-2",children:[n.jsx(v_,{className:`w-4 h-4 ${e.isActive?"text-rose-400":"text-emerald-400"}`}),n.jsx("span",{className:e.isActive?"text-rose-400":"text-emerald-400",children:e.isActive?"Deactivate":"Activate"})]})]})]})})]})},F3=()=>{var T,E,F,X,Y,$,D,Z,P,z,ie,Ce,ve,qe,Ve,st;const e=xs(),[t,s]=m.useState(!0),[r,a]=m.useState(null),[i,o]=m.useState(""),[l,c]=m.useState("overview"),[d,u]=m.useState([]),[h,f]=m.useState(!1),[y,g]=m.useState({OPEN:0,IN_PROGRESS:0,RESOLVED:0,CLOSED:0}),[v,w]=m.useState(null),[b,p]=m.useState(null);m.useEffect(()=>{x()},[]),m.useEffect(()=>{l==="issues"&&k()},[l]);const x=async()=>{var ee;s(!0);try{const me=await di.getDashboard();me.data.success&&a(me.data.data)}catch(me){console.error("Failed to fetch dashboard:",me),((ee=me.response)==null?void 0:ee.status)===401?(localStorage.removeItem("superAdminToken"),e("/admin"),M.error("Session expired. Please login again.")):M.error("Failed to load dashboard data")}finally{s(!1)}},j=()=>{localStorage.removeItem("superAdminToken"),M.success("Logged out successfully"),e("/admin")},k=async()=>{f(!0);try{const ee=await di.getIssues();ee.data.success&&(u(ee.data.data.issues),g(ee.data.data.stats))}catch(ee){console.error("Failed to fetch issues:",ee),M.error("Failed to load issues")}finally{f(!1)}},N=async(ee,me)=>{p(ee);try{(await di.updateIssueStatus(ee,me)).data.success&&(M.success(`Issue ${me.toLowerCase()}`),k(),w(null))}catch(H){console.error("Failed to update issue:",H),M.error("Failed to update issue status")}finally{p(null)}},S=ee=>{switch(ee){case"RESOLVED":return n.jsx(_s,{className:"w-5 h-5 text-emerald-400"});case"CLOSED":return n.jsx(Ji,{className:"w-5 h-5 text-slate-400"});case"IN_PROGRESS":return n.jsx(ur,{className:"w-5 h-5 text-amber-400"});default:return n.jsx(Te,{className:"w-5 h-5 text-blue-400"})}},C=ee=>{switch(ee){case"RESOLVED":return"bg-emerald-500/20 text-emerald-400";case"CLOSED":return"bg-slate-500/20 text-slate-400";case"IN_PROGRESS":return"bg-amber-500/20 text-amber-400";default:return"bg-blue-500/20 text-blue-400"}},L=async ee=>{try{const me=await di.toggleCompanyStatus(ee);me.data.success&&(M.success(me.data.message),x())}catch{M.error("Failed to update company status")}},V=ee=>{M.info("Company details view coming soon!")},U=((T=r==null?void 0:r.companies)==null?void 0:T.filter(ee=>ee.name.toLowerCase().includes(i.toLowerCase())||ee.slug.toLowerCase().includes(i.toLowerCase())))||[];return t?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 flex items-center justify-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-slate-400",children:"Loading dashboard..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-slate-900/80 backdrop-blur-xl border-b border-slate-700/50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-600 shadow-lg shadow-indigo-500/30",children:n.jsx(_a,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:"NexusCRM Admin"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Platform Administration"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:x,className:"p-2.5 bg-slate-800/50 hover:bg-slate-700/50 rounded-xl transition-colors",title:"Refresh Data",children:n.jsx(En,{className:"w-5 h-5 text-slate-400"})}),n.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2.5 bg-rose-500/10 hover:bg-rose-500/20 text-rose-400 rounded-xl transition-colors",children:[n.jsx(nd,{className:"w-4 h-4"}),n.jsx("span",{children:"Logout"})]})]})]})})}),n.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(br,{title:"Total Companies",value:((E=r==null?void 0:r.overview)==null?void 0:E.totalCompanies)||0,icon:Dn,trend:"up",trendValue:`+${((F=r==null?void 0:r.overview)==null?void 0:F.newCompaniesThisMonth)||0} this month`,color:"indigo",delay:0}),n.jsx(br,{title:"Total Users",value:((X=r==null?void 0:r.overview)==null?void 0:X.totalUsers)||0,icon:fr,trend:"up",trendValue:`+${((Y=r==null?void 0:r.overview)==null?void 0:Y.newUsersThisMonth)||0} this month`,color:"violet",delay:.1}),n.jsx(br,{title:"Total Customers",value:(($=r==null?void 0:r.overview)==null?void 0:$.totalCustomers)||0,icon:w_,color:"emerald",delay:.2}),n.jsx(br,{title:"Total Revenue",value:`$${(((D=r==null?void 0:r.overview)==null?void 0:D.totalRevenue)||0).toLocaleString()}`,icon:zn,color:"amber",delay:.3})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(br,{title:"Active Companies",value:((Z=r==null?void 0:r.overview)==null?void 0:Z.activeCompanies)||0,icon:Pt,color:"cyan",delay:.4}),n.jsx(br,{title:"Total Staff",value:((P=r==null?void 0:r.overview)==null?void 0:P.totalStaff)||0,icon:vo,color:"fuchsia",delay:.5}),n.jsx(br,{title:"Total Leads",value:((z=r==null?void 0:r.overview)==null?void 0:z.totalLeads)||0,icon:dt,color:"sky",delay:.6}),n.jsx(br,{title:"Total Deals",value:((ie=r==null?void 0:r.overview)==null?void 0:ie.totalDeals)||0,icon:Z1,color:"rose",delay:.7})]}),n.jsx("div",{className:"flex gap-2 mb-6",children:["overview","companies","issues","analytics"].map(ee=>n.jsxs("button",{onClick:()=>c(ee),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all flex items-center gap-2 ${l===ee?"bg-indigo-500 text-white":"bg-slate-800/50 text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:[ee==="issues"&&n.jsx(Te,{className:"w-4 h-4"}),ee.charAt(0).toUpperCase()+ee.slice(1),ee==="issues"&&y.OPEN>0&&n.jsx("span",{className:"px-2 py-0.5 text-xs bg-rose-500 text-white rounded-full",children:y.OPEN})]},ee))}),l==="overview"||l==="companies"?n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-2xl overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-700/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"Registered Companies"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Manage all companies on the platform"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),n.jsx("input",{type:"text",placeholder:"Search companies...",value:i,onChange:ee=>o(ee.target.value),className:"pl-10 pr-4 py-2.5 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-indigo-500 w-64"})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-800/50",children:[n.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Company"}),n.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Owner"}),n.jsx("th",{className:"text-center py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Members"}),n.jsx("th",{className:"text-center py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Customers"}),n.jsx("th",{className:"text-center py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Leads"}),n.jsx("th",{className:"text-center py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Deals"}),n.jsx("th",{className:"text-right py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Revenue"}),n.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{children:U.length>0?U.map(ee=>n.jsx(I3,{company:ee,onToggleStatus:L,onViewDetails:V},ee.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:10,className:"py-12 text-center text-slate-500",children:i?"No companies found matching your search":"No companies registered yet"})})})]})})]}):null,l==="issues"&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 flex items-center gap-4",children:[n.jsx(Te,{className:"w-8 h-8 text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:y.OPEN}),n.jsx("p",{className:"text-sm text-slate-400",children:"Open"})]})]}),n.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4 flex items-center gap-4",children:[n.jsx(ur,{className:"w-8 h-8 text-amber-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:y.IN_PROGRESS}),n.jsx("p",{className:"text-sm text-slate-400",children:"In Progress"})]})]}),n.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-center gap-4",children:[n.jsx(_s,{className:"w-8 h-8 text-emerald-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:y.RESOLVED}),n.jsx("p",{className:"text-sm text-slate-400",children:"Resolved"})]})]}),n.jsxs("div",{className:"bg-slate-500/10 border border-slate-500/30 rounded-xl p-4 flex items-center gap-4",children:[n.jsx(Ji,{className:"w-8 h-8 text-slate-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-white",children:y.CLOSED}),n.jsx("p",{className:"text-sm text-slate-400",children:"Closed"})]})]})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-2xl overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-700/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-white",children:"All Issues"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Manage issues from all companies"})]}),n.jsx("button",{onClick:k,className:"p-2.5 bg-slate-700/50 hover:bg-slate-600/50 rounded-xl transition-colors",children:n.jsx(En,{className:`w-5 h-5 text-slate-400 ${h?"animate-spin":""}`})})]})}),h?n.jsx("div",{className:"flex items-center justify-center py-16",children:n.jsx(we,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):d.length>0?n.jsx("div",{className:"divide-y divide-slate-700/50",children:d.map(ee=>{var me;return n.jsx("div",{className:"p-4 hover:bg-slate-700/30 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"mt-1",children:S(ee.status)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-medium text-white truncate",children:ee.title}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${C(ee.status)}`,children:ee.status.replace("_"," ")}),n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-violet-500/20 text-violet-400",children:ee.priority})]}),n.jsx("p",{className:"text-sm text-slate-400 line-clamp-1 mb-2",children:ee.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Dn,{className:"w-3 h-3"}),((me=ee.company)==null?void 0:me.name)||"Unknown Company"]}),ee.createdBy&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(fr,{className:"w-3 h-3"}),ee.createdBy.name]}),n.jsx("span",{children:new Date(ee.createdAt).toLocaleDateString()}),ee.identifier&&n.jsx("span",{className:"text-indigo-400",children:ee.identifier})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[ee.linearUrl&&n.jsx("a",{href:ee.linearUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-slate-600/50 rounded-lg transition-colors",title:"View in Linear",children:n.jsx(hm,{className:"w-4 h-4 text-slate-400"})}),ee.status!=="RESOLVED"&&ee.status!=="CLOSED"&&n.jsxs("div",{className:"flex gap-1",children:[ee.status==="OPEN"&&n.jsx("button",{onClick:()=>N(ee.id,"IN_PROGRESS"),disabled:b===ee.id,className:"px-3 py-1.5 text-xs bg-amber-500/20 text-amber-400 hover:bg-amber-500/30 rounded-lg transition-colors disabled:opacity-50",children:b===ee.id?"Updating...":"Start"}),n.jsx("button",{onClick:()=>N(ee.id,"RESOLVED"),disabled:b===ee.id,className:"px-3 py-1.5 text-xs bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 rounded-lg transition-colors disabled:opacity-50",children:b===ee.id?"Updating...":"Resolve"})]})]})]})},ee.id)})}):n.jsxs("div",{className:"py-16 text-center",children:[n.jsx(Te,{className:"w-12 h-12 mx-auto mb-4 text-slate-600"}),n.jsx("p",{className:"text-slate-400",children:"No issues from Company Admins"}),n.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Issues created by Company Admins will appear here.",n.jsx("br",{}),"Customer issues are handled by their respective Company Admins."]})]})]})]}),l==="analytics"&&n.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-2xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/20",children:n.jsx(rd,{className:"w-5 h-5 text-indigo-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:"Company Growth"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Last 6 months"})]})]}),n.jsx("div",{className:"space-y-4",children:(ve=(Ce=r==null?void 0:r.growth)==null?void 0:Ce.companies)==null?void 0:ve.map((ee,me)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-slate-400 w-16",children:ee.month}),n.jsx("div",{className:"flex-1 h-8 bg-slate-700/50 rounded-lg overflow-hidden",children:n.jsx(R.div,{initial:{width:0},animate:{width:`${Math.min(ee.count/Math.max(...r.growth.companies.map(H=>H.count),1)*100,100)}%`},transition:{delay:me*.1,duration:.5},className:"h-full bg-gradient-to-r from-indigo-500 to-violet-500 rounded-lg flex items-center justify-end pr-2",children:n.jsx("span",{className:"text-xs font-medium text-white",children:ee.count})})})]},me))})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-2xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 rounded-lg bg-violet-500/20",children:n.jsx(y_,{className:"w-5 h-5 text-violet-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:"User Growth"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Last 6 months"})]})]}),n.jsx("div",{className:"space-y-4",children:(Ve=(qe=r==null?void 0:r.growth)==null?void 0:qe.users)==null?void 0:Ve.map((ee,me)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-slate-400 w-16",children:ee.month}),n.jsx("div",{className:"flex-1 h-8 bg-slate-700/50 rounded-lg overflow-hidden",children:n.jsx(R.div,{initial:{width:0},animate:{width:`${Math.min(ee.count/Math.max(...r.growth.users.map(H=>H.count),1)*100,100)}%`},transition:{delay:me*.1,duration:.5},className:"h-full bg-gradient-to-r from-violet-500 to-fuchsia-500 rounded-lg flex items-center justify-end pr-2",children:n.jsx("span",{className:"text-xs font-medium text-white",children:ee.count})})})]},me))})]}),n.jsxs("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700/50 rounded-2xl p-6 lg:col-span-2",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20",children:n.jsx(On,{className:"w-5 h-5 text-emerald-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:"Recently Registered"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Latest companies on the platform"})]})]})}),n.jsx("div",{className:"space-y-3",children:(st=r==null?void 0:r.recentCompanies)==null?void 0:st.slice(0,5).map((ee,me)=>{var H;return n.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:me*.1},className:"flex items-center justify-between p-4 bg-slate-700/30 rounded-xl hover:bg-slate-700/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-500 flex items-center justify-center text-white font-bold text-lg",children:ee.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:ee.name}),n.jsx("p",{className:"text-sm text-slate-400",children:ee.industry})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-slate-400",children:new Date(ee.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),n.jsxs("p",{className:"text-xs text-slate-500",children:[((H=ee.stats)==null?void 0:H.totalMembers)||0," members"]})]})]},ee.id)})})]})]})]})]})},V3=({children:e})=>localStorage.getItem("superAdminToken")?e:n.jsx(cs,{to:"/admin",replace:!0}),Em=()=>n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-dark-400 font-medium",children:"Loading..."})]})}),Ls=({children:e,allowedRoles:t})=>{const{user:s,isLoading:r}=Nt(),{currentCompany:a,currentRole:i}=rs();if(r)return n.jsx(Em,{});if(!s)return n.jsx(cs,{to:"/login",replace:!0});if(!a)return n.jsx(cs,{to:"/select-role",replace:!0});if(t&&!t.includes(i))switch(i){case"ADMIN":return n.jsx(cs,{to:"/dashboard/admin",replace:!0});case"STAFF":return n.jsx(cs,{to:"/dashboard/staff",replace:!0});case"CUSTOMER":return n.jsx(cs,{to:"/dashboard/customer",replace:!0});default:return n.jsx(cs,{to:"/select-role",replace:!0})}return e},rl=({children:e})=>{const{user:t,isLoading:s}=Nt(),{currentCompany:r,currentRole:a}=rs();if(s)return n.jsx(Em,{});if(t&&r)switch(a){case"ADMIN":return n.jsx(cs,{to:"/dashboard/admin",replace:!0});case"STAFF":return n.jsx(cs,{to:"/dashboard/staff",replace:!0});case"CUSTOMER":return n.jsx(cs,{to:"/dashboard/customer",replace:!0});default:return n.jsx(cs,{to:"/select-role",replace:!0})}return e};function $3(){const{isLoading:e}=Nt();return e?n.jsx(Em,{}):n.jsxs(KN,{children:[n.jsx(Ae,{path:"/",element:n.jsx(rl,{children:n.jsx(L_,{})})}),n.jsxs(Ae,{element:n.jsx(N_,{}),children:[n.jsx(Ae,{path:"/login",element:n.jsx(rl,{children:n.jsx(RA,{})})}),n.jsx(Ae,{path:"/signup",element:n.jsx(rl,{children:n.jsx(DA,{})})}),n.jsx(Ae,{path:"/forgot-password",element:n.jsx(rl,{children:n.jsx(MA,{})})})]}),n.jsx(Ae,{path:"/select-role",element:n.jsx(FA,{})}),n.jsxs(Ae,{element:n.jsx(Ls,{children:n.jsx(R_,{})}),children:[n.jsx(Ae,{path:"/dashboard/admin",element:n.jsx(Ls,{allowedRoles:["ADMIN"],children:n.jsx(r3,{})})}),n.jsx(Ae,{path:"/dashboard/staff",element:n.jsx(Ls,{allowedRoles:["ADMIN","STAFF"],children:n.jsx(n3,{})})}),n.jsx(Ae,{path:"/dashboard/customer",element:n.jsx(Ls,{allowedRoles:["ADMIN","STAFF","CUSTOMER"],children:n.jsx(d3,{})})}),n.jsx(Ae,{path:"/customers",element:n.jsx(Ls,{allowedRoles:["ADMIN"],children:n.jsx(u3,{})})}),n.jsx(Ae,{path:"/customers/:id",element:n.jsx(Ls,{allowedRoles:["ADMIN"],children:n.jsx(h3,{})})}),n.jsx(Ae,{path:"/leads",element:n.jsx(Ls,{allowedRoles:["ADMIN","STAFF"],children:n.jsx(g3,{})})}),n.jsx(Ae,{path:"/leads/:id",element:n.jsx(Ls,{allowedRoles:["ADMIN","STAFF"],children:n.jsx(y3,{})})}),n.jsx(Ae,{path:"/contacts",element:n.jsx(Ls,{allowedRoles:["ADMIN","STAFF"],children:n.jsx(v3,{})})}),n.jsx(Ae,{path:"/tasks",element:n.jsx(b3,{})}),n.jsx(Ae,{path:"/notes",element:n.jsx(j3,{})}),n.jsx(Ae,{path:"/activities",element:n.jsx(w3,{})}),n.jsx(Ae,{path:"/issues",element:n.jsx(k3,{})}),n.jsx(Ae,{path:"/pipeline",element:n.jsx(Ls,{allowedRoles:["ADMIN","STAFF"],children:n.jsx(T3,{})})}),n.jsx(Ae,{path:"/email",element:n.jsx(P3,{})}),n.jsx(Ae,{path:"/settings",element:n.jsx(L3,{})}),n.jsx(Ae,{path:"/profile",element:n.jsx(O3,{})})]}),n.jsx(Ae,{path:"/admin",element:n.jsx(M3,{})}),n.jsx(Ae,{path:"/admin/dashboard",element:n.jsx(V3,{children:n.jsx(F3,{})})}),n.jsx(Ae,{path:"*",element:n.jsx(cs,{to:"/",replace:!0})})]})}const B3="";ou.createRoot(document.getElementById("root")).render(n.jsx(nt.StrictMode,{children:n.jsx(X2,{clientId:B3,children:n.jsx(r2,{children:n.jsx(YT,{children:n.jsx(LS,{children:n.jsx(DS,{children:n.jsx(t3,{children:n.jsxs(S_,{children:[n.jsx($3,{}),n.jsx(a3,{}),n.jsx(o3,{}),n.jsx(l3,{}),n.jsx(Q2,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg)",color:"var(--toast-color)",border:"1px solid var(--toast-border)"}}})]})})})})})})})}));
